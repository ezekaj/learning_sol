var bT=Object.defineProperty;var bh=s=>{throw TypeError(s)};var _T=(s,e,t)=>e in s?bT(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Pe=(s,e,t)=>_T(s,typeof e!="symbol"?e+"":e,t),ET=(s,e,t)=>e.has(s)||bh("Cannot "+t);var _h=(s,e,t)=>e.has(s)?bh("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t);var ba=(s,e,t)=>(ET(s,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function t(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=t(l);fetch(l.href,u)}})();function pg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Bu={exports:{}},_a={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh;function wT(){if(Eh)return _a;Eh=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(o,l,u){var p=null;if(u!==void 0&&(p=""+u),l.key!==void 0&&(p=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:s,type:o,key:p,ref:l!==void 0?l:null,props:u}}return _a.Fragment=e,_a.jsx=t,_a.jsxs=t,_a}var wh;function AT(){return wh||(wh=1,Bu.exports=wT()),Bu.exports}var A=AT(),Gu={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah;function MT(){if(Ah)return pe;Ah=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),p=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function S(_){return _===null||typeof _!="object"?null:(_=x&&_[x]||_["@@iterator"],typeof _=="function"?_:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,L={};function P(_,z,X){this.props=_,this.context=z,this.refs=L,this.updater=X||w}P.prototype.isReactComponent={},P.prototype.setState=function(_,z){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,z,"setState")},P.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function H(){}H.prototype=P.prototype;function K(_,z,X){this.props=_,this.context=z,this.refs=L,this.updater=X||w}var Y=K.prototype=new H;Y.constructor=K,R(Y,P.prototype),Y.isPureReactComponent=!0;var J=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function de(_,z,X,Z,ne,we){return X=we.ref,{$$typeof:s,type:_,key:z,ref:X!==void 0?X:null,props:we}}function xe(_,z){return de(_.type,z,void 0,void 0,void 0,_.props)}function ae(_){return typeof _=="object"&&_!==null&&_.$$typeof===s}function me(_){var z={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(X){return z[X]})}var Ge=/\/+/g;function $e(_,z){return typeof _=="object"&&_!==null&&_.key!=null?me(""+_.key):z.toString(36)}function yt(){}function Se(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(yt,yt):(_.status="pending",_.then(function(z){_.status==="pending"&&(_.status="fulfilled",_.value=z)},function(z){_.status==="pending"&&(_.status="rejected",_.reason=z)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function _e(_,z,X,Z,ne){var we=typeof _;(we==="undefined"||we==="boolean")&&(_=null);var fe=!1;if(_===null)fe=!0;else switch(we){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(_.$$typeof){case s:case e:fe=!0;break;case v:return fe=_._init,_e(fe(_._payload),z,X,Z,ne)}}if(fe)return ne=ne(_),fe=Z===""?"."+$e(_,0):Z,J(ne)?(X="",fe!=null&&(X=fe.replace(Ge,"$&/")+"/"),_e(ne,z,X,"",function(_n){return _n})):ne!=null&&(ae(ne)&&(ne=xe(ne,X+(ne.key==null||_&&_.key===ne.key?"":(""+ne.key).replace(Ge,"$&/")+"/")+fe)),z.push(ne)),1;fe=0;var bt=Z===""?".":Z+":";if(J(_))for(var Fe=0;Fe<_.length;Fe++)Z=_[Fe],we=bt+$e(Z,Fe),fe+=_e(Z,z,X,we,ne);else if(Fe=S(_),typeof Fe=="function")for(_=Fe.call(_),Fe=0;!(Z=_.next()).done;)Z=Z.value,we=bt+$e(Z,Fe++),fe+=_e(Z,z,X,we,ne);else if(we==="object"){if(typeof _.then=="function")return _e(Se(_),z,X,Z,ne);throw z=String(_),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return fe}function U(_,z,X){if(_==null)return _;var Z=[],ne=0;return _e(_,Z,"","",function(we){return z.call(X,we,ne++)}),Z}function G(_){if(_._status===-1){var z=_._result;z=z(),z.then(function(X){(_._status===0||_._status===-1)&&(_._status=1,_._result=X)},function(X){(_._status===0||_._status===-1)&&(_._status=2,_._result=X)}),_._status===-1&&(_._status=0,_._result=z)}if(_._status===1)return _._result.default;throw _._result}var te=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function Ee(){}return pe.Children={map:U,forEach:function(_,z,X){U(_,function(){z.apply(this,arguments)},X)},count:function(_){var z=0;return U(_,function(){z++}),z},toArray:function(_){return U(_,function(z){return z})||[]},only:function(_){if(!ae(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},pe.Component=P,pe.Fragment=t,pe.Profiler=l,pe.PureComponent=K,pe.StrictMode=o,pe.Suspense=y,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,pe.__COMPILER_RUNTIME={__proto__:null,c:function(_){return F.H.useMemoCache(_)}},pe.cache=function(_){return function(){return _.apply(null,arguments)}},pe.cloneElement=function(_,z,X){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var Z=R({},_.props),ne=_.key,we=void 0;if(z!=null)for(fe in z.ref!==void 0&&(we=void 0),z.key!==void 0&&(ne=""+z.key),z)!oe.call(z,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&z.ref===void 0||(Z[fe]=z[fe]);var fe=arguments.length-2;if(fe===1)Z.children=X;else if(1<fe){for(var bt=Array(fe),Fe=0;Fe<fe;Fe++)bt[Fe]=arguments[Fe+2];Z.children=bt}return de(_.type,ne,void 0,void 0,we,Z)},pe.createContext=function(_){return _={$$typeof:p,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:u,_context:_},_},pe.createElement=function(_,z,X){var Z,ne={},we=null;if(z!=null)for(Z in z.key!==void 0&&(we=""+z.key),z)oe.call(z,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ne[Z]=z[Z]);var fe=arguments.length-2;if(fe===1)ne.children=X;else if(1<fe){for(var bt=Array(fe),Fe=0;Fe<fe;Fe++)bt[Fe]=arguments[Fe+2];ne.children=bt}if(_&&_.defaultProps)for(Z in fe=_.defaultProps,fe)ne[Z]===void 0&&(ne[Z]=fe[Z]);return de(_,we,void 0,void 0,null,ne)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(_){return{$$typeof:h,render:_}},pe.isValidElement=ae,pe.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:G}},pe.memo=function(_,z){return{$$typeof:g,type:_,compare:z===void 0?null:z}},pe.startTransition=function(_){var z=F.T,X={};F.T=X;try{var Z=_(),ne=F.S;ne!==null&&ne(X,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Ee,te)}catch(we){te(we)}finally{F.T=z}},pe.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},pe.use=function(_){return F.H.use(_)},pe.useActionState=function(_,z,X){return F.H.useActionState(_,z,X)},pe.useCallback=function(_,z){return F.H.useCallback(_,z)},pe.useContext=function(_){return F.H.useContext(_)},pe.useDebugValue=function(){},pe.useDeferredValue=function(_,z){return F.H.useDeferredValue(_,z)},pe.useEffect=function(_,z,X){var Z=F.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(_,z)},pe.useId=function(){return F.H.useId()},pe.useImperativeHandle=function(_,z,X){return F.H.useImperativeHandle(_,z,X)},pe.useInsertionEffect=function(_,z){return F.H.useInsertionEffect(_,z)},pe.useLayoutEffect=function(_,z){return F.H.useLayoutEffect(_,z)},pe.useMemo=function(_,z){return F.H.useMemo(_,z)},pe.useOptimistic=function(_,z){return F.H.useOptimistic(_,z)},pe.useReducer=function(_,z,X){return F.H.useReducer(_,z,X)},pe.useRef=function(_){return F.H.useRef(_)},pe.useState=function(_){return F.H.useState(_)},pe.useSyncExternalStore=function(_,z,X){return F.H.useSyncExternalStore(_,z,X)},pe.useTransition=function(){return F.H.useTransition()},pe.version="19.1.0",pe}var Mh;function gc(){return Mh||(Mh=1,Gu.exports=MT()),Gu.exports}var Me=gc();const RT=pg(Me);var Hu={exports:{}},Ea={},Fu={exports:{}},Yu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh;function kT(){return Rh||(Rh=1,function(s){function e(U,G){var te=U.length;U.push(G);e:for(;0<te;){var Ee=te-1>>>1,_=U[Ee];if(0<l(_,G))U[Ee]=G,U[te]=_,te=Ee;else break e}}function t(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var G=U[0],te=U.pop();if(te!==G){U[0]=te;e:for(var Ee=0,_=U.length,z=_>>>1;Ee<z;){var X=2*(Ee+1)-1,Z=U[X],ne=X+1,we=U[ne];if(0>l(Z,te))ne<_&&0>l(we,Z)?(U[Ee]=we,U[ne]=te,Ee=ne):(U[Ee]=Z,U[X]=te,Ee=X);else if(ne<_&&0>l(we,te))U[Ee]=we,U[ne]=te,Ee=ne;else break e}}return G}function l(U,G){var te=U.sortIndex-G.sortIndex;return te!==0?te:U.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var p=Date,h=p.now();s.unstable_now=function(){return p.now()-h}}var y=[],g=[],v=1,x=null,S=3,w=!1,R=!1,L=!1,P=!1,H=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function J(U){for(var G=t(g);G!==null;){if(G.callback===null)o(g);else if(G.startTime<=U)o(g),G.sortIndex=G.expirationTime,e(y,G);else break;G=t(g)}}function F(U){if(L=!1,J(U),!R)if(t(y)!==null)R=!0,oe||(oe=!0,$e());else{var G=t(g);G!==null&&_e(F,G.startTime-U)}}var oe=!1,de=-1,xe=5,ae=-1;function me(){return P?!0:!(s.unstable_now()-ae<xe)}function Ge(){if(P=!1,oe){var U=s.unstable_now();ae=U;var G=!0;try{e:{R=!1,L&&(L=!1,K(de),de=-1),w=!0;var te=S;try{t:{for(J(U),x=t(y);x!==null&&!(x.expirationTime>U&&me());){var Ee=x.callback;if(typeof Ee=="function"){x.callback=null,S=x.priorityLevel;var _=Ee(x.expirationTime<=U);if(U=s.unstable_now(),typeof _=="function"){x.callback=_,J(U),G=!0;break t}x===t(y)&&o(y),J(U)}else o(y);x=t(y)}if(x!==null)G=!0;else{var z=t(g);z!==null&&_e(F,z.startTime-U),G=!1}}break e}finally{x=null,S=te,w=!1}G=void 0}}finally{G?$e():oe=!1}}}var $e;if(typeof Y=="function")$e=function(){Y(Ge)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,Se=yt.port2;yt.port1.onmessage=Ge,$e=function(){Se.postMessage(null)}}else $e=function(){H(Ge,0)};function _e(U,G){de=H(function(){U(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(U){switch(S){case 1:case 2:case 3:var G=3;break;default:G=S}var te=S;S=G;try{return U()}finally{S=te}},s.unstable_requestPaint=function(){P=!0},s.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=S;S=U;try{return G()}finally{S=te}},s.unstable_scheduleCallback=function(U,G,te){var Ee=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ee+te:Ee):te=Ee,U){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=te+_,U={id:v++,callback:G,priorityLevel:U,startTime:te,expirationTime:_,sortIndex:-1},te>Ee?(U.sortIndex=te,e(g,U),t(y)===null&&U===t(g)&&(L?(K(de),de=-1):L=!0,_e(F,te-Ee))):(U.sortIndex=_,e(y,U),R||w||(R=!0,oe||(oe=!0,$e()))),U},s.unstable_shouldYield=me,s.unstable_wrapCallback=function(U){var G=S;return function(){var te=S;S=G;try{return U.apply(this,arguments)}finally{S=te}}}}(Yu)),Yu}var kh;function DT(){return kh||(kh=1,Fu.exports=kT()),Fu.exports}var Zu={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh;function NT(){if(Dh)return dt;Dh=1;var s=gc();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var o={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,g,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:y,containerInfo:g,implementation:v}}var p=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,dt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,v)},dt.flushSync=function(y){var g=p.T,v=o.p;try{if(p.T=null,o.p=2,y)return y()}finally{p.T=g,o.p=v,o.d.f()}},dt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(y,g))},dt.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},dt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,x=h(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?o.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:w}):v==="script"&&o.d.X(y,{crossOrigin:x,integrity:S,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);o.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(y)},dt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,x=h(v,g.crossOrigin);o.d.L(y,v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=h(g.as,g.crossOrigin);o.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(y)},dt.requestFormReset=function(y){o.d.r(y)},dt.unstable_batchedUpdates=function(y,g){return y(g)},dt.useFormState=function(y,g,v){return p.H.useFormState(y,g,v)},dt.useFormStatus=function(){return p.H.useHostTransitionStatus()},dt.version="19.1.0",dt}var Nh;function IT(){if(Nh)return Zu.exports;Nh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Zu.exports=NT(),Zu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih;function UT(){if(Ih)return Ea;Ih=1;var s=DT(),e=gc(),t=IT();function o(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function p(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(u(n)!==n)throw Error(o(188))}function y(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(o(188));return i!==n?null:n}for(var a=n,r=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(r=d.return,r!==null){a=r;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return h(d),n;if(m===r)return h(d),i;m=m.sibling}throw Error(o(188))}if(a.return!==r.return)a=d,r=m;else{for(var T=!1,C=d.child;C;){if(C===a){T=!0,a=d,r=m;break}if(C===r){T=!0,r=d,a=m;break}C=C.sibling}if(!T){for(C=m.child;C;){if(C===a){T=!0,a=m,r=d;break}if(C===r){T=!0,r=m,a=d;break}C=C.sibling}if(!T)throw Error(o(189))}}if(a.alternate!==r)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),Ge=Symbol.iterator;function $e(n){return n===null||typeof n!="object"?null:(n=Ge&&n[Ge]||n["@@iterator"],typeof n=="function"?n:null)}var yt=Symbol.for("react.client.reference");function Se(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===yt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case P:return"Profiler";case L:return"StrictMode";case F:return"Suspense";case oe:return"SuspenseList";case ae:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case Y:return(n.displayName||"Context")+".Provider";case K:return(n._context.displayName||"Context")+".Consumer";case J:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case de:return i=n.displayName||null,i!==null?i:Se(n.type)||"Memo";case xe:i=n._payload,n=n._init;try{return Se(n(i))}catch{}}return null}var _e=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ee=[],_=-1;function z(n){return{current:n}}function X(n){0>_||(n.current=Ee[_],Ee[_]=null,_--)}function Z(n,i){_++,Ee[_]=n.current,n.current=i}var ne=z(null),we=z(null),fe=z(null),bt=z(null);function Fe(n,i){switch(Z(fe,i),Z(we,n),Z(ne,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Qp(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Qp(i),n=Wp(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}X(ne),Z(ne,n)}function _n(){X(ne),X(we),X(fe)}function ws(n){n.memoizedState!==null&&Z(bt,n);var i=ne.current,a=Wp(i,n.type);i!==a&&(Z(we,n),Z(ne,a))}function za(n){we.current===n&&(X(ne),X(we)),bt.current===n&&(X(bt),va._currentValue=te)}var As=Object.prototype.hasOwnProperty,Ms=s.unstable_scheduleCallback,Rs=s.unstable_cancelCallback,ty=s.unstable_shouldYield,ny=s.unstable_requestPaint,Kt=s.unstable_now,iy=s.unstable_getCurrentPriorityLevel,kc=s.unstable_ImmediatePriority,Dc=s.unstable_UserBlockingPriority,Pa=s.unstable_NormalPriority,oy=s.unstable_LowPriority,Nc=s.unstable_IdlePriority,ay=s.log,ly=s.unstable_setDisableYieldValue,wo=null,_t=null;function En(n){if(typeof ay=="function"&&ly(n),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(wo,n)}catch{}}var Et=Math.clz32?Math.clz32:uy,sy=Math.log,ry=Math.LN2;function uy(n){return n>>>=0,n===0?32:31-(sy(n)/ry|0)|0}var Ba=256,Ga=4194304;function ei(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ha(n,i,a){var r=n.pendingLanes;if(r===0)return 0;var d=0,m=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var C=r&134217727;return C!==0?(r=C&~m,r!==0?d=ei(r):(T&=C,T!==0?d=ei(T):a||(a=C&~n,a!==0&&(d=ei(a))))):(C=r&~m,C!==0?d=ei(C):T!==0?d=ei(T):a||(a=r&~n,a!==0&&(d=ei(a)))),d===0?0:i!==0&&i!==d&&(i&m)===0&&(m=d&-d,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:d}function Ao(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function cy(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ic(){var n=Ba;return Ba<<=1,(Ba&4194048)===0&&(Ba=256),n}function Uc(){var n=Ga;return Ga<<=1,(Ga&62914560)===0&&(Ga=4194304),n}function ks(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Mo(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function fy(n,i,a,r,d,m){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var C=n.entanglements,b=n.expirationTimes,D=n.hiddenUpdates;for(a=T&~a;0<a;){var q=31-Et(a),O=1<<q;C[q]=0,b[q]=-1;var N=D[q];if(N!==null)for(D[q]=null,q=0;q<N.length;q++){var I=N[q];I!==null&&(I.lane&=-536870913)}a&=~O}r!==0&&Lc(n,r,0),m!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~i))}function Lc(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var r=31-Et(i);n.entangledLanes|=i,n.entanglements[r]=n.entanglements[r]|1073741824|a&4194090}function qc(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var r=31-Et(a),d=1<<r;d&i|n[r]&i&&(n[r]|=i),a&=~d}}function Ds(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ns(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Vc(){var n=G.p;return n!==0?n:(n=window.event,n===void 0?32:yh(n.type))}function dy(n,i){var a=G.p;try{return G.p=n,i()}finally{G.p=a}}var wn=Math.random().toString(36).slice(2),ct="__reactFiber$"+wn,vt="__reactProps$"+wn,_i="__reactContainer$"+wn,Is="__reactEvents$"+wn,py="__reactListeners$"+wn,hy="__reactHandles$"+wn,Oc="__reactResources$"+wn,Ro="__reactMarker$"+wn;function Us(n){delete n[ct],delete n[vt],delete n[Is],delete n[py],delete n[hy]}function Ei(n){var i=n[ct];if(i)return i;for(var a=n.parentNode;a;){if(i=a[_i]||a[ct]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=nh(n);n!==null;){if(a=n[ct])return a;n=nh(n)}return i}n=a,a=n.parentNode}return null}function wi(n){if(n=n[ct]||n[_i]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function ko(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(o(33))}function Ai(n){var i=n[Oc];return i||(i=n[Oc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function it(n){n[Ro]=!0}var zc=new Set,Pc={};function ti(n,i){Mi(n,i),Mi(n+"Capture",i)}function Mi(n,i){for(Pc[n]=i,n=0;n<i.length;n++)zc.add(i[n])}var my=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bc={},Gc={};function gy(n){return As.call(Gc,n)?!0:As.call(Bc,n)?!1:my.test(n)?Gc[n]=!0:(Bc[n]=!0,!1)}function Fa(n,i,a){if(gy(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Ya(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function sn(n,i,a,r){if(r===null)n.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+r)}}var Ls,Hc;function Ri(n){if(Ls===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ls=i&&i[1]||"",Hc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ls+n+Hc}var qs=!1;function Vs(n,i){if(!n||qs)return"";qs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(I){var N=I}Reflect.construct(n,[],O)}else{try{O.call()}catch(I){N=I}n.call(O.prototype)}}else{try{throw Error()}catch(I){N=I}(O=n())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(I){if(I&&N&&typeof I.stack=="string")return[I.stack,N.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=r.DetermineComponentFrameRoot(),T=m[0],C=m[1];if(T&&C){var b=T.split(`
`),D=C.split(`
`);for(d=r=0;r<b.length&&!b[r].includes("DetermineComponentFrameRoot");)r++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(r===b.length||d===D.length)for(r=b.length-1,d=D.length-1;1<=r&&0<=d&&b[r]!==D[d];)d--;for(;1<=r&&0<=d;r--,d--)if(b[r]!==D[d]){if(r!==1||d!==1)do if(r--,d--,0>d||b[r]!==D[d]){var q=`
`+b[r].replace(" at new "," at ");return n.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",n.displayName)),q}while(1<=r&&0<=d);break}}}finally{qs=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ri(a):""}function yy(n){switch(n.tag){case 26:case 27:case 5:return Ri(n.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return Vs(n.type,!1);case 11:return Vs(n.type.render,!1);case 1:return Vs(n.type,!0);case 31:return Ri("Activity");default:return""}}function Fc(n){try{var i="";do i+=yy(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ut(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Yc(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function vy(n){var i=Yc(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),r=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){r=""+T,m.call(this,T)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Za(n){n._valueTracker||(n._valueTracker=vy(n))}function Zc(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),r="";return n&&(r=Yc(n)?n.checked?"true":"false":n.value),n=r,n!==a?(i.setValue(n),!0):!1}function $a(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ty=/[\n"\\]/g;function Lt(n){return n.replace(Ty,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Os(n,i,a,r,d,m,T,C){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),i!=null?T==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Ut(i)):n.value!==""+Ut(i)&&(n.value=""+Ut(i)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),i!=null?zs(n,T,Ut(i)):a!=null?zs(n,T,Ut(a)):r!=null&&n.removeAttribute("value"),d==null&&m!=null&&(n.defaultChecked=!!m),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Ut(C):n.removeAttribute("name")}function $c(n,i,a,r,d,m,T,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+Ut(a):"",i=i!=null?""+Ut(i):a,C||i===n.value||(n.value=i),n.defaultValue=i}r=r??d,r=typeof r!="function"&&typeof r!="symbol"&&!!r,n.checked=C?n.checked:!!r,n.defaultChecked=!!r,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function zs(n,i,a){i==="number"&&$a(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ki(n,i,a,r){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&r&&(n[a].defaultSelected=!0)}else{for(a=""+Ut(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,r&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function Kc(n,i,a){if(i!=null&&(i=""+Ut(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Ut(a):""}function Xc(n,i,a,r){if(i==null){if(r!=null){if(a!=null)throw Error(o(92));if(_e(r)){if(1<r.length)throw Error(o(93));r=r[0]}a=r}a==null&&(a=""),i=a}a=Ut(i),n.defaultValue=a,r=n.textContent,r===a&&r!==""&&r!==null&&(n.value=r)}function Di(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var xy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jc(n,i,a){var r=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":r?n.setProperty(i,a):typeof a!="number"||a===0||xy.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Qc(n,i,a){if(i!=null&&typeof i!="object")throw Error(o(62));if(n=n.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="");for(var d in i)r=i[d],i.hasOwnProperty(d)&&a[d]!==r&&Jc(n,d,r)}else for(var m in i)i.hasOwnProperty(m)&&Jc(n,m,i[m])}function Ps(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(n){return Sy.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Bs=null;function Gs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ni=null,Ii=null;function Wc(n){var i=wi(n);if(i&&(n=i.stateNode)){var a=n[vt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Os(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Lt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var r=a[i];if(r!==n&&r.form===n.form){var d=r[vt]||null;if(!d)throw Error(o(90));Os(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)r=a[i],r.form===n.form&&Zc(r)}break e;case"textarea":Kc(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ki(n,!!a.multiple,i,!1)}}}var Hs=!1;function jc(n,i,a){if(Hs)return n(i,a);Hs=!0;try{var r=n(i);return r}finally{if(Hs=!1,(Ni!==null||Ii!==null)&&(Il(),Ni&&(i=Ni,n=Ii,Ii=Ni=null,Wc(i),n)))for(i=0;i<n.length;i++)Wc(n[i])}}function Do(n,i){var a=n.stateNode;if(a===null)return null;var r=a[vt]||null;if(r===null)return null;a=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(o(231,i,typeof a));return a}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fs=!1;if(rn)try{var No={};Object.defineProperty(No,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{Fs=!1}var An=null,Ys=null,Xa=null;function ef(){if(Xa)return Xa;var n,i=Ys,a=i.length,r,d="value"in An?An.value:An.textContent,m=d.length;for(n=0;n<a&&i[n]===d[n];n++);var T=a-n;for(r=1;r<=T&&i[a-r]===d[m-r];r++);return Xa=d.slice(n,1<r?1-r:void 0)}function Ja(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Qa(){return!0}function tf(){return!1}function Tt(n){function i(a,r,d,m,T){this._reactName=a,this._targetInst=d,this.type=r,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Qa:tf,this.isPropagationStopped=tf,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),i}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=Tt(ni),Io=v({},ni,{view:0,detail:0}),by=Tt(Io),Zs,$s,Uo,ja=v({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Uo&&(Uo&&n.type==="mousemove"?(Zs=n.screenX-Uo.screenX,$s=n.screenY-Uo.screenY):$s=Zs=0,Uo=n),Zs)},movementY:function(n){return"movementY"in n?n.movementY:$s}}),nf=Tt(ja),_y=v({},ja,{dataTransfer:0}),Ey=Tt(_y),wy=v({},Io,{relatedTarget:0}),Ks=Tt(wy),Ay=v({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),My=Tt(Ay),Ry=v({},ni,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ky=Tt(Ry),Dy=v({},ni,{data:0}),of=Tt(Dy),Ny={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ly(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Uy[n])?!!i[n]:!1}function Xs(){return Ly}var qy=v({},Io,{key:function(n){if(n.key){var i=Ny[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Ja(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Iy[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(n){return n.type==="keypress"?Ja(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ja(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Vy=Tt(qy),Oy=v({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),af=Tt(Oy),zy=v({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),Py=Tt(zy),By=v({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gy=Tt(By),Hy=v({},ja,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Fy=Tt(Hy),Yy=v({},ni,{newState:0,oldState:0}),Zy=Tt(Yy),$y=[9,13,27,32],Js=rn&&"CompositionEvent"in window,Lo=null;rn&&"documentMode"in document&&(Lo=document.documentMode);var Ky=rn&&"TextEvent"in window&&!Lo,lf=rn&&(!Js||Lo&&8<Lo&&11>=Lo),sf=" ",rf=!1;function uf(n,i){switch(n){case"keyup":return $y.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ui=!1;function Xy(n,i){switch(n){case"compositionend":return cf(i);case"keypress":return i.which!==32?null:(rf=!0,sf);case"textInput":return n=i.data,n===sf&&rf?null:n;default:return null}}function Jy(n,i){if(Ui)return n==="compositionend"||!Js&&uf(n,i)?(n=ef(),Xa=Ys=An=null,Ui=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return lf&&i.locale!=="ko"?null:i.data;default:return null}}var Qy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ff(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Qy[n.type]:i==="textarea"}function df(n,i,a,r){Ni?Ii?Ii.push(r):Ii=[r]:Ni=r,i=zl(i,"onChange"),0<i.length&&(a=new Wa("onChange","change",null,a,r),n.push({event:a,listeners:i}))}var qo=null,Vo=null;function Wy(n){Zp(n,0)}function el(n){var i=ko(n);if(Zc(i))return n}function pf(n,i){if(n==="change")return i}var hf=!1;if(rn){var Qs;if(rn){var Ws="oninput"in document;if(!Ws){var mf=document.createElement("div");mf.setAttribute("oninput","return;"),Ws=typeof mf.oninput=="function"}Qs=Ws}else Qs=!1;hf=Qs&&(!document.documentMode||9<document.documentMode)}function gf(){qo&&(qo.detachEvent("onpropertychange",yf),Vo=qo=null)}function yf(n){if(n.propertyName==="value"&&el(Vo)){var i=[];df(i,Vo,n,Gs(n)),jc(Wy,i)}}function jy(n,i,a){n==="focusin"?(gf(),qo=i,Vo=a,qo.attachEvent("onpropertychange",yf)):n==="focusout"&&gf()}function ev(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return el(Vo)}function tv(n,i){if(n==="click")return el(i)}function nv(n,i){if(n==="input"||n==="change")return el(i)}function iv(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var wt=typeof Object.is=="function"?Object.is:iv;function Oo(n,i){if(wt(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),r=Object.keys(i);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var d=a[r];if(!As.call(i,d)||!wt(n[d],i[d]))return!1}return!0}function vf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Tf(n,i){var a=vf(n);n=0;for(var r;a;){if(a.nodeType===3){if(r=n+a.textContent.length,n<=i&&r>=i)return{node:a,offset:i-n};n=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vf(a)}}function xf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?xf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Cf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=$a(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=$a(n.document)}return i}function js(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var ov=rn&&"documentMode"in document&&11>=document.documentMode,Li=null,er=null,zo=null,tr=!1;function Sf(n,i,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tr||Li==null||Li!==$a(r)||(r=Li,"selectionStart"in r&&js(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zo&&Oo(zo,r)||(zo=r,r=zl(er,"onSelect"),0<r.length&&(i=new Wa("onSelect","select",null,i,a),n.push({event:i,listeners:r}),i.target=Li)))}function ii(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var qi={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionrun:ii("Transition","TransitionRun"),transitionstart:ii("Transition","TransitionStart"),transitioncancel:ii("Transition","TransitionCancel"),transitionend:ii("Transition","TransitionEnd")},nr={},bf={};rn&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function oi(n){if(nr[n])return nr[n];if(!qi[n])return n;var i=qi[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in bf)return nr[n]=i[a];return n}var _f=oi("animationend"),Ef=oi("animationiteration"),wf=oi("animationstart"),av=oi("transitionrun"),lv=oi("transitionstart"),sv=oi("transitioncancel"),Af=oi("transitionend"),Mf=new Map,ir="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ir.push("scrollEnd");function Ft(n,i){Mf.set(n,i),ti(i,[n])}var Rf=new WeakMap;function qt(n,i){if(typeof n=="object"&&n!==null){var a=Rf.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Fc(i)},Rf.set(n,i),i)}return{value:n,source:i,stack:Fc(i)}}var Vt=[],Vi=0,or=0;function tl(){for(var n=Vi,i=or=Vi=0;i<n;){var a=Vt[i];Vt[i++]=null;var r=Vt[i];Vt[i++]=null;var d=Vt[i];Vt[i++]=null;var m=Vt[i];if(Vt[i++]=null,r!==null&&d!==null){var T=r.pending;T===null?d.next=d:(d.next=T.next,T.next=d),r.pending=d}m!==0&&kf(a,d,m)}}function nl(n,i,a,r){Vt[Vi++]=n,Vt[Vi++]=i,Vt[Vi++]=a,Vt[Vi++]=r,or|=r,n.lanes|=r,n=n.alternate,n!==null&&(n.lanes|=r)}function ar(n,i,a,r){return nl(n,i,a,r),il(n)}function Oi(n,i){return nl(n,null,null,i),il(n)}function kf(n,i,a){n.lanes|=a;var r=n.alternate;r!==null&&(r.lanes|=a);for(var d=!1,m=n.return;m!==null;)m.childLanes|=a,r=m.alternate,r!==null&&(r.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(d=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,d&&i!==null&&(d=31-Et(a),n=m.hiddenUpdates,r=n[d],r===null?n[d]=[i]:r.push(i),i.lane=a|536870912),m):null}function il(n){if(50<ca)throw ca=0,fu=null,Error(o(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var zi={};function rv(n,i,a,r){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(n,i,a,r){return new rv(n,i,a,r)}function lr(n){return n=n.prototype,!(!n||!n.isReactComponent)}function un(n,i){var a=n.alternate;return a===null?(a=At(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Df(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function ol(n,i,a,r,d,m){var T=0;if(r=n,typeof n=="function")lr(n)&&(T=1);else if(typeof n=="string")T=cT(n,a,ne.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ae:return n=At(31,a,i,d),n.elementType=ae,n.lanes=m,n;case R:return ai(a.children,d,m,i);case L:T=8,d|=24;break;case P:return n=At(12,a,i,d|2),n.elementType=P,n.lanes=m,n;case F:return n=At(13,a,i,d),n.elementType=F,n.lanes=m,n;case oe:return n=At(19,a,i,d),n.elementType=oe,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case H:case Y:T=10;break e;case K:T=9;break e;case J:T=11;break e;case de:T=14;break e;case xe:T=16,r=null;break e}T=29,a=Error(o(130,n===null?"null":typeof n,"")),r=null}return i=At(T,a,i,d),i.elementType=n,i.type=r,i.lanes=m,i}function ai(n,i,a,r){return n=At(7,n,r,i),n.lanes=a,n}function sr(n,i,a){return n=At(6,n,null,i),n.lanes=a,n}function rr(n,i,a){return i=At(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Pi=[],Bi=0,al=null,ll=0,Ot=[],zt=0,li=null,cn=1,fn="";function si(n,i){Pi[Bi++]=ll,Pi[Bi++]=al,al=n,ll=i}function Nf(n,i,a){Ot[zt++]=cn,Ot[zt++]=fn,Ot[zt++]=li,li=n;var r=cn;n=fn;var d=32-Et(r)-1;r&=~(1<<d),a+=1;var m=32-Et(i)+d;if(30<m){var T=d-d%5;m=(r&(1<<T)-1).toString(32),r>>=T,d-=T,cn=1<<32-Et(i)+d|a<<d|r,fn=m+n}else cn=1<<m|a<<d|r,fn=n}function ur(n){n.return!==null&&(si(n,1),Nf(n,1,0))}function cr(n){for(;n===al;)al=Pi[--Bi],Pi[Bi]=null,ll=Pi[--Bi],Pi[Bi]=null;for(;n===li;)li=Ot[--zt],Ot[zt]=null,fn=Ot[--zt],Ot[zt]=null,cn=Ot[--zt],Ot[zt]=null}var ht=null,Ke=null,ke=!1,ri=null,Xt=!1,fr=Error(o(519));function ui(n){var i=Error(o(418,""));throw Go(qt(i,n)),fr}function If(n){var i=n.stateNode,a=n.type,r=n.memoizedProps;switch(i[ct]=n,i[vt]=r,a){case"dialog":Te("cancel",i),Te("close",i);break;case"iframe":case"object":case"embed":Te("load",i);break;case"video":case"audio":for(a=0;a<da.length;a++)Te(da[a],i);break;case"source":Te("error",i);break;case"img":case"image":case"link":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"input":Te("invalid",i),$c(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Za(i);break;case"select":Te("invalid",i);break;case"textarea":Te("invalid",i),Xc(i,r.value,r.defaultValue,r.children),Za(i)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||r.suppressHydrationWarning===!0||Jp(i.textContent,a)?(r.popover!=null&&(Te("beforetoggle",i),Te("toggle",i)),r.onScroll!=null&&Te("scroll",i),r.onScrollEnd!=null&&Te("scrollend",i),r.onClick!=null&&(i.onclick=Pl),i=!0):i=!1,i||ui(n)}function Uf(n){for(ht=n.return;ht;)switch(ht.tag){case 5:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:ht=ht.return}}function Po(n){if(n!==ht)return!1;if(!ke)return Uf(n),ke=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Au(n.type,n.memoizedProps)),a=!a),a&&Ke&&ui(n),Uf(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Ke=Zt(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Ke=null}}else i===27?(i=Ke,Hn(n.type)?(n=Du,Du=null,Ke=n):Ke=i):Ke=ht?Zt(n.stateNode.nextSibling):null;return!0}function Bo(){Ke=ht=null,ke=!1}function Lf(){var n=ri;return n!==null&&(St===null?St=n:St.push.apply(St,n),ri=null),n}function Go(n){ri===null?ri=[n]:ri.push(n)}var dr=z(null),ci=null,dn=null;function Mn(n,i,a){Z(dr,i._currentValue),i._currentValue=a}function pn(n){n._currentValue=dr.current,X(dr)}function pr(n,i,a){for(;n!==null;){var r=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),n===a)break;n=n.return}}function hr(n,i,a,r){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){var T=d.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=d;for(var b=0;b<i.length;b++)if(C.context===i[b]){m.lanes|=a,C=m.alternate,C!==null&&(C.lanes|=a),pr(m.return,a,n),r||(T=null);break e}m=C.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(o(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),pr(T,a,n),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===n){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Ho(n,i,a,r){n=null;for(var d=i,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(o(387));if(T=T.memoizedProps,T!==null){var C=d.type;wt(d.pendingProps.value,T.value)||(n!==null?n.push(C):n=[C])}}else if(d===bt.current){if(T=d.alternate,T===null)throw Error(o(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(va):n=[va])}d=d.return}n!==null&&hr(i,n,a,r),i.flags|=262144}function sl(n){for(n=n.firstContext;n!==null;){if(!wt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function fi(n){ci=n,dn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ft(n){return qf(ci,n)}function rl(n,i){return ci===null&&fi(n),qf(n,i)}function qf(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},dn===null){if(n===null)throw Error(o(308));dn=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else dn=dn.next=i;return a}var uv=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,r){n.push(r)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},cv=s.unstable_scheduleCallback,fv=s.unstable_NormalPriority,tt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mr(){return{controller:new uv,data:new Map,refCount:0}}function Fo(n){n.refCount--,n.refCount===0&&cv(fv,function(){n.controller.abort()})}var Yo=null,gr=0,Gi=0,Hi=null;function dv(n,i){if(Yo===null){var a=Yo=[];gr=0,Gi=vu(),Hi={status:"pending",value:void 0,then:function(r){a.push(r)}}}return gr++,i.then(Vf,Vf),i}function Vf(){if(--gr===0&&Yo!==null){Hi!==null&&(Hi.status="fulfilled");var n=Yo;Yo=null,Gi=0,Hi=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function pv(n,i){var a=[],r={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){r.status="fulfilled",r.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(r.status="rejected",r.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),r}var Of=U.S;U.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&dv(n,i),Of!==null&&Of(n,i)};var di=z(null);function yr(){var n=di.current;return n!==null?n:ze.pooledCache}function ul(n,i){i===null?Z(di,di.current):Z(di,i.pool)}function zf(){var n=yr();return n===null?null:{parent:tt._currentValue,pool:n}}var Zo=Error(o(460)),Pf=Error(o(474)),cl=Error(o(542)),vr={then:function(){}};function Bf(n){return n=n.status,n==="fulfilled"||n==="rejected"}function fl(){}function Gf(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(fl,fl),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ff(n),n;default:if(typeof i.status=="string")i.then(fl,fl);else{if(n=ze,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=i,n.status="pending",n.then(function(r){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=r}},function(r){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ff(n),n}throw $o=i,Zo}}var $o=null;function Hf(){if($o===null)throw Error(o(459));var n=$o;return $o=null,n}function Ff(n){if(n===Zo||n===cl)throw Error(o(483))}var Rn=!1;function Tr(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xr(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function kn(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Dn(n,i,a){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(De&2)!==0){var d=r.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),r.pending=i,i=il(n),kf(n,null,a),i}return nl(n,r,i,a),il(n)}function Ko(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var r=i.lanes;r&=n.pendingLanes,a|=r,i.lanes=a,qc(n,a)}}function Cr(n,i){var a=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:r.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:r.shared,callbacks:r.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Sr=!1;function Xo(){if(Sr){var n=Hi;if(n!==null)throw n}}function Jo(n,i,a,r){Sr=!1;var d=n.updateQueue;Rn=!1;var m=d.firstBaseUpdate,T=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var b=C,D=b.next;b.next=null,T===null?m=D:T.next=D,T=b;var q=n.alternate;q!==null&&(q=q.updateQueue,C=q.lastBaseUpdate,C!==T&&(C===null?q.firstBaseUpdate=D:C.next=D,q.lastBaseUpdate=b))}if(m!==null){var O=d.baseState;T=0,q=D=b=null,C=m;do{var N=C.lane&-536870913,I=N!==C.lane;if(I?(be&N)===N:(r&N)===N){N!==0&&N===Gi&&(Sr=!0),q!==null&&(q=q.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var se=n,ie=C;N=i;var qe=a;switch(ie.tag){case 1:if(se=ie.payload,typeof se=="function"){O=se.call(qe,O,N);break e}O=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ie.payload,N=typeof se=="function"?se.call(qe,O,N):se,N==null)break e;O=v({},O,N);break e;case 2:Rn=!0}}N=C.callback,N!==null&&(n.flags|=64,I&&(n.flags|=8192),I=d.callbacks,I===null?d.callbacks=[N]:I.push(N))}else I={lane:N,tag:C.tag,payload:C.payload,callback:C.callback,next:null},q===null?(D=q=I,b=O):q=q.next=I,T|=N;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;I=C,C=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);q===null&&(b=O),d.baseState=b,d.firstBaseUpdate=D,d.lastBaseUpdate=q,m===null&&(d.shared.lanes=0),zn|=T,n.lanes=T,n.memoizedState=O}}function Yf(n,i){if(typeof n!="function")throw Error(o(191,n));n.call(i)}function Zf(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Yf(a[n],i)}var Fi=z(null),dl=z(0);function $f(n,i){n=xn,Z(dl,n),Z(Fi,i),xn=n|i.baseLanes}function br(){Z(dl,xn),Z(Fi,Fi.current)}function _r(){xn=dl.current,X(Fi),X(dl)}var Nn=0,ge=null,Ue=null,We=null,pl=!1,Yi=!1,pi=!1,hl=0,Qo=0,Zi=null,hv=0;function Je(){throw Error(o(321))}function Er(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!wt(n[a],i[a]))return!1;return!0}function wr(n,i,a,r,d,m){return Nn=m,ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=n===null||n.memoizedState===null?kd:Dd,pi=!1,m=a(r,d),pi=!1,Yi&&(m=Xf(i,a,r,d)),Kf(n),m}function Kf(n){U.H=xl;var i=Ue!==null&&Ue.next!==null;if(Nn=0,We=Ue=ge=null,pl=!1,Qo=0,Zi=null,i)throw Error(o(300));n===null||ot||(n=n.dependencies,n!==null&&sl(n)&&(ot=!0))}function Xf(n,i,a,r){ge=n;var d=0;do{if(Yi&&(Zi=null),Qo=0,Yi=!1,25<=d)throw Error(o(301));if(d+=1,We=Ue=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=Cv,m=i(a,r)}while(Yi);return m}function mv(){var n=U.H,i=n.useState()[0];return i=typeof i.then=="function"?Wo(i):i,n=n.useState()[0],(Ue!==null?Ue.memoizedState:null)!==n&&(ge.flags|=1024),i}function Ar(){var n=hl!==0;return hl=0,n}function Mr(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Rr(n){if(pl){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}pl=!1}Nn=0,We=Ue=ge=null,Yi=!1,Qo=hl=0,Zi=null}function xt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?ge.memoizedState=We=n:We=We.next=n,We}function je(){if(Ue===null){var n=ge.alternate;n=n!==null?n.memoizedState:null}else n=Ue.next;var i=We===null?ge.memoizedState:We.next;if(i!==null)We=i,Ue=n;else{if(n===null)throw ge.alternate===null?Error(o(467)):Error(o(310));Ue=n,n={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},We===null?ge.memoizedState=We=n:We=We.next=n}return We}function kr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(n){var i=Qo;return Qo+=1,Zi===null&&(Zi=[]),n=Gf(Zi,n,i),i=ge,(We===null?i.memoizedState:We.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?kd:Dd),n}function ml(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Wo(n);if(n.$$typeof===Y)return ft(n)}throw Error(o(438,String(n)))}function Dr(n){var i=null,a=ge.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var r=ge.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=kr(),ge.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),r=0;r<n;r++)a[r]=me;return i.index++,a}function hn(n,i){return typeof i=="function"?i(n):i}function gl(n){var i=je();return Nr(i,Ue,n)}function Nr(n,i,a){var r=n.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=a;var d=n.baseQueue,m=r.pending;if(m!==null){if(d!==null){var T=d.next;d.next=m.next,m.next=T}i.baseQueue=d=m,r.pending=null}if(m=n.baseState,d===null)n.memoizedState=m;else{i=d.next;var C=T=null,b=null,D=i,q=!1;do{var O=D.lane&-536870913;if(O!==D.lane?(be&O)===O:(Nn&O)===O){var N=D.revertLane;if(N===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),O===Gi&&(q=!0);else if((Nn&N)===N){D=D.next,N===Gi&&(q=!0);continue}else O={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},b===null?(C=b=O,T=m):b=b.next=O,ge.lanes|=N,zn|=N;O=D.action,pi&&a(m,O),m=D.hasEagerState?D.eagerState:a(m,O)}else N={lane:O,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},b===null?(C=b=N,T=m):b=b.next=N,ge.lanes|=O,zn|=O;D=D.next}while(D!==null&&D!==i);if(b===null?T=m:b.next=C,!wt(m,n.memoizedState)&&(ot=!0,q&&(a=Hi,a!==null)))throw a;n.memoizedState=m,n.baseState=T,n.baseQueue=b,r.lastRenderedState=m}return d===null&&(r.lanes=0),[n.memoizedState,r.dispatch]}function Ir(n){var i=je(),a=i.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var r=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do m=n(m,T.action),T=T.next;while(T!==d);wt(m,i.memoizedState)||(ot=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,r]}function Jf(n,i,a){var r=ge,d=je(),m=ke;if(m){if(a===void 0)throw Error(o(407));a=a()}else a=i();var T=!wt((Ue||d).memoizedState,a);T&&(d.memoizedState=a,ot=!0),d=d.queue;var C=jf.bind(null,r,d,n);if(jo(2048,8,C,[n]),d.getSnapshot!==i||T||We!==null&&We.memoizedState.tag&1){if(r.flags|=2048,$i(9,yl(),Wf.bind(null,r,d,a,i),null),ze===null)throw Error(o(349));m||(Nn&124)!==0||Qf(r,i,a)}return a}function Qf(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=ge.updateQueue,i===null?(i=kr(),ge.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Wf(n,i,a,r){i.value=a,i.getSnapshot=r,ed(i)&&td(n)}function jf(n,i,a){return a(function(){ed(i)&&td(n)})}function ed(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!wt(n,a)}catch{return!0}}function td(n){var i=Oi(n,2);i!==null&&Nt(i,n,2)}function Ur(n){var i=xt();if(typeof n=="function"){var a=n;if(n=a(),pi){En(!0);try{a()}finally{En(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:n},i}function nd(n,i,a,r){return n.baseState=a,Nr(n,Ue,typeof r=="function"?r:hn)}function gv(n,i,a,r,d){if(Tl(n))throw Error(o(485));if(n=i.action,n!==null){var m={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};U.T!==null?a(!0):m.isTransition=!1,r(m),a=i.pending,a===null?(m.next=i.pending=m,id(i,m)):(m.next=a.next,i.pending=a.next=m)}}function id(n,i){var a=i.action,r=i.payload,d=n.state;if(i.isTransition){var m=U.T,T={};U.T=T;try{var C=a(d,r),b=U.S;b!==null&&b(T,C),od(n,i,C)}catch(D){Lr(n,i,D)}finally{U.T=m}}else try{m=a(d,r),od(n,i,m)}catch(D){Lr(n,i,D)}}function od(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){ad(n,i,r)},function(r){return Lr(n,i,r)}):ad(n,i,a)}function ad(n,i,a){i.status="fulfilled",i.value=a,ld(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,id(n,a)))}function Lr(n,i,a){var r=n.pending;if(n.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=a,ld(i),i=i.next;while(i!==r)}n.action=null}function ld(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function sd(n,i){return i}function rd(n,i){if(ke){var a=ze.formState;if(a!==null){e:{var r=ge;if(ke){if(Ke){t:{for(var d=Ke,m=Xt;d.nodeType!==8;){if(!m){d=null;break t}if(d=Zt(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Ke=Zt(d.nextSibling),r=d.data==="F!";break e}}ui(r)}r=!1}r&&(i=a[0])}}return a=xt(),a.memoizedState=a.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sd,lastRenderedState:i},a.queue=r,a=Ad.bind(null,ge,r),r.dispatch=a,r=Ur(!1),m=Pr.bind(null,ge,!1,r.queue),r=xt(),d={state:i,dispatch:null,action:n,pending:null},r.queue=d,a=gv.bind(null,ge,d,m,a),d.dispatch=a,r.memoizedState=n,[i,a,!1]}function ud(n){var i=je();return cd(i,Ue,n)}function cd(n,i,a){if(i=Nr(n,i,sd)[0],n=gl(hn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=Wo(i)}catch(T){throw T===Zo?cl:T}else r=i;i=je();var d=i.queue,m=d.dispatch;return a!==i.memoizedState&&(ge.flags|=2048,$i(9,yl(),yv.bind(null,d,a),null)),[r,m,n]}function yv(n,i){n.action=i}function fd(n){var i=je(),a=Ue;if(a!==null)return cd(i,a,n);je(),i=i.memoizedState,a=je();var r=a.queue.dispatch;return a.memoizedState=n,[i,r,!1]}function $i(n,i,a,r){return n={tag:n,create:a,deps:r,inst:i,next:null},i=ge.updateQueue,i===null&&(i=kr(),ge.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(r=a.next,a.next=n,n.next=r,i.lastEffect=n),n}function yl(){return{destroy:void 0,resource:void 0}}function dd(){return je().memoizedState}function vl(n,i,a,r){var d=xt();r=r===void 0?null:r,ge.flags|=n,d.memoizedState=$i(1|i,yl(),a,r)}function jo(n,i,a,r){var d=je();r=r===void 0?null:r;var m=d.memoizedState.inst;Ue!==null&&r!==null&&Er(r,Ue.memoizedState.deps)?d.memoizedState=$i(i,m,a,r):(ge.flags|=n,d.memoizedState=$i(1|i,m,a,r))}function pd(n,i){vl(8390656,8,n,i)}function hd(n,i){jo(2048,8,n,i)}function md(n,i){return jo(4,2,n,i)}function gd(n,i){return jo(4,4,n,i)}function yd(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function vd(n,i,a){a=a!=null?a.concat([n]):null,jo(4,4,yd.bind(null,i,n),a)}function qr(){}function Td(n,i){var a=je();i=i===void 0?null:i;var r=a.memoizedState;return i!==null&&Er(i,r[1])?r[0]:(a.memoizedState=[n,i],n)}function xd(n,i){var a=je();i=i===void 0?null:i;var r=a.memoizedState;if(i!==null&&Er(i,r[1]))return r[0];if(r=n(),pi){En(!0);try{n()}finally{En(!1)}}return a.memoizedState=[r,i],r}function Vr(n,i,a){return a===void 0||(Nn&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=bp(),ge.lanes|=n,zn|=n,a)}function Cd(n,i,a,r){return wt(a,i)?a:Fi.current!==null?(n=Vr(n,a,r),wt(n,i)||(ot=!0),n):(Nn&42)===0?(ot=!0,n.memoizedState=a):(n=bp(),ge.lanes|=n,zn|=n,i)}function Sd(n,i,a,r,d){var m=G.p;G.p=m!==0&&8>m?m:8;var T=U.T,C={};U.T=C,Pr(n,!1,i,a);try{var b=d(),D=U.S;if(D!==null&&D(C,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var q=pv(b,r);ea(n,i,q,Dt(n))}else ea(n,i,r,Dt(n))}catch(O){ea(n,i,{then:function(){},status:"rejected",reason:O},Dt())}finally{G.p=m,U.T=T}}function vv(){}function Or(n,i,a,r){if(n.tag!==5)throw Error(o(476));var d=bd(n).queue;Sd(n,d,i,te,a===null?vv:function(){return _d(n),a(r)})}function bd(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:te},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function _d(n){var i=bd(n).next.queue;ea(n,i,{},Dt())}function zr(){return ft(va)}function Ed(){return je().memoizedState}function wd(){return je().memoizedState}function Tv(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dt();n=kn(a);var r=Dn(i,n,a);r!==null&&(Nt(r,i,a),Ko(r,i,a)),i={cache:mr()},n.payload=i;return}i=i.return}}function xv(n,i,a){var r=Dt();a={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Tl(n)?Md(i,a):(a=ar(n,i,a,r),a!==null&&(Nt(a,n,r),Rd(a,i,r)))}function Ad(n,i,a){var r=Dt();ea(n,i,a,r)}function ea(n,i,a,r){var d={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tl(n))Md(i,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,C=m(T,a);if(d.hasEagerState=!0,d.eagerState=C,wt(C,T))return nl(n,i,d,0),ze===null&&tl(),!1}catch{}finally{}if(a=ar(n,i,d,r),a!==null)return Nt(a,n,r),Rd(a,i,r),!0}return!1}function Pr(n,i,a,r){if(r={lane:2,revertLane:vu(),action:r,hasEagerState:!1,eagerState:null,next:null},Tl(n)){if(i)throw Error(o(479))}else i=ar(n,a,r,2),i!==null&&Nt(i,n,2)}function Tl(n){var i=n.alternate;return n===ge||i!==null&&i===ge}function Md(n,i){Yi=pl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Rd(n,i,a){if((a&4194048)!==0){var r=i.lanes;r&=n.pendingLanes,a|=r,i.lanes=a,qc(n,a)}}var xl={readContext:ft,use:ml,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je},kd={readContext:ft,use:ml,useCallback:function(n,i){return xt().memoizedState=[n,i===void 0?null:i],n},useContext:ft,useEffect:pd,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,vl(4194308,4,yd.bind(null,i,n),a)},useLayoutEffect:function(n,i){return vl(4194308,4,n,i)},useInsertionEffect:function(n,i){vl(4,2,n,i)},useMemo:function(n,i){var a=xt();i=i===void 0?null:i;var r=n();if(pi){En(!0);try{n()}finally{En(!1)}}return a.memoizedState=[r,i],r},useReducer:function(n,i,a){var r=xt();if(a!==void 0){var d=a(i);if(pi){En(!0);try{a(i)}finally{En(!1)}}}else d=i;return r.memoizedState=r.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},r.queue=n,n=n.dispatch=xv.bind(null,ge,n),[r.memoizedState,n]},useRef:function(n){var i=xt();return n={current:n},i.memoizedState=n},useState:function(n){n=Ur(n);var i=n.queue,a=Ad.bind(null,ge,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:qr,useDeferredValue:function(n,i){var a=xt();return Vr(a,n,i)},useTransition:function(){var n=Ur(!1);return n=Sd.bind(null,ge,n.queue,!0,!1),xt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var r=ge,d=xt();if(ke){if(a===void 0)throw Error(o(407));a=a()}else{if(a=i(),ze===null)throw Error(o(349));(be&124)!==0||Qf(r,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,pd(jf.bind(null,r,m,n),[n]),r.flags|=2048,$i(9,yl(),Wf.bind(null,r,m,a,i),null),a},useId:function(){var n=xt(),i=ze.identifierPrefix;if(ke){var a=fn,r=cn;a=(r&~(1<<32-Et(r)-1)).toString(32)+a,i=""+i+"R"+a,a=hl++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=hv++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:zr,useFormState:rd,useActionState:rd,useOptimistic:function(n){var i=xt();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Pr.bind(null,ge,!0,a),a.dispatch=i,[n,i]},useMemoCache:Dr,useCacheRefresh:function(){return xt().memoizedState=Tv.bind(null,ge)}},Dd={readContext:ft,use:ml,useCallback:Td,useContext:ft,useEffect:hd,useImperativeHandle:vd,useInsertionEffect:md,useLayoutEffect:gd,useMemo:xd,useReducer:gl,useRef:dd,useState:function(){return gl(hn)},useDebugValue:qr,useDeferredValue:function(n,i){var a=je();return Cd(a,Ue.memoizedState,n,i)},useTransition:function(){var n=gl(hn)[0],i=je().memoizedState;return[typeof n=="boolean"?n:Wo(n),i]},useSyncExternalStore:Jf,useId:Ed,useHostTransitionStatus:zr,useFormState:ud,useActionState:ud,useOptimistic:function(n,i){var a=je();return nd(a,Ue,n,i)},useMemoCache:Dr,useCacheRefresh:wd},Cv={readContext:ft,use:ml,useCallback:Td,useContext:ft,useEffect:hd,useImperativeHandle:vd,useInsertionEffect:md,useLayoutEffect:gd,useMemo:xd,useReducer:Ir,useRef:dd,useState:function(){return Ir(hn)},useDebugValue:qr,useDeferredValue:function(n,i){var a=je();return Ue===null?Vr(a,n,i):Cd(a,Ue.memoizedState,n,i)},useTransition:function(){var n=Ir(hn)[0],i=je().memoizedState;return[typeof n=="boolean"?n:Wo(n),i]},useSyncExternalStore:Jf,useId:Ed,useHostTransitionStatus:zr,useFormState:fd,useActionState:fd,useOptimistic:function(n,i){var a=je();return Ue!==null?nd(a,Ue,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Dr,useCacheRefresh:wd},Ki=null,ta=0;function Cl(n){var i=ta;return ta+=1,Ki===null&&(Ki=[]),Gf(Ki,n,i)}function na(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Sl(n,i){throw i.$$typeof===x?Error(o(525)):(n=Object.prototype.toString.call(i),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Nd(n){var i=n._init;return i(n._payload)}function Id(n){function i(M,E){if(n){var k=M.deletions;k===null?(M.deletions=[E],M.flags|=16):k.push(E)}}function a(M,E){if(!n)return null;for(;E!==null;)i(M,E),E=E.sibling;return null}function r(M){for(var E=new Map;M!==null;)M.key!==null?E.set(M.key,M):E.set(M.index,M),M=M.sibling;return E}function d(M,E){return M=un(M,E),M.index=0,M.sibling=null,M}function m(M,E,k){return M.index=k,n?(k=M.alternate,k!==null?(k=k.index,k<E?(M.flags|=67108866,E):k):(M.flags|=67108866,E)):(M.flags|=1048576,E)}function T(M){return n&&M.alternate===null&&(M.flags|=67108866),M}function C(M,E,k,V){return E===null||E.tag!==6?(E=sr(k,M.mode,V),E.return=M,E):(E=d(E,k),E.return=M,E)}function b(M,E,k,V){var Q=k.type;return Q===R?q(M,E,k.props.children,V,k.key):E!==null&&(E.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===xe&&Nd(Q)===E.type)?(E=d(E,k.props),na(E,k),E.return=M,E):(E=ol(k.type,k.key,k.props,null,M.mode,V),na(E,k),E.return=M,E)}function D(M,E,k,V){return E===null||E.tag!==4||E.stateNode.containerInfo!==k.containerInfo||E.stateNode.implementation!==k.implementation?(E=rr(k,M.mode,V),E.return=M,E):(E=d(E,k.children||[]),E.return=M,E)}function q(M,E,k,V,Q){return E===null||E.tag!==7?(E=ai(k,M.mode,V,Q),E.return=M,E):(E=d(E,k),E.return=M,E)}function O(M,E,k){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=sr(""+E,M.mode,k),E.return=M,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case S:return k=ol(E.type,E.key,E.props,null,M.mode,k),na(k,E),k.return=M,k;case w:return E=rr(E,M.mode,k),E.return=M,E;case xe:var V=E._init;return E=V(E._payload),O(M,E,k)}if(_e(E)||$e(E))return E=ai(E,M.mode,k,null),E.return=M,E;if(typeof E.then=="function")return O(M,Cl(E),k);if(E.$$typeof===Y)return O(M,rl(M,E),k);Sl(M,E)}return null}function N(M,E,k,V){var Q=E!==null?E.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return Q!==null?null:C(M,E,""+k,V);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return k.key===Q?b(M,E,k,V):null;case w:return k.key===Q?D(M,E,k,V):null;case xe:return Q=k._init,k=Q(k._payload),N(M,E,k,V)}if(_e(k)||$e(k))return Q!==null?null:q(M,E,k,V,null);if(typeof k.then=="function")return N(M,E,Cl(k),V);if(k.$$typeof===Y)return N(M,E,rl(M,k),V);Sl(M,k)}return null}function I(M,E,k,V,Q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return M=M.get(k)||null,C(E,M,""+V,Q);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return M=M.get(V.key===null?k:V.key)||null,b(E,M,V,Q);case w:return M=M.get(V.key===null?k:V.key)||null,D(E,M,V,Q);case xe:var ye=V._init;return V=ye(V._payload),I(M,E,k,V,Q)}if(_e(V)||$e(V))return M=M.get(k)||null,q(E,M,V,Q,null);if(typeof V.then=="function")return I(M,E,k,Cl(V),Q);if(V.$$typeof===Y)return I(M,E,k,rl(E,V),Q);Sl(E,V)}return null}function se(M,E,k,V){for(var Q=null,ye=null,ee=E,le=E=0,lt=null;ee!==null&&le<k.length;le++){ee.index>le?(lt=ee,ee=null):lt=ee.sibling;var Ae=N(M,ee,k[le],V);if(Ae===null){ee===null&&(ee=lt);break}n&&ee&&Ae.alternate===null&&i(M,ee),E=m(Ae,E,le),ye===null?Q=Ae:ye.sibling=Ae,ye=Ae,ee=lt}if(le===k.length)return a(M,ee),ke&&si(M,le),Q;if(ee===null){for(;le<k.length;le++)ee=O(M,k[le],V),ee!==null&&(E=m(ee,E,le),ye===null?Q=ee:ye.sibling=ee,ye=ee);return ke&&si(M,le),Q}for(ee=r(ee);le<k.length;le++)lt=I(ee,M,le,k[le],V),lt!==null&&(n&&lt.alternate!==null&&ee.delete(lt.key===null?le:lt.key),E=m(lt,E,le),ye===null?Q=lt:ye.sibling=lt,ye=lt);return n&&ee.forEach(function(Kn){return i(M,Kn)}),ke&&si(M,le),Q}function ie(M,E,k,V){if(k==null)throw Error(o(151));for(var Q=null,ye=null,ee=E,le=E=0,lt=null,Ae=k.next();ee!==null&&!Ae.done;le++,Ae=k.next()){ee.index>le?(lt=ee,ee=null):lt=ee.sibling;var Kn=N(M,ee,Ae.value,V);if(Kn===null){ee===null&&(ee=lt);break}n&&ee&&Kn.alternate===null&&i(M,ee),E=m(Kn,E,le),ye===null?Q=Kn:ye.sibling=Kn,ye=Kn,ee=lt}if(Ae.done)return a(M,ee),ke&&si(M,le),Q;if(ee===null){for(;!Ae.done;le++,Ae=k.next())Ae=O(M,Ae.value,V),Ae!==null&&(E=m(Ae,E,le),ye===null?Q=Ae:ye.sibling=Ae,ye=Ae);return ke&&si(M,le),Q}for(ee=r(ee);!Ae.done;le++,Ae=k.next())Ae=I(ee,M,le,Ae.value,V),Ae!==null&&(n&&Ae.alternate!==null&&ee.delete(Ae.key===null?le:Ae.key),E=m(Ae,E,le),ye===null?Q=Ae:ye.sibling=Ae,ye=Ae);return n&&ee.forEach(function(ST){return i(M,ST)}),ke&&si(M,le),Q}function qe(M,E,k,V){if(typeof k=="object"&&k!==null&&k.type===R&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case S:e:{for(var Q=k.key;E!==null;){if(E.key===Q){if(Q=k.type,Q===R){if(E.tag===7){a(M,E.sibling),V=d(E,k.props.children),V.return=M,M=V;break e}}else if(E.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===xe&&Nd(Q)===E.type){a(M,E.sibling),V=d(E,k.props),na(V,k),V.return=M,M=V;break e}a(M,E);break}else i(M,E);E=E.sibling}k.type===R?(V=ai(k.props.children,M.mode,V,k.key),V.return=M,M=V):(V=ol(k.type,k.key,k.props,null,M.mode,V),na(V,k),V.return=M,M=V)}return T(M);case w:e:{for(Q=k.key;E!==null;){if(E.key===Q)if(E.tag===4&&E.stateNode.containerInfo===k.containerInfo&&E.stateNode.implementation===k.implementation){a(M,E.sibling),V=d(E,k.children||[]),V.return=M,M=V;break e}else{a(M,E);break}else i(M,E);E=E.sibling}V=rr(k,M.mode,V),V.return=M,M=V}return T(M);case xe:return Q=k._init,k=Q(k._payload),qe(M,E,k,V)}if(_e(k))return se(M,E,k,V);if($e(k)){if(Q=$e(k),typeof Q!="function")throw Error(o(150));return k=Q.call(k),ie(M,E,k,V)}if(typeof k.then=="function")return qe(M,E,Cl(k),V);if(k.$$typeof===Y)return qe(M,E,rl(M,k),V);Sl(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,E!==null&&E.tag===6?(a(M,E.sibling),V=d(E,k),V.return=M,M=V):(a(M,E),V=sr(k,M.mode,V),V.return=M,M=V),T(M)):a(M,E)}return function(M,E,k,V){try{ta=0;var Q=qe(M,E,k,V);return Ki=null,Q}catch(ee){if(ee===Zo||ee===cl)throw ee;var ye=At(29,ee,null,M.mode);return ye.lanes=V,ye.return=M,ye}finally{}}}var Xi=Id(!0),Ud=Id(!1),Pt=z(null),Jt=null;function In(n){var i=n.alternate;Z(nt,nt.current&1),Z(Pt,n),Jt===null&&(i===null||Fi.current!==null||i.memoizedState!==null)&&(Jt=n)}function Ld(n){if(n.tag===22){if(Z(nt,nt.current),Z(Pt,n),Jt===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Jt=n)}}else Un()}function Un(){Z(nt,nt.current),Z(Pt,Pt.current)}function mn(n){X(Pt),Jt===n&&(Jt=null),X(nt)}var nt=z(0);function bl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ku(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Br(n,i,a,r){i=n.memoizedState,a=a(r,i),a=a==null?i:v({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Gr={enqueueSetState:function(n,i,a){n=n._reactInternals;var r=Dt(),d=kn(r);d.payload=i,a!=null&&(d.callback=a),i=Dn(n,d,r),i!==null&&(Nt(i,n,r),Ko(i,n,r))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var r=Dt(),d=kn(r);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Dn(n,d,r),i!==null&&(Nt(i,n,r),Ko(i,n,r))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Dt(),r=kn(a);r.tag=2,i!=null&&(r.callback=i),i=Dn(n,r,a),i!==null&&(Nt(i,n,a),Ko(i,n,a))}};function qd(n,i,a,r,d,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,m,T):i.prototype&&i.prototype.isPureReactComponent?!Oo(a,r)||!Oo(d,m):!0}function Vd(n,i,a,r){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,r),i.state!==n&&Gr.enqueueReplaceState(i,i.state,null)}function hi(n,i){var a=i;if("ref"in i){a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}if(n=n.defaultProps){a===i&&(a=v({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var _l=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Od(n){_l(n)}function zd(n){console.error(n)}function Pd(n){_l(n)}function El(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function Bd(n,i,a){try{var r=n.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Hr(n,i,a){return a=kn(a),a.tag=3,a.payload={element:null},a.callback=function(){El(n,i)},a}function Gd(n){return n=kn(n),n.tag=3,n}function Hd(n,i,a,r){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=r.value;n.payload=function(){return d(m)},n.callback=function(){Bd(i,a,r)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Bd(i,a,r),typeof d!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var C=r.stack;this.componentDidCatch(r.value,{componentStack:C!==null?C:""})})}function Sv(n,i,a,r,d){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=a.alternate,i!==null&&Ho(i,a,d,!0),a=Pt.current,a!==null){switch(a.tag){case 13:return Jt===null?pu():a.alternate===null&&Xe===0&&(Xe=3),a.flags&=-257,a.flags|=65536,a.lanes=d,r===vr?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([r]):i.add(r),mu(n,r,d)),!1;case 22:return a.flags|=65536,r===vr?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([r]):a.add(r)),mu(n,r,d)),!1}throw Error(o(435,a.tag))}return mu(n,r,d),pu(),!1}if(ke)return i=Pt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,r!==fr&&(n=Error(o(422),{cause:r}),Go(qt(n,a)))):(r!==fr&&(i=Error(o(423),{cause:r}),Go(qt(i,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,r=qt(r,a),d=Hr(n.stateNode,r,d),Cr(n,d),Xe!==4&&(Xe=2)),!1;var m=Error(o(520),{cause:r});if(m=qt(m,a),ua===null?ua=[m]:ua.push(m),Xe!==4&&(Xe=2),i===null)return!0;r=qt(r,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=Hr(a.stateNode,r,n),Cr(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Pn===null||!Pn.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Gd(d),Hd(d,n,a,r),Cr(a,d),!1}a=a.return}while(a!==null);return!1}var Fd=Error(o(461)),ot=!1;function st(n,i,a,r){i.child=n===null?Ud(i,null,a,r):Xi(i,n.child,a,r)}function Yd(n,i,a,r,d){a=a.render;var m=i.ref;if("ref"in r){var T={};for(var C in r)C!=="ref"&&(T[C]=r[C])}else T=r;return fi(i),r=wr(n,i,a,T,m,d),C=Ar(),n!==null&&!ot?(Mr(n,i,d),gn(n,i,d)):(ke&&C&&ur(i),i.flags|=1,st(n,i,r,d),i.child)}function Zd(n,i,a,r,d){if(n===null){var m=a.type;return typeof m=="function"&&!lr(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,$d(n,i,m,r,d)):(n=ol(a.type,null,r,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Qr(n,d)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Oo,a(T,r)&&n.ref===i.ref)return gn(n,i,d)}return i.flags|=1,n=un(m,r),n.ref=i.ref,n.return=i,i.child=n}function $d(n,i,a,r,d){if(n!==null){var m=n.memoizedProps;if(Oo(m,r)&&n.ref===i.ref)if(ot=!1,i.pendingProps=r=m,Qr(n,d))(n.flags&131072)!==0&&(ot=!0);else return i.lanes=n.lanes,gn(n,i,d)}return Fr(n,i,a,r,d)}function Kd(n,i,a){var r=i.pendingProps,d=r.children,m=n!==null?n.memoizedState:null;if(r.mode==="hidden"){if((i.flags&128)!==0){if(r=m!==null?m.baseLanes|a:a,n!==null){for(d=i.child=n.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;i.childLanes=m&~r}else i.childLanes=0,i.child=null;return Xd(n,i,r,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ul(i,m!==null?m.cachePool:null),m!==null?$f(i,m):br(),Ld(i);else return i.lanes=i.childLanes=536870912,Xd(n,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(ul(i,m.cachePool),$f(i,m),Un(),i.memoizedState=null):(n!==null&&ul(i,null),br(),Un());return st(n,i,d,a),i.child}function Xd(n,i,a,r){var d=yr();return d=d===null?null:{parent:tt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},n!==null&&ul(i,null),br(),Ld(i),n!==null&&Ho(n,i,r,!0),null}function wl(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Fr(n,i,a,r,d){return fi(i),a=wr(n,i,a,r,void 0,d),r=Ar(),n!==null&&!ot?(Mr(n,i,d),gn(n,i,d)):(ke&&r&&ur(i),i.flags|=1,st(n,i,a,d),i.child)}function Jd(n,i,a,r,d,m){return fi(i),i.updateQueue=null,a=Xf(i,r,a,d),Kf(n),r=Ar(),n!==null&&!ot?(Mr(n,i,m),gn(n,i,m)):(ke&&r&&ur(i),i.flags|=1,st(n,i,a,m),i.child)}function Qd(n,i,a,r,d){if(fi(i),i.stateNode===null){var m=zi,T=a.contextType;typeof T=="object"&&T!==null&&(m=ft(T)),m=new a(r,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Gr,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=r,m.state=i.memoizedState,m.refs={},Tr(i),T=a.contextType,m.context=typeof T=="object"&&T!==null?ft(T):zi,m.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Br(i,a,T,r),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Gr.enqueueReplaceState(m,m.state,null),Jo(i,r,m,d),Xo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(n===null){m=i.stateNode;var C=i.memoizedProps,b=hi(a,C);m.props=b;var D=m.context,q=a.contextType;T=zi,typeof q=="object"&&q!==null&&(T=ft(q));var O=a.getDerivedStateFromProps;q=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||D!==T)&&Vd(i,m,r,T),Rn=!1;var N=i.memoizedState;m.state=N,Jo(i,r,m,d),Xo(),D=i.memoizedState,C||N!==D||Rn?(typeof O=="function"&&(Br(i,a,O,r),D=i.memoizedState),(b=Rn||qd(i,a,b,r,N,D,T))?(q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=D),m.props=r,m.state=D,m.context=T,r=b):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{m=i.stateNode,xr(n,i),T=i.memoizedProps,q=hi(a,T),m.props=q,O=i.pendingProps,N=m.context,D=a.contextType,b=zi,typeof D=="object"&&D!==null&&(b=ft(D)),C=a.getDerivedStateFromProps,(D=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==O||N!==b)&&Vd(i,m,r,b),Rn=!1,N=i.memoizedState,m.state=N,Jo(i,r,m,d),Xo();var I=i.memoizedState;T!==O||N!==I||Rn||n!==null&&n.dependencies!==null&&sl(n.dependencies)?(typeof C=="function"&&(Br(i,a,C,r),I=i.memoizedState),(q=Rn||qd(i,a,q,r,N,I,b)||n!==null&&n.dependencies!==null&&sl(n.dependencies))?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(r,I,b),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(r,I,b)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&N===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&N===n.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=I),m.props=r,m.state=I,m.context=b,r=q):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&N===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&N===n.memoizedState||(i.flags|=1024),r=!1)}return m=r,wl(n,i),r=(i.flags&128)!==0,m||r?(m=i.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&r?(i.child=Xi(i,n.child,null,d),i.child=Xi(i,null,a,d)):st(n,i,a,d),i.memoizedState=m.state,n=i.child):n=gn(n,i,d),n}function Wd(n,i,a,r){return Bo(),i.flags|=256,st(n,i,a,r),i.child}var Yr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zr(n){return{baseLanes:n,cachePool:zf()}}function $r(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Bt),n}function jd(n,i,a){var r=i.pendingProps,d=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(nt.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,n===null){if(ke){if(d?In(i):Un(),ke){var C=Ke,b;if(b=C){e:{for(b=C,C=Xt;b.nodeType!==8;){if(!C){C=null;break e}if(b=Zt(b.nextSibling),b===null){C=null;break e}}C=b}C!==null?(i.memoizedState={dehydrated:C,treeContext:li!==null?{id:cn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},b=At(18,null,null,0),b.stateNode=C,b.return=i,i.child=b,ht=i,Ke=null,b=!0):b=!1}b||ui(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return ku(C)?i.lanes=32:i.lanes=536870912,null;mn(i)}return C=r.children,r=r.fallback,d?(Un(),d=i.mode,C=Al({mode:"hidden",children:C},d),r=ai(r,d,a,null),C.return=i,r.return=i,C.sibling=r,i.child=C,d=i.child,d.memoizedState=Zr(a),d.childLanes=$r(n,T,a),i.memoizedState=Yr,r):(In(i),Kr(i,C))}if(b=n.memoizedState,b!==null&&(C=b.dehydrated,C!==null)){if(m)i.flags&256?(In(i),i.flags&=-257,i=Xr(n,i,a)):i.memoizedState!==null?(Un(),i.child=n.child,i.flags|=128,i=null):(Un(),d=r.fallback,C=i.mode,r=Al({mode:"visible",children:r.children},C),d=ai(d,C,a,null),d.flags|=2,r.return=i,d.return=i,r.sibling=d,i.child=r,Xi(i,n.child,null,a),r=i.child,r.memoizedState=Zr(a),r.childLanes=$r(n,T,a),i.memoizedState=Yr,i=d);else if(In(i),ku(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var D=T.dgst;T=D,r=Error(o(419)),r.stack="",r.digest=T,Go({value:r,source:null,stack:null}),i=Xr(n,i,a)}else if(ot||Ho(n,i,a,!1),T=(a&n.childLanes)!==0,ot||T){if(T=ze,T!==null&&(r=a&-a,r=(r&42)!==0?1:Ds(r),r=(r&(T.suspendedLanes|a))!==0?0:r,r!==0&&r!==b.retryLane))throw b.retryLane=r,Oi(n,r),Nt(T,n,r),Fd;C.data==="$?"||pu(),i=Xr(n,i,a)}else C.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=b.treeContext,Ke=Zt(C.nextSibling),ht=i,ke=!0,ri=null,Xt=!1,n!==null&&(Ot[zt++]=cn,Ot[zt++]=fn,Ot[zt++]=li,cn=n.id,fn=n.overflow,li=i),i=Kr(i,r.children),i.flags|=4096);return i}return d?(Un(),d=r.fallback,C=i.mode,b=n.child,D=b.sibling,r=un(b,{mode:"hidden",children:r.children}),r.subtreeFlags=b.subtreeFlags&65011712,D!==null?d=un(D,d):(d=ai(d,C,a,null),d.flags|=2),d.return=i,r.return=i,r.sibling=d,i.child=r,r=d,d=i.child,C=n.child.memoizedState,C===null?C=Zr(a):(b=C.cachePool,b!==null?(D=tt._currentValue,b=b.parent!==D?{parent:D,pool:D}:b):b=zf(),C={baseLanes:C.baseLanes|a,cachePool:b}),d.memoizedState=C,d.childLanes=$r(n,T,a),i.memoizedState=Yr,r):(In(i),a=n.child,n=a.sibling,a=un(a,{mode:"visible",children:r.children}),a.return=i,a.sibling=null,n!==null&&(T=i.deletions,T===null?(i.deletions=[n],i.flags|=16):T.push(n)),i.child=a,i.memoizedState=null,a)}function Kr(n,i){return i=Al({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Al(n,i){return n=At(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Xr(n,i,a){return Xi(i,n.child,null,a),n=Kr(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function ep(n,i,a){n.lanes|=i;var r=n.alternate;r!==null&&(r.lanes|=i),pr(n.return,i,a)}function Jr(n,i,a,r,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=r,m.tail=a,m.tailMode=d)}function tp(n,i,a){var r=i.pendingProps,d=r.revealOrder,m=r.tail;if(st(n,i,r.children,a),r=nt.current,(r&2)!==0)r=r&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ep(n,a,i);else if(n.tag===19)ep(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}switch(Z(nt,r),d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&bl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Jr(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&bl(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Jr(i,!0,a,null,m);break;case"together":Jr(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function gn(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),zn|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Ho(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(o(153));if(i.child!==null){for(n=i.child,a=un(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=un(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Qr(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&sl(n)))}function bv(n,i,a){switch(i.tag){case 3:Fe(i,i.stateNode.containerInfo),Mn(i,tt,n.memoizedState.cache),Bo();break;case 27:case 5:ws(i);break;case 4:Fe(i,i.stateNode.containerInfo);break;case 10:Mn(i,i.type,i.memoizedProps.value);break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(In(i),i.flags|=128,null):(a&i.child.childLanes)!==0?jd(n,i,a):(In(i),n=gn(n,i,a),n!==null?n.sibling:null);In(i);break;case 19:var d=(n.flags&128)!==0;if(r=(a&i.childLanes)!==0,r||(Ho(n,i,a,!1),r=(a&i.childLanes)!==0),d){if(r)return tp(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Z(nt,nt.current),r)break;return null;case 22:case 23:return i.lanes=0,Kd(n,i,a);case 24:Mn(i,tt,n.memoizedState.cache)}return gn(n,i,a)}function np(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)ot=!0;else{if(!Qr(n,a)&&(i.flags&128)===0)return ot=!1,bv(n,i,a);ot=(n.flags&131072)!==0}else ot=!1,ke&&(i.flags&1048576)!==0&&Nf(i,ll,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var r=i.elementType,d=r._init;if(r=d(r._payload),i.type=r,typeof r=="function")lr(r)?(n=hi(r,n),i.tag=1,i=Qd(null,i,r,n,a)):(i.tag=0,i=Fr(null,i,r,n,a));else{if(r!=null){if(d=r.$$typeof,d===J){i.tag=11,i=Yd(null,i,r,n,a);break e}else if(d===de){i.tag=14,i=Zd(null,i,r,n,a);break e}}throw i=Se(r)||r,Error(o(306,i,""))}}return i;case 0:return Fr(n,i,i.type,i.pendingProps,a);case 1:return r=i.type,d=hi(r,i.pendingProps),Qd(n,i,r,d,a);case 3:e:{if(Fe(i,i.stateNode.containerInfo),n===null)throw Error(o(387));r=i.pendingProps;var m=i.memoizedState;d=m.element,xr(n,i),Jo(i,r,null,a);var T=i.memoizedState;if(r=T.cache,Mn(i,tt,r),r!==m.cache&&hr(i,[tt],a,!0),Xo(),r=T.element,m.isDehydrated)if(m={element:r,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Wd(n,i,r,a);break e}else if(r!==d){d=qt(Error(o(424)),i),Go(d),i=Wd(n,i,r,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ke=Zt(n.firstChild),ht=i,ke=!0,ri=null,Xt=!0,a=Ud(i,null,r,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bo(),r===d){i=gn(n,i,a);break e}st(n,i,r,a)}i=i.child}return i;case 26:return wl(n,i),n===null?(a=lh(i.type,null,i.pendingProps,null))?i.memoizedState=a:ke||(a=i.type,n=i.pendingProps,r=Bl(fe.current).createElement(a),r[ct]=i,r[vt]=n,ut(r,a,n),it(r),i.stateNode=r):i.memoizedState=lh(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return ws(i),n===null&&ke&&(r=i.stateNode=ih(i.type,i.pendingProps,fe.current),ht=i,Xt=!0,d=Ke,Hn(i.type)?(Du=d,Ke=Zt(r.firstChild)):Ke=d),st(n,i,i.pendingProps.children,a),wl(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ke&&((d=r=Ke)&&(r=Qv(r,i.type,i.pendingProps,Xt),r!==null?(i.stateNode=r,ht=i,Ke=Zt(r.firstChild),Xt=!1,d=!0):d=!1),d||ui(i)),ws(i),d=i.type,m=i.pendingProps,T=n!==null?n.memoizedProps:null,r=m.children,Au(d,m)?r=null:T!==null&&Au(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=wr(n,i,mv,null,null,a),va._currentValue=d),wl(n,i),st(n,i,r,a),i.child;case 6:return n===null&&ke&&((n=a=Ke)&&(a=Wv(a,i.pendingProps,Xt),a!==null?(i.stateNode=a,ht=i,Ke=null,n=!0):n=!1),n||ui(i)),null;case 13:return jd(n,i,a);case 4:return Fe(i,i.stateNode.containerInfo),r=i.pendingProps,n===null?i.child=Xi(i,null,r,a):st(n,i,r,a),i.child;case 11:return Yd(n,i,i.type,i.pendingProps,a);case 7:return st(n,i,i.pendingProps,a),i.child;case 8:return st(n,i,i.pendingProps.children,a),i.child;case 12:return st(n,i,i.pendingProps.children,a),i.child;case 10:return r=i.pendingProps,Mn(i,i.type,r.value),st(n,i,r.children,a),i.child;case 9:return d=i.type._context,r=i.pendingProps.children,fi(i),d=ft(d),r=r(d),i.flags|=1,st(n,i,r,a),i.child;case 14:return Zd(n,i,i.type,i.pendingProps,a);case 15:return $d(n,i,i.type,i.pendingProps,a);case 19:return tp(n,i,a);case 31:return r=i.pendingProps,a=i.mode,r={mode:r.mode,children:r.children},n===null?(a=Al(r,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=un(n.child,r),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Kd(n,i,a);case 24:return fi(i),r=ft(tt),n===null?(d=yr(),d===null&&(d=ze,m=mr(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),i.memoizedState={parent:r,cache:d},Tr(i),Mn(i,tt,d)):((n.lanes&a)!==0&&(xr(n,i),Jo(i,null,null,a),Xo()),d=n.memoizedState,m=i.memoizedState,d.parent!==r?(d={parent:r,cache:r},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Mn(i,tt,r)):(r=m.cache,Mn(i,tt,r),r!==d.cache&&hr(i,[tt],a,!0))),st(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function yn(n){n.flags|=4}function ip(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!fh(i)){if(i=Pt.current,i!==null&&((be&4194048)===be?Jt!==null:(be&62914560)!==be&&(be&536870912)===0||i!==Jt))throw $o=vr,Pf;n.flags|=8192}}function Ml(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Uc():536870912,n.lanes|=i,ji|=i)}function ia(n,i){if(!ke)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ze(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,r=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,r|=d.subtreeFlags&65011712,r|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,r|=d.subtreeFlags,r|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=r,n.childLanes=a,i}function _v(n,i,a){var r=i.pendingProps;switch(cr(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(i),null;case 1:return Ze(i),null;case 3:return a=i.stateNode,r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),pn(tt),_n(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Po(i)?yn(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Lf())),Ze(i),null;case 26:return a=i.memoizedState,n===null?(yn(i),a!==null?(Ze(i),ip(i,a)):(Ze(i),i.flags&=-16777217)):a?a!==n.memoizedState?(yn(i),Ze(i),ip(i,a)):(Ze(i),i.flags&=-16777217):(n.memoizedProps!==r&&yn(i),Ze(i),i.flags&=-16777217),null;case 27:za(i),a=fe.current;var d=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==r&&yn(i);else{if(!r){if(i.stateNode===null)throw Error(o(166));return Ze(i),null}n=ne.current,Po(i)?If(i):(n=ih(d,r,a),i.stateNode=n,yn(i))}return Ze(i),null;case 5:if(za(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==r&&yn(i);else{if(!r){if(i.stateNode===null)throw Error(o(166));return Ze(i),null}if(n=ne.current,Po(i))If(i);else{switch(d=Bl(fe.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof r.is=="string"?d.createElement("select",{is:r.is}):d.createElement("select"),r.multiple?n.multiple=!0:r.size&&(n.size=r.size);break;default:n=typeof r.is=="string"?d.createElement(a,{is:r.is}):d.createElement(a)}}n[ct]=i,n[vt]=r;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=n;e:switch(ut(n,a,r),a){case"button":case"input":case"select":case"textarea":n=!!r.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&yn(i)}}return Ze(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==r&&yn(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(o(166));if(n=fe.current,Po(i)){if(n=i.stateNode,a=i.memoizedProps,r=null,d=ht,d!==null)switch(d.tag){case 27:case 5:r=d.memoizedProps}n[ct]=i,n=!!(n.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||Jp(n.nodeValue,a)),n||ui(i)}else n=Bl(n).createTextNode(r),n[ct]=i,i.stateNode=n}return Ze(i),null;case 13:if(r=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Po(i),r!==null&&r.dehydrated!==null){if(n===null){if(!d)throw Error(o(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[ct]=i}else Bo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ze(i),d=!1}else d=Lf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(mn(i),i):(mn(i),null)}if(mn(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=r!==null,n=n!==null&&n.memoizedState!==null,a){r=i.child,d=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(d=r.alternate.memoizedState.cachePool.pool);var m=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(m=r.memoizedState.cachePool.pool),m!==d&&(r.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Ml(i,i.updateQueue),Ze(i),null;case 4:return _n(),n===null&&Su(i.stateNode.containerInfo),Ze(i),null;case 10:return pn(i.type),Ze(i),null;case 19:if(X(nt),d=i.memoizedState,d===null)return Ze(i),null;if(r=(i.flags&128)!==0,m=d.rendering,m===null)if(r)ia(d,!1);else{if(Xe!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=bl(n),m!==null){for(i.flags|=128,ia(d,!1),n=m.updateQueue,i.updateQueue=n,Ml(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Df(a,n),a=a.sibling;return Z(nt,nt.current&1|2),i.child}n=n.sibling}d.tail!==null&&Kt()>Dl&&(i.flags|=128,r=!0,ia(d,!1),i.lanes=4194304)}else{if(!r)if(n=bl(m),n!==null){if(i.flags|=128,r=!0,n=n.updateQueue,i.updateQueue=n,Ml(i,n),ia(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!ke)return Ze(i),null}else 2*Kt()-d.renderingStartTime>Dl&&a!==536870912&&(i.flags|=128,r=!0,ia(d,!1),i.lanes=4194304);d.isBackwards?(m.sibling=i.child,i.child=m):(n=d.last,n!==null?n.sibling=m:i.child=m,d.last=m)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Kt(),i.sibling=null,n=nt.current,Z(nt,r?n&1|2:n&1),i):(Ze(i),null);case 22:case 23:return mn(i),_r(),r=i.memoizedState!==null,n!==null?n.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(a&536870912)!==0&&(i.flags&128)===0&&(Ze(i),i.subtreeFlags&6&&(i.flags|=8192)):Ze(i),a=i.updateQueue,a!==null&&Ml(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048),n!==null&&X(di),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),pn(tt),Ze(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function Ev(n,i){switch(cr(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return pn(tt),_n(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return za(i),null;case 13:if(mn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Bo()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return X(nt),null;case 4:return _n(),null;case 10:return pn(i.type),null;case 22:case 23:return mn(i),_r(),n!==null&&X(di),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return pn(tt),null;case 25:return null;default:return null}}function op(n,i){switch(cr(i),i.tag){case 3:pn(tt),_n();break;case 26:case 27:case 5:za(i);break;case 4:_n();break;case 13:mn(i);break;case 19:X(nt);break;case 10:pn(i.type);break;case 22:case 23:mn(i),_r(),n!==null&&X(di);break;case 24:pn(tt)}}function oa(n,i){try{var a=i.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var d=r.next;a=d;do{if((a.tag&n)===n){r=void 0;var m=a.create,T=a.inst;r=m(),T.destroy=r}a=a.next}while(a!==d)}}catch(C){Oe(i,i.return,C)}}function Ln(n,i,a){try{var r=i.updateQueue,d=r!==null?r.lastEffect:null;if(d!==null){var m=d.next;r=m;do{if((r.tag&n)===n){var T=r.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,d=i;var b=a,D=C;try{D()}catch(q){Oe(d,b,q)}}}r=r.next}while(r!==m)}}catch(q){Oe(i,i.return,q)}}function ap(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Zf(i,a)}catch(r){Oe(n,n.return,r)}}}function lp(n,i,a){a.props=hi(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(r){Oe(n,i,r)}}function aa(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var r=n.stateNode;break;case 30:r=n.stateNode;break;default:r=n.stateNode}typeof a=="function"?n.refCleanup=a(r):a.current=r}}catch(d){Oe(n,i,d)}}function Qt(n,i){var a=n.ref,r=n.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(d){Oe(n,i,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Oe(n,i,d)}else a.current=null}function sp(n){var i=n.type,a=n.memoizedProps,r=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(d){Oe(n,n.return,d)}}function Wr(n,i,a){try{var r=n.stateNode;Zv(r,n.type,a,i),r[vt]=i}catch(d){Oe(n,n.return,d)}}function rp(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Hn(n.type)||n.tag===4}function jr(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Hn(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function eu(n,i,a){var r=n.tag;if(r===5||r===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Pl));else if(r!==4&&(r===27&&Hn(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(eu(n,i,a),n=n.sibling;n!==null;)eu(n,i,a),n=n.sibling}function Rl(n,i,a){var r=n.tag;if(r===5||r===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(r!==4&&(r===27&&Hn(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Rl(n,i,a),n=n.sibling;n!==null;)Rl(n,i,a),n=n.sibling}function up(n){var i=n.stateNode,a=n.memoizedProps;try{for(var r=n.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);ut(i,r,a),i[ct]=n,i[vt]=a}catch(m){Oe(n,n.return,m)}}var vn=!1,Qe=!1,tu=!1,cp=typeof WeakSet=="function"?WeakSet:Set,at=null;function wv(n,i){if(n=n.containerInfo,Eu=$l,n=Cf(n),js(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var d=r.anchorOffset,m=r.focusNode;r=r.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,C=-1,b=-1,D=0,q=0,O=n,N=null;t:for(;;){for(var I;O!==a||d!==0&&O.nodeType!==3||(C=T+d),O!==m||r!==0&&O.nodeType!==3||(b=T+r),O.nodeType===3&&(T+=O.nodeValue.length),(I=O.firstChild)!==null;)N=O,O=I;for(;;){if(O===n)break t;if(N===a&&++D===d&&(C=T),N===m&&++q===r&&(b=T),(I=O.nextSibling)!==null)break;O=N,N=O.parentNode}O=I}a=C===-1||b===-1?null:{start:C,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(wu={focusedElem:n,selectionRange:a},$l=!1,at=i;at!==null;)if(i=at,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,at=n;else for(;at!==null;){switch(i=at,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,d=m.memoizedProps,m=m.memoizedState,r=a.stateNode;try{var se=hi(a.type,d,a.elementType===a.type);n=r.getSnapshotBeforeUpdate(se,m),r.__reactInternalSnapshotBeforeUpdate=n}catch(ie){Oe(a,a.return,ie)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Ru(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ru(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=i.sibling,n!==null){n.return=i.return,at=n;break}at=i.return}}function fp(n,i,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:qn(n,a),r&4&&oa(5,a);break;case 1:if(qn(n,a),r&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(T){Oe(a,a.return,T)}else{var d=hi(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(d,i,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Oe(a,a.return,T)}}r&64&&ap(a),r&512&&aa(a,a.return);break;case 3:if(qn(n,a),r&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Zf(n,i)}catch(T){Oe(a,a.return,T)}}break;case 27:i===null&&r&4&&up(a);case 26:case 5:qn(n,a),i===null&&r&4&&sp(a),r&512&&aa(a,a.return);break;case 12:qn(n,a);break;case 13:qn(n,a),r&4&&hp(n,a),r&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Lv.bind(null,a),jv(n,a))));break;case 22:if(r=a.memoizedState!==null||vn,!r){i=i!==null&&i.memoizedState!==null||Qe,d=vn;var m=Qe;vn=r,(Qe=i)&&!m?Vn(n,a,(a.subtreeFlags&8772)!==0):qn(n,a),vn=d,Qe=m}break;case 30:break;default:qn(n,a)}}function dp(n){var i=n.alternate;i!==null&&(n.alternate=null,dp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Us(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ye=null,Ct=!1;function Tn(n,i,a){for(a=a.child;a!==null;)pp(n,i,a),a=a.sibling}function pp(n,i,a){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(wo,a)}catch{}switch(a.tag){case 26:Qe||Qt(a,i),Tn(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Qe||Qt(a,i);var r=Ye,d=Ct;Hn(a.type)&&(Ye=a.stateNode,Ct=!1),Tn(n,i,a),ha(a.stateNode),Ye=r,Ct=d;break;case 5:Qe||Qt(a,i);case 6:if(r=Ye,d=Ct,Ye=null,Tn(n,i,a),Ye=r,Ct=d,Ye!==null)if(Ct)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(m){Oe(a,i,m)}else try{Ye.removeChild(a.stateNode)}catch(m){Oe(a,i,m)}break;case 18:Ye!==null&&(Ct?(n=Ye,th(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Sa(n)):th(Ye,a.stateNode));break;case 4:r=Ye,d=Ct,Ye=a.stateNode.containerInfo,Ct=!0,Tn(n,i,a),Ye=r,Ct=d;break;case 0:case 11:case 14:case 15:Qe||Ln(2,a,i),Qe||Ln(4,a,i),Tn(n,i,a);break;case 1:Qe||(Qt(a,i),r=a.stateNode,typeof r.componentWillUnmount=="function"&&lp(a,i,r)),Tn(n,i,a);break;case 21:Tn(n,i,a);break;case 22:Qe=(r=Qe)||a.memoizedState!==null,Tn(n,i,a),Qe=r;break;default:Tn(n,i,a)}}function hp(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Sa(n)}catch(a){Oe(i,i.return,a)}}function Av(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new cp),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new cp),i;default:throw Error(o(435,n.tag))}}function nu(n,i){var a=Av(n);i.forEach(function(r){var d=qv.bind(null,n,r);a.has(r)||(a.add(r),r.then(d,d))})}function Mt(n,i){var a=i.deletions;if(a!==null)for(var r=0;r<a.length;r++){var d=a[r],m=n,T=i,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Hn(C.type)){Ye=C.stateNode,Ct=!1;break e}break;case 5:Ye=C.stateNode,Ct=!1;break e;case 3:case 4:Ye=C.stateNode.containerInfo,Ct=!0;break e}C=C.return}if(Ye===null)throw Error(o(160));pp(m,T,d),Ye=null,Ct=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)mp(i,n),i=i.sibling}var Yt=null;function mp(n,i){var a=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Mt(i,n),Rt(n),r&4&&(Ln(3,n,n.return),oa(3,n),Ln(5,n,n.return));break;case 1:Mt(i,n),Rt(n),r&512&&(Qe||a===null||Qt(a,a.return)),r&64&&vn&&(n=n.updateQueue,n!==null&&(r=n.callbacks,r!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var d=Yt;if(Mt(i,n),Rt(n),r&512&&(Qe||a===null||Qt(a,a.return)),r&4){var m=a!==null?a.memoizedState:null;if(r=n.memoizedState,a===null)if(r===null)if(n.stateNode===null){e:{r=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(r){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ro]||m[ct]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(r),d.head.insertBefore(m,d.querySelector("head > title"))),ut(m,r,a),m[ct]=n,it(m),r=m;break e;case"link":var T=uh("link","href",d).get(r+(a.href||""));if(T){for(var C=0;C<T.length;C++)if(m=T[C],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(C,1);break t}}m=d.createElement(r),ut(m,r,a),d.head.appendChild(m);break;case"meta":if(T=uh("meta","content",d).get(r+(a.content||""))){for(C=0;C<T.length;C++)if(m=T[C],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(C,1);break t}}m=d.createElement(r),ut(m,r,a),d.head.appendChild(m);break;default:throw Error(o(468,r))}m[ct]=n,it(m),r=m}n.stateNode=r}else ch(d,n.type,n.stateNode);else n.stateNode=rh(d,r,n.memoizedProps);else m!==r?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,r===null?ch(d,n.type,n.stateNode):rh(d,r,n.memoizedProps)):r===null&&n.stateNode!==null&&Wr(n,n.memoizedProps,a.memoizedProps)}break;case 27:Mt(i,n),Rt(n),r&512&&(Qe||a===null||Qt(a,a.return)),a!==null&&r&4&&Wr(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Mt(i,n),Rt(n),r&512&&(Qe||a===null||Qt(a,a.return)),n.flags&32){d=n.stateNode;try{Di(d,"")}catch(I){Oe(n,n.return,I)}}r&4&&n.stateNode!=null&&(d=n.memoizedProps,Wr(n,d,a!==null?a.memoizedProps:d)),r&1024&&(tu=!0);break;case 6:if(Mt(i,n),Rt(n),r&4){if(n.stateNode===null)throw Error(o(162));r=n.memoizedProps,a=n.stateNode;try{a.nodeValue=r}catch(I){Oe(n,n.return,I)}}break;case 3:if(Fl=null,d=Yt,Yt=Gl(i.containerInfo),Mt(i,n),Yt=d,Rt(n),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Sa(i.containerInfo)}catch(I){Oe(n,n.return,I)}tu&&(tu=!1,gp(n));break;case 4:r=Yt,Yt=Gl(n.stateNode.containerInfo),Mt(i,n),Rt(n),Yt=r;break;case 12:Mt(i,n),Rt(n);break;case 13:Mt(i,n),Rt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ru=Kt()),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,nu(n,r)));break;case 22:d=n.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,D=vn,q=Qe;if(vn=D||d,Qe=q||b,Mt(i,n),Qe=q,vn=D,Rt(n),r&8192)e:for(i=n.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||b||vn||Qe||mi(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(m=b.stateNode,d)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=b.stateNode;var O=b.memoizedProps.style,N=O!=null&&O.hasOwnProperty("display")?O.display:null;C.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(I){Oe(b,b.return,I)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=d?"":b.memoizedProps}catch(I){Oe(b,b.return,I)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=n.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,nu(n,a))));break;case 19:Mt(i,n),Rt(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,nu(n,r)));break;case 30:break;case 21:break;default:Mt(i,n),Rt(n)}}function Rt(n){var i=n.flags;if(i&2){try{for(var a,r=n.return;r!==null;){if(rp(r)){a=r;break}r=r.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var d=a.stateNode,m=jr(n);Rl(n,m,d);break;case 5:var T=a.stateNode;a.flags&32&&(Di(T,""),a.flags&=-33);var C=jr(n);Rl(n,C,T);break;case 3:case 4:var b=a.stateNode.containerInfo,D=jr(n);eu(n,D,b);break;default:throw Error(o(161))}}catch(q){Oe(n,n.return,q)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function gp(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;gp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function qn(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)fp(n,i.alternate,i),i=i.sibling}function mi(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ln(4,i,i.return),mi(i);break;case 1:Qt(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&lp(i,i.return,a),mi(i);break;case 27:ha(i.stateNode);case 26:case 5:Qt(i,i.return),mi(i);break;case 22:i.memoizedState===null&&mi(i);break;case 30:mi(i);break;default:mi(i)}n=n.sibling}}function Vn(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,d=n,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:Vn(d,m,a),oa(4,m);break;case 1:if(Vn(d,m,a),r=m,d=r.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){Oe(r,r.return,D)}if(r=m,d=r.updateQueue,d!==null){var C=r.stateNode;try{var b=d.shared.hiddenCallbacks;if(b!==null)for(d.shared.hiddenCallbacks=null,d=0;d<b.length;d++)Yf(b[d],C)}catch(D){Oe(r,r.return,D)}}a&&T&64&&ap(m),aa(m,m.return);break;case 27:up(m);case 26:case 5:Vn(d,m,a),a&&r===null&&T&4&&sp(m),aa(m,m.return);break;case 12:Vn(d,m,a);break;case 13:Vn(d,m,a),a&&T&4&&hp(d,m);break;case 22:m.memoizedState===null&&Vn(d,m,a),aa(m,m.return);break;case 30:break;default:Vn(d,m,a)}i=i.sibling}}function iu(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Fo(a))}function ou(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Fo(n))}function Wt(n,i,a,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)yp(n,i,a,r),i=i.sibling}function yp(n,i,a,r){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Wt(n,i,a,r),d&2048&&oa(9,i);break;case 1:Wt(n,i,a,r);break;case 3:Wt(n,i,a,r),d&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Fo(n)));break;case 12:if(d&2048){Wt(n,i,a,r),n=i.stateNode;try{var m=i.memoizedProps,T=m.id,C=m.onPostCommit;typeof C=="function"&&C(T,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(b){Oe(i,i.return,b)}}else Wt(n,i,a,r);break;case 13:Wt(n,i,a,r);break;case 23:break;case 22:m=i.stateNode,T=i.alternate,i.memoizedState!==null?m._visibility&2?Wt(n,i,a,r):la(n,i):m._visibility&2?Wt(n,i,a,r):(m._visibility|=2,Ji(n,i,a,r,(i.subtreeFlags&10256)!==0)),d&2048&&iu(T,i);break;case 24:Wt(n,i,a,r),d&2048&&ou(i.alternate,i);break;default:Wt(n,i,a,r)}}function Ji(n,i,a,r,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,T=i,C=a,b=r,D=T.flags;switch(T.tag){case 0:case 11:case 15:Ji(m,T,C,b,d),oa(8,T);break;case 23:break;case 22:var q=T.stateNode;T.memoizedState!==null?q._visibility&2?Ji(m,T,C,b,d):la(m,T):(q._visibility|=2,Ji(m,T,C,b,d)),d&&D&2048&&iu(T.alternate,T);break;case 24:Ji(m,T,C,b,d),d&&D&2048&&ou(T.alternate,T);break;default:Ji(m,T,C,b,d)}i=i.sibling}}function la(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,r=i,d=r.flags;switch(r.tag){case 22:la(a,r),d&2048&&iu(r.alternate,r);break;case 24:la(a,r),d&2048&&ou(r.alternate,r);break;default:la(a,r)}i=i.sibling}}var sa=8192;function Qi(n){if(n.subtreeFlags&sa)for(n=n.child;n!==null;)vp(n),n=n.sibling}function vp(n){switch(n.tag){case 26:Qi(n),n.flags&sa&&n.memoizedState!==null&&dT(Yt,n.memoizedState,n.memoizedProps);break;case 5:Qi(n);break;case 3:case 4:var i=Yt;Yt=Gl(n.stateNode.containerInfo),Qi(n),Yt=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=sa,sa=16777216,Qi(n),sa=i):Qi(n));break;default:Qi(n)}}function Tp(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function ra(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];at=r,Cp(r,n)}Tp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xp(n),n=n.sibling}function xp(n){switch(n.tag){case 0:case 11:case 15:ra(n),n.flags&2048&&Ln(9,n,n.return);break;case 3:ra(n);break;case 12:ra(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,kl(n)):ra(n);break;default:ra(n)}}function kl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var r=i[a];at=r,Cp(r,n)}Tp(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ln(8,i,i.return),kl(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,kl(i));break;default:kl(i)}n=n.sibling}}function Cp(n,i){for(;at!==null;){var a=at;switch(a.tag){case 0:case 11:case 15:Ln(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,at=r;else e:for(a=n;at!==null;){r=at;var d=r.sibling,m=r.return;if(dp(r),r===a){at=null;break e}if(d!==null){d.return=m,at=d;break e}at=m}}}var Mv={getCacheForType:function(n){var i=ft(tt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},Rv=typeof WeakMap=="function"?WeakMap:Map,De=0,ze=null,ve=null,be=0,Ne=0,kt=null,On=!1,Wi=!1,au=!1,xn=0,Xe=0,zn=0,gi=0,lu=0,Bt=0,ji=0,ua=null,St=null,su=!1,ru=0,Dl=1/0,Nl=null,Pn=null,rt=0,Bn=null,eo=null,to=0,uu=0,cu=null,Sp=null,ca=0,fu=null;function Dt(){if((De&2)!==0&&be!==0)return be&-be;if(U.T!==null){var n=Gi;return n!==0?n:vu()}return Vc()}function bp(){Bt===0&&(Bt=(be&536870912)===0||ke?Ic():536870912);var n=Pt.current;return n!==null&&(n.flags|=32),Bt}function Nt(n,i,a){(n===ze&&(Ne===2||Ne===9)||n.cancelPendingCommit!==null)&&(no(n,0),Gn(n,be,Bt,!1)),Mo(n,a),((De&2)===0||n!==ze)&&(n===ze&&((De&2)===0&&(gi|=a),Xe===4&&Gn(n,be,Bt,!1)),jt(n))}function _p(n,i,a){if((De&6)!==0)throw Error(o(327));var r=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Ao(n,i),d=r?Nv(n,i):hu(n,i,!0),m=r;do{if(d===0){Wi&&!r&&Gn(n,i,0,!1);break}else{if(a=n.current.alternate,m&&!kv(a)){d=hu(n,i,!1),m=!1;continue}if(d===2){if(m=i,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var C=n;d=ua;var b=C.current.memoizedState.isDehydrated;if(b&&(no(C,T).flags|=256),T=hu(C,T,!1),T!==2){if(au&&!b){C.errorRecoveryDisabledLanes|=m,gi|=m,d=4;break e}m=St,St=d,m!==null&&(St===null?St=m:St.push.apply(St,m))}d=T}if(m=!1,d!==2)continue}}if(d===1){no(n,0),Gn(n,i,0,!0);break}e:{switch(r=n,m=d,m){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:Gn(r,i,Bt,!On);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(d=ru+300-Kt(),10<d)){if(Gn(r,i,Bt,!On),Ha(r,0,!0)!==0)break e;r.timeoutHandle=jp(Ep.bind(null,r,a,St,Nl,su,i,Bt,gi,ji,On,m,2,-0,0),d);break e}Ep(r,a,St,Nl,su,i,Bt,gi,ji,On,m,0,-0,0)}}break}while(!0);jt(n)}function Ep(n,i,a,r,d,m,T,C,b,D,q,O,N,I){if(n.timeoutHandle=-1,O=i.subtreeFlags,(O&8192||(O&16785408)===16785408)&&(ya={stylesheets:null,count:0,unsuspend:fT},vp(i),O=pT(),O!==null)){n.cancelPendingCommit=O(Np.bind(null,n,i,m,a,r,d,T,C,b,q,1,N,I)),Gn(n,m,T,!D);return}Np(n,i,m,a,r,d,T,C,b)}function kv(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var d=a[r],m=d.getSnapshot;d=d.value;try{if(!wt(m(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gn(n,i,a,r){i&=~lu,i&=~gi,n.suspendedLanes|=i,n.pingedLanes&=~i,r&&(n.warmLanes|=i),r=n.expirationTimes;for(var d=i;0<d;){var m=31-Et(d),T=1<<m;r[m]=-1,d&=~T}a!==0&&Lc(n,a,i)}function Il(){return(De&6)===0?(fa(0),!1):!0}function du(){if(ve!==null){if(Ne===0)var n=ve.return;else n=ve,dn=ci=null,Rr(n),Ki=null,ta=0,n=ve;for(;n!==null;)op(n.alternate,n),n=n.return;ve=null}}function no(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Kv(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),du(),ze=n,ve=a=un(n.current,null),be=i,Ne=0,kt=null,On=!1,Wi=Ao(n,i),au=!1,ji=Bt=lu=gi=zn=Xe=0,St=ua=null,su=!1,(i&8)!==0&&(i|=i&32);var r=n.entangledLanes;if(r!==0)for(n=n.entanglements,r&=i;0<r;){var d=31-Et(r),m=1<<d;i|=n[d],r&=~m}return xn=i,tl(),a}function wp(n,i){ge=null,U.H=xl,i===Zo||i===cl?(i=Hf(),Ne=3):i===Pf?(i=Hf(),Ne=4):Ne=i===Fd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,kt=i,ve===null&&(Xe=1,El(n,qt(i,n.current)))}function Ap(){var n=U.H;return U.H=xl,n===null?xl:n}function Mp(){var n=U.A;return U.A=Mv,n}function pu(){Xe=4,On||(be&4194048)!==be&&Pt.current!==null||(Wi=!0),(zn&134217727)===0&&(gi&134217727)===0||ze===null||Gn(ze,be,Bt,!1)}function hu(n,i,a){var r=De;De|=2;var d=Ap(),m=Mp();(ze!==n||be!==i)&&(Nl=null,no(n,i)),i=!1;var T=Xe;e:do try{if(Ne!==0&&ve!==null){var C=ve,b=kt;switch(Ne){case 8:du(),T=6;break e;case 3:case 2:case 9:case 6:Pt.current===null&&(i=!0);var D=Ne;if(Ne=0,kt=null,io(n,C,b,D),a&&Wi){T=0;break e}break;default:D=Ne,Ne=0,kt=null,io(n,C,b,D)}}Dv(),T=Xe;break}catch(q){wp(n,q)}while(!0);return i&&n.shellSuspendCounter++,dn=ci=null,De=r,U.H=d,U.A=m,ve===null&&(ze=null,be=0,tl()),T}function Dv(){for(;ve!==null;)Rp(ve)}function Nv(n,i){var a=De;De|=2;var r=Ap(),d=Mp();ze!==n||be!==i?(Nl=null,Dl=Kt()+500,no(n,i)):Wi=Ao(n,i);e:do try{if(Ne!==0&&ve!==null){i=ve;var m=kt;t:switch(Ne){case 1:Ne=0,kt=null,io(n,i,m,1);break;case 2:case 9:if(Bf(m)){Ne=0,kt=null,kp(i);break}i=function(){Ne!==2&&Ne!==9||ze!==n||(Ne=7),jt(n)},m.then(i,i);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Bf(m)?(Ne=0,kt=null,kp(i)):(Ne=0,kt=null,io(n,i,m,7));break;case 5:var T=null;switch(ve.tag){case 26:T=ve.memoizedState;case 5:case 27:var C=ve;if(!T||fh(T)){Ne=0,kt=null;var b=C.sibling;if(b!==null)ve=b;else{var D=C.return;D!==null?(ve=D,Ul(D)):ve=null}break t}}Ne=0,kt=null,io(n,i,m,5);break;case 6:Ne=0,kt=null,io(n,i,m,6);break;case 8:du(),Xe=6;break e;default:throw Error(o(462))}}Iv();break}catch(q){wp(n,q)}while(!0);return dn=ci=null,U.H=r,U.A=d,De=a,ve!==null?0:(ze=null,be=0,tl(),Xe)}function Iv(){for(;ve!==null&&!ty();)Rp(ve)}function Rp(n){var i=np(n.alternate,n,xn);n.memoizedProps=n.pendingProps,i===null?Ul(n):ve=i}function kp(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Jd(a,i,i.pendingProps,i.type,void 0,be);break;case 11:i=Jd(a,i,i.pendingProps,i.type.render,i.ref,be);break;case 5:Rr(i);default:op(a,i),i=ve=Df(i,xn),i=np(a,i,xn)}n.memoizedProps=n.pendingProps,i===null?Ul(n):ve=i}function io(n,i,a,r){dn=ci=null,Rr(i),Ki=null,ta=0;var d=i.return;try{if(Sv(n,d,i,a,be)){Xe=1,El(n,qt(a,n.current)),ve=null;return}}catch(m){if(d!==null)throw ve=d,m;Xe=1,El(n,qt(a,n.current)),ve=null;return}i.flags&32768?(ke||r===1?n=!0:Wi||(be&536870912)!==0?n=!1:(On=n=!0,(r===2||r===9||r===3||r===6)&&(r=Pt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Dp(i,n)):Ul(i)}function Ul(n){var i=n;do{if((i.flags&32768)!==0){Dp(i,On);return}n=i.return;var a=_v(i.alternate,i,xn);if(a!==null){ve=a;return}if(i=i.sibling,i!==null){ve=i;return}ve=i=n}while(i!==null);Xe===0&&(Xe=5)}function Dp(n,i){do{var a=Ev(n.alternate,n);if(a!==null){a.flags&=32767,ve=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){ve=n;return}ve=n=a}while(n!==null);Xe=6,ve=null}function Np(n,i,a,r,d,m,T,C,b){n.cancelPendingCommit=null;do Ll();while(rt!==0);if((De&6)!==0)throw Error(o(327));if(i!==null){if(i===n.current)throw Error(o(177));if(m=i.lanes|i.childLanes,m|=or,fy(n,a,m,T,C,b),n===ze&&(ve=ze=null,be=0),eo=i,Bn=n,to=a,uu=m,cu=d,Sp=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Vv(Pa,function(){return Vp(),null})):(n.callbackNode=null,n.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=U.T,U.T=null,d=G.p,G.p=2,T=De,De|=4;try{wv(n,i,a)}finally{De=T,G.p=d,U.T=r}}rt=1,Ip(),Up(),Lp()}}function Ip(){if(rt===1){rt=0;var n=Bn,i=eo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var r=G.p;G.p=2;var d=De;De|=4;try{mp(i,n);var m=wu,T=Cf(n.containerInfo),C=m.focusedElem,b=m.selectionRange;if(T!==C&&C&&C.ownerDocument&&xf(C.ownerDocument.documentElement,C)){if(b!==null&&js(C)){var D=b.start,q=b.end;if(q===void 0&&(q=D),"selectionStart"in C)C.selectionStart=D,C.selectionEnd=Math.min(q,C.value.length);else{var O=C.ownerDocument||document,N=O&&O.defaultView||window;if(N.getSelection){var I=N.getSelection(),se=C.textContent.length,ie=Math.min(b.start,se),qe=b.end===void 0?ie:Math.min(b.end,se);!I.extend&&ie>qe&&(T=qe,qe=ie,ie=T);var M=Tf(C,ie),E=Tf(C,qe);if(M&&E&&(I.rangeCount!==1||I.anchorNode!==M.node||I.anchorOffset!==M.offset||I.focusNode!==E.node||I.focusOffset!==E.offset)){var k=O.createRange();k.setStart(M.node,M.offset),I.removeAllRanges(),ie>qe?(I.addRange(k),I.extend(E.node,E.offset)):(k.setEnd(E.node,E.offset),I.addRange(k))}}}}for(O=[],I=C;I=I.parentNode;)I.nodeType===1&&O.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<O.length;C++){var V=O[C];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}$l=!!Eu,wu=Eu=null}finally{De=d,G.p=r,U.T=a}}n.current=i,rt=2}}function Up(){if(rt===2){rt=0;var n=Bn,i=eo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var r=G.p;G.p=2;var d=De;De|=4;try{fp(n,i.alternate,i)}finally{De=d,G.p=r,U.T=a}}rt=3}}function Lp(){if(rt===4||rt===3){rt=0,ny();var n=Bn,i=eo,a=to,r=Sp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?rt=5:(rt=0,eo=Bn=null,qp(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Pn=null),Ns(a),i=i.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(wo,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=U.T,d=G.p,G.p=2,U.T=null;try{for(var m=n.onRecoverableError,T=0;T<r.length;T++){var C=r[T];m(C.value,{componentStack:C.stack})}}finally{U.T=i,G.p=d}}(to&3)!==0&&Ll(),jt(n),d=n.pendingLanes,(a&4194090)!==0&&(d&42)!==0?n===fu?ca++:(ca=0,fu=n):ca=0,fa(0)}}function qp(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Fo(i)))}function Ll(n){return Ip(),Up(),Lp(),Vp()}function Vp(){if(rt!==5)return!1;var n=Bn,i=uu;uu=0;var a=Ns(to),r=U.T,d=G.p;try{G.p=32>a?32:a,U.T=null,a=cu,cu=null;var m=Bn,T=to;if(rt=0,eo=Bn=null,to=0,(De&6)!==0)throw Error(o(331));var C=De;if(De|=4,xp(m.current),yp(m,m.current,T,a),De=C,fa(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(wo,m)}catch{}return!0}finally{G.p=d,U.T=r,qp(n,i)}}function Op(n,i,a){i=qt(a,i),i=Hr(n.stateNode,i,2),n=Dn(n,i,2),n!==null&&(Mo(n,2),jt(n))}function Oe(n,i,a){if(n.tag===3)Op(n,n,a);else for(;i!==null;){if(i.tag===3){Op(i,n,a);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pn===null||!Pn.has(r))){n=qt(a,n),a=Gd(2),r=Dn(i,a,2),r!==null&&(Hd(a,r,i,n),Mo(r,2),jt(r));break}}i=i.return}}function mu(n,i,a){var r=n.pingCache;if(r===null){r=n.pingCache=new Rv;var d=new Set;r.set(i,d)}else d=r.get(i),d===void 0&&(d=new Set,r.set(i,d));d.has(a)||(au=!0,d.add(a),n=Uv.bind(null,n,i,a),i.then(n,n))}function Uv(n,i,a){var r=n.pingCache;r!==null&&r.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ze===n&&(be&a)===a&&(Xe===4||Xe===3&&(be&62914560)===be&&300>Kt()-ru?(De&2)===0&&no(n,0):lu|=a,ji===be&&(ji=0)),jt(n)}function zp(n,i){i===0&&(i=Uc()),n=Oi(n,i),n!==null&&(Mo(n,i),jt(n))}function Lv(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),zp(n,a)}function qv(n,i){var a=0;switch(n.tag){case 13:var r=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:r=n.stateNode;break;case 22:r=n.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(i),zp(n,a)}function Vv(n,i){return Ms(n,i)}var ql=null,oo=null,gu=!1,Vl=!1,yu=!1,yi=0;function jt(n){n!==oo&&n.next===null&&(oo===null?ql=oo=n:oo=oo.next=n),Vl=!0,gu||(gu=!0,zv())}function fa(n,i){if(!yu&&Vl){yu=!0;do for(var a=!1,r=ql;r!==null;){if(n!==0){var d=r.pendingLanes;if(d===0)var m=0;else{var T=r.suspendedLanes,C=r.pingedLanes;m=(1<<31-Et(42|n)+1)-1,m&=d&~(T&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Hp(r,m))}else m=be,m=Ha(r,r===ze?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(m&3)===0||Ao(r,m)||(a=!0,Hp(r,m));r=r.next}while(a);yu=!1}}function Ov(){Pp()}function Pp(){Vl=gu=!1;var n=0;yi!==0&&($v()&&(n=yi),yi=0);for(var i=Kt(),a=null,r=ql;r!==null;){var d=r.next,m=Bp(r,i);m===0?(r.next=null,a===null?ql=d:a.next=d,d===null&&(oo=a)):(a=r,(n!==0||(m&3)!==0)&&(Vl=!0)),r=d}fa(n)}function Bp(n,i){for(var a=n.suspendedLanes,r=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-Et(m),C=1<<T,b=d[T];b===-1?((C&a)===0||(C&r)!==0)&&(d[T]=cy(C,i)):b<=i&&(n.expiredLanes|=C),m&=~C}if(i=ze,a=be,a=Ha(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r=n.callbackNode,a===0||n===i&&(Ne===2||Ne===9)||n.cancelPendingCommit!==null)return r!==null&&r!==null&&Rs(r),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ao(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(r!==null&&Rs(r),Ns(a)){case 2:case 8:a=Dc;break;case 32:a=Pa;break;case 268435456:a=Nc;break;default:a=Pa}return r=Gp.bind(null,n),a=Ms(a,r),n.callbackPriority=i,n.callbackNode=a,i}return r!==null&&r!==null&&Rs(r),n.callbackPriority=2,n.callbackNode=null,2}function Gp(n,i){if(rt!==0&&rt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Ll()&&n.callbackNode!==a)return null;var r=be;return r=Ha(n,n===ze?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r===0?null:(_p(n,r,i),Bp(n,Kt()),n.callbackNode!=null&&n.callbackNode===a?Gp.bind(null,n):null)}function Hp(n,i){if(Ll())return null;_p(n,i,!0)}function zv(){Xv(function(){(De&6)!==0?Ms(kc,Ov):Pp()})}function vu(){return yi===0&&(yi=Ic()),yi}function Fp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ka(""+n)}function Yp(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function Pv(n,i,a,r,d){if(i==="submit"&&a&&a.stateNode===d){var m=Fp((d[vt]||null).action),T=r.submitter;T&&(i=(i=T[vt]||null)?Fp(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var C=new Wa("action","action",null,r,d);n.push({event:C,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(yi!==0){var b=T?Yp(d,T):new FormData(d);Or(a,{pending:!0,data:b,method:d.method,action:m},null,b)}}else typeof m=="function"&&(C.preventDefault(),b=T?Yp(d,T):new FormData(d),Or(a,{pending:!0,data:b,method:d.method,action:m},m,b))},currentTarget:d}]})}}for(var Tu=0;Tu<ir.length;Tu++){var xu=ir[Tu],Bv=xu.toLowerCase(),Gv=xu[0].toUpperCase()+xu.slice(1);Ft(Bv,"on"+Gv)}Ft(_f,"onAnimationEnd"),Ft(Ef,"onAnimationIteration"),Ft(wf,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(av,"onTransitionRun"),Ft(lv,"onTransitionStart"),Ft(sv,"onTransitionCancel"),Ft(Af,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(da));function Zp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var r=n[a],d=r.event;r=r.listeners;e:{var m=void 0;if(i)for(var T=r.length-1;0<=T;T--){var C=r[T],b=C.instance,D=C.currentTarget;if(C=C.listener,b!==m&&d.isPropagationStopped())break e;m=C,d.currentTarget=D;try{m(d)}catch(q){_l(q)}d.currentTarget=null,m=b}else for(T=0;T<r.length;T++){if(C=r[T],b=C.instance,D=C.currentTarget,C=C.listener,b!==m&&d.isPropagationStopped())break e;m=C,d.currentTarget=D;try{m(d)}catch(q){_l(q)}d.currentTarget=null,m=b}}}}function Te(n,i){var a=i[Is];a===void 0&&(a=i[Is]=new Set);var r=n+"__bubble";a.has(r)||($p(i,n,2,!1),a.add(r))}function Cu(n,i,a){var r=0;i&&(r|=4),$p(a,n,r,i)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function Su(n){if(!n[Ol]){n[Ol]=!0,zc.forEach(function(a){a!=="selectionchange"&&(Hv.has(a)||Cu(a,!1,n),Cu(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ol]||(i[Ol]=!0,Cu("selectionchange",!1,i))}}function $p(n,i,a,r){switch(yh(i)){case 2:var d=gT;break;case 8:d=yT;break;default:d=qu}a=d.bind(null,i,a,n),d=void 0,!Fs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),r?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function bu(n,i,a,r,d){var m=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var T=r.tag;if(T===3||T===4){var C=r.stateNode.containerInfo;if(C===d)break;if(T===4)for(T=r.return;T!==null;){var b=T.tag;if((b===3||b===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;C!==null;){if(T=Ei(C),T===null)return;if(b=T.tag,b===5||b===6||b===26||b===27){r=m=T;continue e}C=C.parentNode}}r=r.return}jc(function(){var D=m,q=Gs(a),O=[];e:{var N=Mf.get(n);if(N!==void 0){var I=Wa,se=n;switch(n){case"keypress":if(Ja(a)===0)break e;case"keydown":case"keyup":I=Vy;break;case"focusin":se="focus",I=Ks;break;case"focusout":se="blur",I=Ks;break;case"beforeblur":case"afterblur":I=Ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Ey;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Py;break;case _f:case Ef:case wf:I=My;break;case Af:I=Gy;break;case"scroll":case"scrollend":I=by;break;case"wheel":I=Fy;break;case"copy":case"cut":case"paste":I=ky;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=af;break;case"toggle":case"beforetoggle":I=Zy}var ie=(i&4)!==0,qe=!ie&&(n==="scroll"||n==="scrollend"),M=ie?N!==null?N+"Capture":null:N;ie=[];for(var E=D,k;E!==null;){var V=E;if(k=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||k===null||M===null||(V=Do(E,M),V!=null&&ie.push(pa(E,V,k))),qe)break;E=E.return}0<ie.length&&(N=new I(N,se,null,a,q),O.push({event:N,listeners:ie}))}}if((i&7)===0){e:{if(N=n==="mouseover"||n==="pointerover",I=n==="mouseout"||n==="pointerout",N&&a!==Bs&&(se=a.relatedTarget||a.fromElement)&&(Ei(se)||se[_i]))break e;if((I||N)&&(N=q.window===q?q:(N=q.ownerDocument)?N.defaultView||N.parentWindow:window,I?(se=a.relatedTarget||a.toElement,I=D,se=se?Ei(se):null,se!==null&&(qe=u(se),ie=se.tag,se!==qe||ie!==5&&ie!==27&&ie!==6)&&(se=null)):(I=null,se=D),I!==se)){if(ie=nf,V="onMouseLeave",M="onMouseEnter",E="mouse",(n==="pointerout"||n==="pointerover")&&(ie=af,V="onPointerLeave",M="onPointerEnter",E="pointer"),qe=I==null?N:ko(I),k=se==null?N:ko(se),N=new ie(V,E+"leave",I,a,q),N.target=qe,N.relatedTarget=k,V=null,Ei(q)===D&&(ie=new ie(M,E+"enter",se,a,q),ie.target=k,ie.relatedTarget=qe,V=ie),qe=V,I&&se)t:{for(ie=I,M=se,E=0,k=ie;k;k=ao(k))E++;for(k=0,V=M;V;V=ao(V))k++;for(;0<E-k;)ie=ao(ie),E--;for(;0<k-E;)M=ao(M),k--;for(;E--;){if(ie===M||M!==null&&ie===M.alternate)break t;ie=ao(ie),M=ao(M)}ie=null}else ie=null;I!==null&&Kp(O,N,I,ie,!1),se!==null&&qe!==null&&Kp(O,qe,se,ie,!0)}}e:{if(N=D?ko(D):window,I=N.nodeName&&N.nodeName.toLowerCase(),I==="select"||I==="input"&&N.type==="file")var Q=pf;else if(ff(N))if(hf)Q=nv;else{Q=ev;var ye=jy}else I=N.nodeName,!I||I.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?D&&Ps(D.elementType)&&(Q=pf):Q=tv;if(Q&&(Q=Q(n,D))){df(O,Q,a,q);break e}ye&&ye(n,N,D),n==="focusout"&&D&&N.type==="number"&&D.memoizedProps.value!=null&&zs(N,"number",N.value)}switch(ye=D?ko(D):window,n){case"focusin":(ff(ye)||ye.contentEditable==="true")&&(Li=ye,er=D,zo=null);break;case"focusout":zo=er=Li=null;break;case"mousedown":tr=!0;break;case"contextmenu":case"mouseup":case"dragend":tr=!1,Sf(O,a,q);break;case"selectionchange":if(ov)break;case"keydown":case"keyup":Sf(O,a,q)}var ee;if(Js)e:{switch(n){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else Ui?uf(n,a)&&(le="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(le="onCompositionStart");le&&(lf&&a.locale!=="ko"&&(Ui||le!=="onCompositionStart"?le==="onCompositionEnd"&&Ui&&(ee=ef()):(An=q,Ys="value"in An?An.value:An.textContent,Ui=!0)),ye=zl(D,le),0<ye.length&&(le=new of(le,n,null,a,q),O.push({event:le,listeners:ye}),ee?le.data=ee:(ee=cf(a),ee!==null&&(le.data=ee)))),(ee=Ky?Xy(n,a):Jy(n,a))&&(le=zl(D,"onBeforeInput"),0<le.length&&(ye=new of("onBeforeInput","beforeinput",null,a,q),O.push({event:ye,listeners:le}),ye.data=ee)),Pv(O,n,D,a,q)}Zp(O,i)})}function pa(n,i,a){return{instance:n,listener:i,currentTarget:a}}function zl(n,i){for(var a=i+"Capture",r=[];n!==null;){var d=n,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Do(n,a),d!=null&&r.unshift(pa(n,d,m)),d=Do(n,i),d!=null&&r.push(pa(n,d,m))),n.tag===3)return r;n=n.return}return[]}function ao(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Kp(n,i,a,r,d){for(var m=i._reactName,T=[];a!==null&&a!==r;){var C=a,b=C.alternate,D=C.stateNode;if(C=C.tag,b!==null&&b===r)break;C!==5&&C!==26&&C!==27||D===null||(b=D,d?(D=Do(a,m),D!=null&&T.unshift(pa(a,D,b))):d||(D=Do(a,m),D!=null&&T.push(pa(a,D,b)))),a=a.return}T.length!==0&&n.push({event:i,listeners:T})}var Fv=/\r\n?/g,Yv=/\u0000|\uFFFD/g;function Xp(n){return(typeof n=="string"?n:""+n).replace(Fv,`
`).replace(Yv,"")}function Jp(n,i){return i=Xp(i),Xp(n)===i}function Pl(){}function Le(n,i,a,r,d,m){switch(a){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||Di(n,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&Di(n,""+r);break;case"className":Ya(n,"class",r);break;case"tabIndex":Ya(n,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ya(n,a,r);break;case"style":Qc(n,r,m);break;case"data":if(i!=="object"){Ya(n,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(a);break}r=Ka(""+r),n.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&Le(n,i,"name",d.name,d,null),Le(n,i,"formEncType",d.formEncType,d,null),Le(n,i,"formMethod",d.formMethod,d,null),Le(n,i,"formTarget",d.formTarget,d,null)):(Le(n,i,"encType",d.encType,d,null),Le(n,i,"method",d.method,d,null),Le(n,i,"target",d.target,d,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(a);break}r=Ka(""+r),n.setAttribute(a,r);break;case"onClick":r!=null&&(n.onclick=Pl);break;case"onScroll":r!=null&&Te("scroll",n);break;case"onScrollEnd":r!=null&&Te("scrollend",n);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(d.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"multiple":n.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":n.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){n.removeAttribute("xlink:href");break}a=Ka(""+r),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(a,""+r):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":r===!0?n.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(a,r):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?n.setAttribute(a,r):n.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?n.removeAttribute(a):n.setAttribute(a,r);break;case"popover":Te("beforetoggle",n),Te("toggle",n),Fa(n,"popover",r);break;case"xlinkActuate":sn(n,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":sn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":sn(n,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":sn(n,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":sn(n,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":sn(n,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":sn(n,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":sn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":sn(n,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Fa(n,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cy.get(a)||a,Fa(n,a,r))}}function _u(n,i,a,r,d,m){switch(a){case"style":Qc(n,r,m);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(d.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"children":typeof r=="string"?Di(n,r):(typeof r=="number"||typeof r=="bigint")&&Di(n,""+r);break;case"onScroll":r!=null&&Te("scroll",n);break;case"onScrollEnd":r!=null&&Te("scrollend",n);break;case"onClick":r!=null&&(n.onclick=Pl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),m=n[vt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,d),typeof r=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,r,d);break e}a in n?n[a]=r:r===!0?n.setAttribute(a,""):Fa(n,a,r)}}}function ut(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",n),Te("load",n);var r=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":r=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Le(n,i,m,T,a,null)}}d&&Le(n,i,"srcSet",a.srcSet,a,null),r&&Le(n,i,"src",a.src,a,null);return;case"input":Te("invalid",n);var C=m=T=d=null,b=null,D=null;for(r in a)if(a.hasOwnProperty(r)){var q=a[r];if(q!=null)switch(r){case"name":d=q;break;case"type":T=q;break;case"checked":b=q;break;case"defaultChecked":D=q;break;case"value":m=q;break;case"defaultValue":C=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,i));break;default:Le(n,i,r,q,a,null)}}$c(n,m,C,b,D,T,d,!1),Za(n);return;case"select":Te("invalid",n),r=T=m=null;for(d in a)if(a.hasOwnProperty(d)&&(C=a[d],C!=null))switch(d){case"value":m=C;break;case"defaultValue":T=C;break;case"multiple":r=C;default:Le(n,i,d,C,a,null)}i=m,a=T,n.multiple=!!r,i!=null?ki(n,!!r,i,!1):a!=null&&ki(n,!!r,a,!0);return;case"textarea":Te("invalid",n),m=d=r=null;for(T in a)if(a.hasOwnProperty(T)&&(C=a[T],C!=null))switch(T){case"value":r=C;break;case"defaultValue":d=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:Le(n,i,T,C,a,null)}Xc(n,r,d,m),Za(n);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(r=a[b],r!=null))switch(b){case"selected":n.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Le(n,i,b,r,a,null)}return;case"dialog":Te("beforetoggle",n),Te("toggle",n),Te("cancel",n),Te("close",n);break;case"iframe":case"object":Te("load",n);break;case"video":case"audio":for(r=0;r<da.length;r++)Te(da[r],n);break;case"image":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"embed":case"source":case"link":Te("error",n),Te("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(r=a[D],r!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Le(n,i,D,r,a,null)}return;default:if(Ps(i)){for(q in a)a.hasOwnProperty(q)&&(r=a[q],r!==void 0&&_u(n,i,q,r,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(r=a[C],r!=null&&Le(n,i,C,r,a,null))}function Zv(n,i,a,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,T=null,C=null,b=null,D=null,q=null;for(I in a){var O=a[I];if(a.hasOwnProperty(I)&&O!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":b=O;default:r.hasOwnProperty(I)||Le(n,i,I,null,r,O)}}for(var N in r){var I=r[N];if(O=a[N],r.hasOwnProperty(N)&&(I!=null||O!=null))switch(N){case"type":m=I;break;case"name":d=I;break;case"checked":D=I;break;case"defaultChecked":q=I;break;case"value":T=I;break;case"defaultValue":C=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(o(137,i));break;default:I!==O&&Le(n,i,N,I,r,O)}}Os(n,T,C,b,D,q,m,d);return;case"select":I=T=C=N=null;for(m in a)if(b=a[m],a.hasOwnProperty(m)&&b!=null)switch(m){case"value":break;case"multiple":I=b;default:r.hasOwnProperty(m)||Le(n,i,m,null,r,b)}for(d in r)if(m=r[d],b=a[d],r.hasOwnProperty(d)&&(m!=null||b!=null))switch(d){case"value":N=m;break;case"defaultValue":C=m;break;case"multiple":T=m;default:m!==b&&Le(n,i,d,m,r,b)}i=C,a=T,r=I,N!=null?ki(n,!!a,N,!1):!!r!=!!a&&(i!=null?ki(n,!!a,i,!0):ki(n,!!a,a?[]:"",!1));return;case"textarea":I=N=null;for(C in a)if(d=a[C],a.hasOwnProperty(C)&&d!=null&&!r.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Le(n,i,C,null,r,d)}for(T in r)if(d=r[T],m=a[T],r.hasOwnProperty(T)&&(d!=null||m!=null))switch(T){case"value":N=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==m&&Le(n,i,T,d,r,m)}Kc(n,N,I);return;case"option":for(var se in a)if(N=a[se],a.hasOwnProperty(se)&&N!=null&&!r.hasOwnProperty(se))switch(se){case"selected":n.selected=!1;break;default:Le(n,i,se,null,r,N)}for(b in r)if(N=r[b],I=a[b],r.hasOwnProperty(b)&&N!==I&&(N!=null||I!=null))switch(b){case"selected":n.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Le(n,i,b,N,r,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)N=a[ie],a.hasOwnProperty(ie)&&N!=null&&!r.hasOwnProperty(ie)&&Le(n,i,ie,null,r,N);for(D in r)if(N=r[D],I=a[D],r.hasOwnProperty(D)&&N!==I&&(N!=null||I!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(137,i));break;default:Le(n,i,D,N,r,I)}return;default:if(Ps(i)){for(var qe in a)N=a[qe],a.hasOwnProperty(qe)&&N!==void 0&&!r.hasOwnProperty(qe)&&_u(n,i,qe,void 0,r,N);for(q in r)N=r[q],I=a[q],!r.hasOwnProperty(q)||N===I||N===void 0&&I===void 0||_u(n,i,q,N,r,I);return}}for(var M in a)N=a[M],a.hasOwnProperty(M)&&N!=null&&!r.hasOwnProperty(M)&&Le(n,i,M,null,r,N);for(O in r)N=r[O],I=a[O],!r.hasOwnProperty(O)||N===I||N==null&&I==null||Le(n,i,O,N,r,I)}var Eu=null,wu=null;function Bl(n){return n.nodeType===9?n:n.ownerDocument}function Qp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wp(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Au(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Mu=null;function $v(){var n=window.event;return n&&n.type==="popstate"?n===Mu?!1:(Mu=n,!0):(Mu=null,!1)}var jp=typeof setTimeout=="function"?setTimeout:void 0,Kv=typeof clearTimeout=="function"?clearTimeout:void 0,eh=typeof Promise=="function"?Promise:void 0,Xv=typeof queueMicrotask=="function"?queueMicrotask:typeof eh<"u"?function(n){return eh.resolve(null).then(n).catch(Jv)}:jp;function Jv(n){setTimeout(function(){throw n})}function Hn(n){return n==="head"}function th(n,i){var a=i,r=0,d=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<r&&8>r){a=r;var T=n.ownerDocument;if(a&1&&ha(T.documentElement),a&2&&ha(T.body),a&4)for(a=T.head,ha(a),T=a.firstChild;T;){var C=T.nextSibling,b=T.nodeName;T[Ro]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=C}}if(d===0){n.removeChild(m),Sa(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:r=a.charCodeAt(0)-48;else r=0;a=m}while(a);Sa(i)}function Ru(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ru(a),Us(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Qv(n,i,a,r){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(r){if(!n[Ro])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Zt(n.nextSibling),n===null)break}return null}function Wv(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Zt(n.nextSibling),n===null))return null;return n}function ku(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function jv(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var r=function(){i(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),n._reactRetry=r}}function Zt(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Du=null;function nh(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function ih(n,i,a){switch(i=Bl(a),n){case"html":if(n=i.documentElement,!n)throw Error(o(452));return n;case"head":if(n=i.head,!n)throw Error(o(453));return n;case"body":if(n=i.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function ha(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Us(n)}var Gt=new Map,oh=new Set;function Gl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Cn=G.d;G.d={f:eT,r:tT,D:nT,C:iT,L:oT,m:aT,X:sT,S:lT,M:rT};function eT(){var n=Cn.f(),i=Il();return n||i}function tT(n){var i=wi(n);i!==null&&i.tag===5&&i.type==="form"?_d(i):Cn.r(n)}var lo=typeof document>"u"?null:document;function ah(n,i,a){var r=lo;if(r&&typeof i=="string"&&i){var d=Lt(i);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),oh.has(d)||(oh.add(d),n={rel:n,crossOrigin:a,href:i},r.querySelector(d)===null&&(i=r.createElement("link"),ut(i,"link",n),it(i),r.head.appendChild(i)))}}function nT(n){Cn.D(n),ah("dns-prefetch",n,null)}function iT(n,i){Cn.C(n,i),ah("preconnect",n,i)}function oT(n,i,a){Cn.L(n,i,a);var r=lo;if(r&&n&&i){var d='link[rel="preload"][as="'+Lt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Lt(a.imageSizes)+'"]')):d+='[href="'+Lt(n)+'"]';var m=d;switch(i){case"style":m=so(n);break;case"script":m=ro(n)}Gt.has(m)||(n=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Gt.set(m,n),r.querySelector(d)!==null||i==="style"&&r.querySelector(ma(m))||i==="script"&&r.querySelector(ga(m))||(i=r.createElement("link"),ut(i,"link",n),it(i),r.head.appendChild(i)))}}function aT(n,i){Cn.m(n,i);var a=lo;if(a&&n){var r=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Lt(r)+'"][href="'+Lt(n)+'"]',m=d;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ro(n)}if(!Gt.has(m)&&(n=v({rel:"modulepreload",href:n},i),Gt.set(m,n),a.querySelector(d)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ga(m)))return}r=a.createElement("link"),ut(r,"link",n),it(r),a.head.appendChild(r)}}}function lT(n,i,a){Cn.S(n,i,a);var r=lo;if(r&&n){var d=Ai(r).hoistableStyles,m=so(n);i=i||"default";var T=d.get(m);if(!T){var C={loading:0,preload:null};if(T=r.querySelector(ma(m)))C.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Gt.get(m))&&Nu(n,a);var b=T=r.createElement("link");it(b),ut(b,"link",n),b._p=new Promise(function(D,q){b.onload=D,b.onerror=q}),b.addEventListener("load",function(){C.loading|=1}),b.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Hl(T,i,r)}T={type:"stylesheet",instance:T,count:1,state:C},d.set(m,T)}}}function sT(n,i){Cn.X(n,i);var a=lo;if(a&&n){var r=Ai(a).hoistableScripts,d=ro(n),m=r.get(d);m||(m=a.querySelector(ga(d)),m||(n=v({src:n,async:!0},i),(i=Gt.get(d))&&Iu(n,i),m=a.createElement("script"),it(m),ut(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(d,m))}}function rT(n,i){Cn.M(n,i);var a=lo;if(a&&n){var r=Ai(a).hoistableScripts,d=ro(n),m=r.get(d);m||(m=a.querySelector(ga(d)),m||(n=v({src:n,async:!0,type:"module"},i),(i=Gt.get(d))&&Iu(n,i),m=a.createElement("script"),it(m),ut(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(d,m))}}function lh(n,i,a,r){var d=(d=fe.current)?Gl(d):null;if(!d)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=so(a.href),a=Ai(d).hoistableStyles,r=a.get(i),r||(r={type:"style",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=so(a.href);var m=Ai(d).hoistableStyles,T=m.get(n);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=d.querySelector(ma(n)))&&!m._p&&(T.instance=m,T.state.loading=5),Gt.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gt.set(n,a),m||uT(d,n,a,T.state))),i&&r===null)throw Error(o(528,""));return T}if(i&&r!==null)throw Error(o(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ro(a),a=Ai(d).hoistableScripts,r=a.get(i),r||(r={type:"script",instance:null,count:0,state:null},a.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function so(n){return'href="'+Lt(n)+'"'}function ma(n){return'link[rel="stylesheet"]['+n+"]"}function sh(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function uT(n,i,a,r){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=n.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),ut(i,"link",a),it(i),n.head.appendChild(i))}function ro(n){return'[src="'+Lt(n)+'"]'}function ga(n){return"script[async]"+n}function rh(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var r=n.querySelector('style[data-href~="'+Lt(a.href)+'"]');if(r)return i.instance=r,it(r),r;var d=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(n.ownerDocument||n).createElement("style"),it(r),ut(r,"style",d),Hl(r,a.precedence,n),i.instance=r;case"stylesheet":d=so(a.href);var m=n.querySelector(ma(d));if(m)return i.state.loading|=4,i.instance=m,it(m),m;r=sh(a),(d=Gt.get(d))&&Nu(r,d),m=(n.ownerDocument||n).createElement("link"),it(m);var T=m;return T._p=new Promise(function(C,b){T.onload=C,T.onerror=b}),ut(m,"link",r),i.state.loading|=4,Hl(m,a.precedence,n),i.instance=m;case"script":return m=ro(a.src),(d=n.querySelector(ga(m)))?(i.instance=d,it(d),d):(r=a,(d=Gt.get(m))&&(r=v({},a),Iu(r,d)),n=n.ownerDocument||n,d=n.createElement("script"),it(d),ut(d,"link",r),n.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,Hl(r,a.precedence,n));return i.instance}function Hl(n,i,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=r.length?r[r.length-1]:null,m=d,T=0;T<r.length;T++){var C=r[T];if(C.dataset.precedence===i)m=C;else if(m!==d)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Nu(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Iu(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Fl=null;function uh(n,i,a){if(Fl===null){var r=new Map,d=Fl=new Map;d.set(a,r)}else d=Fl,r=d.get(a),r||(r=new Map,d.set(a,r));if(r.has(n))return r;for(r.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var m=a[d];if(!(m[Ro]||m[ct]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=n+T;var C=r.get(T);C?C.push(m):r.set(T,[m])}}return r}function ch(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function cT(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fh(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ya=null;function fT(){}function dT(n,i,a){if(ya===null)throw Error(o(475));var r=ya;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=so(a.href),m=n.querySelector(ma(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(r.count++,r=Yl.bind(r),n.then(r,r)),i.state.loading|=4,i.instance=m,it(m);return}m=n.ownerDocument||n,a=sh(a),(d=Gt.get(d))&&Nu(a,d),m=m.createElement("link"),it(m);var T=m;T._p=new Promise(function(C,b){T.onload=C,T.onerror=b}),ut(m,"link",a),i.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(r.count++,i=Yl.bind(r),n.addEventListener("load",i),n.addEventListener("error",i))}}function pT(){if(ya===null)throw Error(o(475));var n=ya;return n.stylesheets&&n.count===0&&Uu(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Uu(n,n.stylesheets),n.unsuspend){var r=n.unsuspend;n.unsuspend=null,r()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Yl(){if(this.count--,this.count===0){if(this.stylesheets)Uu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Zl=null;function Uu(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Zl=new Map,i.forEach(hT,n),Zl=null,Yl.call(n))}function hT(n,i){if(!(i.state.loading&4)){var a=Zl.get(n);if(a)var r=a.get(null);else{a=new Map,Zl.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var T=d[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),r=T)}r&&a.set(null,r)}d=i.instance,T=d.getAttribute("data-precedence"),m=a.get(T)||r,m===r&&a.set(null,d),a.set(T,d),this.count++,r=Yl.bind(this),d.addEventListener("load",r),d.addEventListener("error",r),m?m.parentNode.insertBefore(d,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),i.state.loading|=4}}var va={$$typeof:Y,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function mT(n,i,a,r,d,m,T,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ks(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ks(0),this.hiddenUpdates=ks(null),this.identifierPrefix=r,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function dh(n,i,a,r,d,m,T,C,b,D,q,O){return n=new mT(n,i,a,T,C,b,D,O),i=1,m===!0&&(i|=24),m=At(3,null,null,i),n.current=m,m.stateNode=n,i=mr(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:r,isDehydrated:a,cache:i},Tr(m),n}function ph(n){return n?(n=zi,n):zi}function hh(n,i,a,r,d,m){d=ph(d),r.context===null?r.context=d:r.pendingContext=d,r=kn(i),r.payload={element:a},m=m===void 0?null:m,m!==null&&(r.callback=m),a=Dn(n,r,i),a!==null&&(Nt(a,n,i),Ko(a,n,i))}function mh(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Lu(n,i){mh(n,i),(n=n.alternate)&&mh(n,i)}function gh(n){if(n.tag===13){var i=Oi(n,67108864);i!==null&&Nt(i,n,67108864),Lu(n,67108864)}}var $l=!0;function gT(n,i,a,r){var d=U.T;U.T=null;var m=G.p;try{G.p=2,qu(n,i,a,r)}finally{G.p=m,U.T=d}}function yT(n,i,a,r){var d=U.T;U.T=null;var m=G.p;try{G.p=8,qu(n,i,a,r)}finally{G.p=m,U.T=d}}function qu(n,i,a,r){if($l){var d=Vu(r);if(d===null)bu(n,i,r,Kl,a),vh(n,r);else if(TT(d,n,i,a,r))r.stopPropagation();else if(vh(n,r),i&4&&-1<vT.indexOf(n)){for(;d!==null;){var m=wi(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=ei(m.pendingLanes);if(T!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var b=1<<31-Et(T);C.entanglements[1]|=b,T&=~b}jt(m),(De&6)===0&&(Dl=Kt()+500,fa(0))}}break;case 13:C=Oi(m,2),C!==null&&Nt(C,m,2),Il(),Lu(m,2)}if(m=Vu(r),m===null&&bu(n,i,r,Kl,a),m===d)break;d=m}d!==null&&r.stopPropagation()}else bu(n,i,r,null,a)}}function Vu(n){return n=Gs(n),Ou(n)}var Kl=null;function Ou(n){if(Kl=null,n=Ei(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=p(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Kl=n,null}function yh(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(iy()){case kc:return 2;case Dc:return 8;case Pa:case oy:return 32;case Nc:return 268435456;default:return 32}default:return 32}}var zu=!1,Fn=null,Yn=null,Zn=null,Ta=new Map,xa=new Map,$n=[],vT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(n,i){switch(n){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":Ta.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(i.pointerId)}}function Ca(n,i,a,r,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:r,nativeEvent:m,targetContainers:[d]},i!==null&&(i=wi(i),i!==null&&gh(i)),n):(n.eventSystemFlags|=r,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function TT(n,i,a,r,d){switch(i){case"focusin":return Fn=Ca(Fn,n,i,a,r,d),!0;case"dragenter":return Yn=Ca(Yn,n,i,a,r,d),!0;case"mouseover":return Zn=Ca(Zn,n,i,a,r,d),!0;case"pointerover":var m=d.pointerId;return Ta.set(m,Ca(Ta.get(m)||null,n,i,a,r,d)),!0;case"gotpointercapture":return m=d.pointerId,xa.set(m,Ca(xa.get(m)||null,n,i,a,r,d)),!0}return!1}function Th(n){var i=Ei(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=p(a),i!==null){n.blockedOn=i,dy(n.priority,function(){if(a.tag===13){var r=Dt();r=Ds(r);var d=Oi(a,r);d!==null&&Nt(d,a,r),Lu(a,r)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Vu(n.nativeEvent);if(a===null){a=n.nativeEvent;var r=new a.constructor(a.type,a);Bs=r,a.target.dispatchEvent(r),Bs=null}else return i=wi(a),i!==null&&gh(i),n.blockedOn=a,!1;i.shift()}return!0}function xh(n,i,a){Xl(n)&&a.delete(i)}function xT(){zu=!1,Fn!==null&&Xl(Fn)&&(Fn=null),Yn!==null&&Xl(Yn)&&(Yn=null),Zn!==null&&Xl(Zn)&&(Zn=null),Ta.forEach(xh),xa.forEach(xh)}function Jl(n,i){n.blockedOn===i&&(n.blockedOn=null,zu||(zu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,xT)))}var Ql=null;function Ch(n){Ql!==n&&(Ql=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ql===n&&(Ql=null);for(var i=0;i<n.length;i+=3){var a=n[i],r=n[i+1],d=n[i+2];if(typeof r!="function"){if(Ou(r||a)===null)continue;break}var m=wi(a);m!==null&&(n.splice(i,3),i-=3,Or(m,{pending:!0,data:d,method:a.method,action:r},r,d))}}))}function Sa(n){function i(b){return Jl(b,n)}Fn!==null&&Jl(Fn,n),Yn!==null&&Jl(Yn,n),Zn!==null&&Jl(Zn,n),Ta.forEach(i),xa.forEach(i);for(var a=0;a<$n.length;a++){var r=$n[a];r.blockedOn===n&&(r.blockedOn=null)}for(;0<$n.length&&(a=$n[0],a.blockedOn===null);)Th(a),a.blockedOn===null&&$n.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var d=a[r],m=a[r+1],T=d[vt]||null;if(typeof m=="function")T||Ch(a);else if(T){var C=null;if(m&&m.hasAttribute("formAction")){if(d=m,T=m[vt]||null)C=T.formAction;else if(Ou(d)!==null)continue}else C=T.action;typeof C=="function"?a[r+1]=C:(a.splice(r,3),r-=3),Ch(a)}}}function Pu(n){this._internalRoot=n}Wl.prototype.render=Pu.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(o(409));var a=i.current,r=Dt();hh(a,r,n,i,null,null)},Wl.prototype.unmount=Pu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;hh(n.current,2,null,n,null,null),Il(),i[_i]=null}};function Wl(n){this._internalRoot=n}Wl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Vc();n={blockedOn:null,target:n,priority:i};for(var a=0;a<$n.length&&i!==0&&i<$n[a].priority;a++);$n.splice(a,0,n),a===0&&Th(n)}};var Sh=e.version;if(Sh!=="19.1.0")throw Error(o(527,Sh,"19.1.0"));G.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=y(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var CT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{wo=jl.inject(CT),_t=jl}catch{}}return Ea.createRoot=function(n,i){if(!l(n))throw Error(o(299));var a=!1,r="",d=Od,m=zd,T=Pd,C=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=dh(n,1,!1,null,null,a,r,d,m,T,C,null),n[_i]=i.current,Su(n),new Pu(i)},Ea.hydrateRoot=function(n,i,a){if(!l(n))throw Error(o(299));var r=!1,d="",m=Od,T=zd,C=Pd,b=null,D=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(D=a.formState)),i=dh(n,1,!0,i,a??null,r,d,m,T,C,b,D),i.context=ph(null),a=i.current,r=Dt(),r=Ds(r),d=kn(r),d.callback=null,Dn(a,d,r),a=r,i.current.lanes=a,Mo(i,a),jt(i),n[_i]=i.current,Su(n),new Wl(i)},Ea.version="19.1.0",Ea}var Uh;function LT(){if(Uh)return Hu.exports;Uh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hu.exports=UT(),Hu.exports}var qT=LT();const VT=pg(qT),hg=({className:s="w-5 h-5"})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:s,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),OT=["Beginner","Intermediate","Advanced","Master"],zT=({modules:s,selectedModuleId:e,onSelectModule:t,completedModuleIds:o})=>{const l=s.reduce((g,v)=>{const x=v.level,S=v.category||"Uncategorized";return g[x]||(g[x]={}),g[x][S]||(g[x][S]=[]),g[x][S].push(v),g},{}),u=g=>{switch(g){case"Beginner":return"bg-green-500/30 text-green-300";case"Intermediate":return"bg-yellow-500/30 text-yellow-300";case"Advanced":return"bg-red-500/30 text-red-300";case"Master":return"bg-purple-500/30 text-purple-300";default:return"bg-gray-500/30 text-gray-300"}},p=s.length,h=o.length,y=p>0?Math.round(h/p*100):0;return A.jsxs("aside",{className:"w-full md:w-80 bg-brand-bg-medium text-brand-text-primary h-full p-4 overflow-y-auto shadow-xl scrollbar-thin scrollbar-thumb-brand-primary scrollbar-track-brand-bg-dark",children:[A.jsx("h1",{className:"text-2xl font-bold text-brand-accent",children:"Solidity DevPath"}),A.jsxs("div",{className:"my-4 p-3 bg-brand-surface-1 rounded-md shadow",children:[A.jsx("h3",{className:"text-sm font-semibold text-brand-text-secondary mb-1",children:"Overall Progress"}),A.jsx("div",{className:"w-full bg-brand-bg-light rounded-full h-2.5 mb-1",children:A.jsx("div",{className:"bg-brand-accent h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${y}%`},"aria-valuenow":y,"aria-valuemin":0,"aria-valuemax":100,role:"progressbar","aria-label":`Learning progress: ${y}%`})}),A.jsxs("p",{className:"text-xs text-brand-text-muted text-right",children:[h," of ",p," modules (",y,"%)"]})]}),A.jsx("nav",{className:"space-y-6",children:OT.map(g=>l[g]&&A.jsxs("div",{children:[A.jsx("h2",{className:"text-lg font-semibold text-brand-text-primary mb-3 border-b border-brand-bg-light/30 pb-1",children:g}),Object.keys(l[g]).sort().map(v=>A.jsxs("div",{className:"mb-4",children:[A.jsx("h3",{className:"text-xs font-semibold text-brand-text-muted uppercase tracking-wider mb-2 ml-1",children:v}),A.jsx("ul",{className:"space-y-1",children:l[g][v].map(x=>A.jsx("li",{children:A.jsxs("button",{onClick:()=>t(x.id),className:`w-full text-left px-3 py-2.5 rounded-md text-sm transition-all duration-150 ease-in-out flex justify-between items-center
                                      ${e===x.id?"bg-brand-primary text-white font-semibold shadow-lg scale-105":"hover:bg-brand-bg-light text-brand-text-secondary hover:text-white hover:shadow-md"}`,"aria-current":e===x.id?"page":void 0,children:[A.jsxs("span",{className:"flex items-center",children:[o.includes(x.id)&&A.jsx(hg,{className:"w-4 h-4 text-green-400 mr-2 shrink-0"}),x.title]}),A.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${u(x.level)}`,children:x.level.substring(0,3)})]})},x.id))})]},v))]},g))})]})},PT=({quizData:s,moduleId:e,onQuizComplete:t})=>{const[o,l]=Me.useState(0),[u,p]=Me.useState({}),[h,y]=Me.useState({}),[g,v]=Me.useState(!1),x=s.questions[o];Me.useEffect(()=>{l(0),p({}),y({}),v(!1)},[s]);const S=H=>{g||(p(K=>({...K,[x.id]:H})),y(K=>({...K,[x.id]:!0})))},w=()=>{o<s.questions.length-1?l(H=>H+1):(v(!0),t(e))},R=()=>{o>0&&(l(H=>H-1),v(!1))},L=h[x.id],P=u[x.id];return s.questions.every(H=>h[H.id]),x?A.jsxs("div",{className:"bg-brand-surface-1 p-6 rounded-lg shadow-md text-brand-text-primary",children:[A.jsxs("h3",{className:"text-lg font-semibold text-brand-accent mb-4",children:[s.title," - Question ",o+1," of ",s.questions.length]}),A.jsxs("div",{className:"mb-6",children:[A.jsx("p",{className:"text-brand-text-secondary text-lg mb-4",children:x.questionText}),A.jsx("div",{className:"space-y-3",children:x.options.map(H=>{const K=P===H.id,Y=x.correctOptionId===H.id;let J="w-full text-left p-3 rounded-md transition-colors duration-150 ease-in-out border-2 ";return L&&!g?Y?J+="bg-green-500/20 border-green-500 text-green-300":K&&!Y?J+="bg-red-500/20 border-red-500 text-red-300":J+="bg-brand-bg-light border-brand-bg-medium hover:bg-brand-secondary/30 text-brand-text-secondary":g?Y?J+="bg-green-600/30 border-green-600 text-green-200":u[x.id]===H.id&&!Y?J+="bg-red-600/30 border-red-600 text-red-200 opacity-70":J+="bg-brand-bg-light border-transparent text-brand-text-muted opacity-60":J+=`bg-brand-bg-light border-brand-bg-medium hover:bg-brand-secondary/40 text-brand-text-secondary ${K?"ring-2 ring-brand-accent":""}`,A.jsxs("button",{onClick:()=>!L&&!g&&S(H.id),disabled:L||g,className:J,"aria-pressed":K,children:[H.text,L&&!g&&K&&(Y?" (Correct!)":" (Incorrect)"),L&&!g&&!K&&Y&&" (Correct Answer)"]},H.id)})})]}),L&&x.explanation&&A.jsxs("div",{className:`p-3 rounded-md mt-4 text-sm ${P===x.correctOptionId?"bg-green-500/10 text-green-200":"bg-red-500/10 text-red-200"}`,children:[A.jsx("h4",{className:"font-semibold mb-1",children:"Explanation:"}),A.jsx("p",{children:x.explanation})]}),g&&A.jsxs("div",{className:"mt-6 p-4 bg-brand-primary/20 text-brand-accent rounded-md text-center",children:[A.jsx("h4",{className:"text-lg font-semibold",children:"Quiz Completed!"}),A.jsx("p",{children:"Your progress for this module has been saved."})]}),A.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[A.jsx("button",{onClick:R,disabled:o===0,className:"px-4 py-2 bg-brand-secondary text-white rounded-md hover:bg-brand-primary disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),A.jsxs("span",{className:"text-sm text-brand-text-muted",children:["Question ",o+1," / ",s.questions.length]}),A.jsx("button",{onClick:w,disabled:!L&&!g||o===s.questions.length-1&&g,className:"px-4 py-2 bg-brand-secondary text-white rounded-md hover:bg-brand-primary disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o===s.questions.length-1?g?"Finished":"Finish Quiz":"Next"})]})]}):A.jsx("div",{className:"text-brand-text-muted",children:"Loading quiz..."})},BT=({className:s="w-4 h-4"})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:s,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),GT=({className:s="w-4 h-4"})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:s,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),HT=({textToCopy:s})=>{const[e,t]=Me.useState(!1),o=async()=>{try{await navigator.clipboard.writeText(s),t(!0),setTimeout(()=>t(!1),2e3)}catch(l){console.error("Failed to copy text: ",l)}};return A.jsx("button",{onClick:o,className:`p-1.5 rounded-md transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-opacity-50
                  ${e?"bg-brand-success/80 text-white":"bg-brand-surface-1 hover:bg-brand-bg-medium text-brand-text-muted hover:text-brand-text-secondary"}`,"aria-label":e?"Copied to clipboard":"Copy code to clipboard",title:e?"Copied!":"Copy code",children:e?A.jsx(BT,{}):A.jsx(GT,{})})};var Re;(function(s){s.assertEqual=l=>{};function e(l){}s.assertIs=e;function t(l){throw new Error}s.assertNever=t,s.arrayToEnum=l=>{const u={};for(const p of l)u[p]=p;return u},s.getValidEnumValues=l=>{const u=s.objectKeys(l).filter(h=>typeof l[l[h]]!="number"),p={};for(const h of u)p[h]=l[h];return s.objectValues(p)},s.objectValues=l=>s.objectKeys(l).map(function(u){return l[u]}),s.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const u=[];for(const p in l)Object.prototype.hasOwnProperty.call(l,p)&&u.push(p);return u},s.find=(l,u)=>{for(const p of l)if(u(p))return p},s.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function o(l,u=" | "){return l.map(p=>typeof p=="string"?`'${p}'`:p).join(u)}s.joinValues=o,s.jsonStringifyReplacer=(l,u)=>typeof u=="bigint"?u.toString():u})(Re||(Re={}));var Lh;(function(s){s.mergeShapes=(e,t)=>({...e,...t})})(Lh||(Lh={}));const W=Re.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xn=s=>{switch(typeof s){case"undefined":return W.undefined;case"string":return W.string;case"number":return Number.isNaN(s)?W.nan:W.number;case"boolean":return W.boolean;case"function":return W.function;case"bigint":return W.bigint;case"symbol":return W.symbol;case"object":return Array.isArray(s)?W.array:s===null?W.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?W.promise:typeof Map<"u"&&s instanceof Map?W.map:typeof Set<"u"&&s instanceof Set?W.set:typeof Date<"u"&&s instanceof Date?W.date:W.object;default:return W.unknown}},B=Re.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Sn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(u){return u.message},o={_errors:[]},l=u=>{for(const p of u.issues)if(p.code==="invalid_union")p.unionErrors.map(l);else if(p.code==="invalid_return_type")l(p.returnTypeError);else if(p.code==="invalid_arguments")l(p.argumentsError);else if(p.path.length===0)o._errors.push(t(p));else{let h=o,y=0;for(;y<p.path.length;){const g=p.path[y];y===p.path.length-1?(h[g]=h[g]||{_errors:[]},h[g]._errors.push(t(p))):h[g]=h[g]||{_errors:[]},h=h[g],y++}}};return l(this),o}static assert(e){if(!(e instanceof Sn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Re.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},o=[];for(const l of this.issues)l.path.length>0?(t[l.path[0]]=t[l.path[0]]||[],t[l.path[0]].push(e(l))):o.push(e(l));return{formErrors:o,fieldErrors:t}}get formErrors(){return this.flatten()}}Sn.create=s=>new Sn(s);const Ju=(s,e)=>{let t;switch(s.code){case B.invalid_type:s.received===W.undefined?t="Required":t=`Expected ${s.expected}, received ${s.received}`;break;case B.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(s.expected,Re.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:t=`Unrecognized key(s) in object: ${Re.joinValues(s.keys,", ")}`;break;case B.invalid_union:t="Invalid input";break;case B.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Re.joinValues(s.options)}`;break;case B.invalid_enum_value:t=`Invalid enum value. Expected ${Re.joinValues(s.options)}, received '${s.received}'`;break;case B.invalid_arguments:t="Invalid function arguments";break;case B.invalid_return_type:t="Invalid function return type";break;case B.invalid_date:t="Invalid date";break;case B.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(t=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?t=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?t=`Invalid input: must end with "${s.validation.endsWith}"`:Re.assertNever(s.validation):s.validation!=="regex"?t=`Invalid ${s.validation}`:t="Invalid";break;case B.too_small:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:t="Invalid input";break;case B.too_big:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?t=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:t="Invalid input";break;case B.custom:t="Invalid input";break;case B.invalid_intersection_types:t="Intersection results could not be merged";break;case B.not_multiple_of:t=`Number must be a multiple of ${s.multipleOf}`;break;case B.not_finite:t="Number must be finite";break;default:t=e.defaultError,Re.assertNever(s)}return{message:t}};let FT=Ju;function YT(){return FT}const ZT=s=>{const{data:e,path:t,errorMaps:o,issueData:l}=s,u=[...t,...l.path||[]],p={...l,path:u};if(l.message!==void 0)return{...l,path:u,message:l.message};let h="";const y=o.filter(g=>!!g).slice().reverse();for(const g of y)h=g(p,{data:e,defaultError:h}).message;return{...l,path:u,message:h}};function $(s,e){const t=YT(),o=ZT({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,t,t===Ju?void 0:Ju].filter(l=>!!l)});s.common.issues.push(o)}class gt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const o=[];for(const l of t){if(l.status==="aborted")return ce;l.status==="dirty"&&e.dirty(),o.push(l.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,t){const o=[];for(const l of t){const u=await l.key,p=await l.value;o.push({key:u,value:p})}return gt.mergeObjectSync(e,o)}static mergeObjectSync(e,t){const o={};for(const l of t){const{key:u,value:p}=l;if(u.status==="aborted"||p.status==="aborted")return ce;u.status==="dirty"&&e.dirty(),p.status==="dirty"&&e.dirty(),u.value!=="__proto__"&&(typeof p.value<"u"||l.alwaysSet)&&(o[u.value]=p.value)}return{status:e.value,value:o}}}const ce=Object.freeze({status:"aborted"}),Ra=s=>({status:"dirty",value:s}),Ht=s=>({status:"valid",value:s}),qh=s=>s.status==="aborted",Vh=s=>s.status==="dirty",yo=s=>s.status==="valid",rs=s=>typeof Promise<"u"&&s instanceof Promise;var j;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(j||(j={}));class ln{constructor(e,t,o,l){this._cachedPath=[],this.parent=e,this.data=t,this._path=o,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Oh=(s,e)=>{if(yo(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Sn(s.common.issues);return this._error=t,this._error}}};function he(s){if(!s)return{};const{errorMap:e,invalid_type_error:t,required_error:o,description:l}=s;if(e&&(t||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:(p,h)=>{const{message:y}=s;return p.code==="invalid_enum_value"?{message:y??h.defaultError}:typeof h.data>"u"?{message:y??o??h.defaultError}:p.code!=="invalid_type"?{message:h.defaultError}:{message:y??t??h.defaultError}},description:l}}class Ce{get description(){return this._def.description}_getType(e){return Xn(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Xn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gt,ctx:{common:e.parent.common,data:e.data,parsedType:Xn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(rs(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const o=this.safeParse(e,t);if(o.success)return o.data;throw o.error}safeParse(e,t){const o={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xn(e)},l=this._parseSync({data:e,path:o.path,parent:o});return Oh(o,l)}"~validate"(e){var o,l;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xn(e)};if(!this["~standard"].async)try{const u=this._parseSync({data:e,path:[],parent:t});return yo(u)?{value:u.value}:{issues:t.common.issues}}catch(u){(l=(o=u==null?void 0:u.message)==null?void 0:o.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(u=>yo(u)?{value:u.value}:{issues:t.common.issues})}async parseAsync(e,t){const o=await this.safeParseAsync(e,t);if(o.success)return o.data;throw o.error}async safeParseAsync(e,t){const o={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xn(e)},l=this._parse({data:e,path:o.path,parent:o}),u=await(rs(l)?l:Promise.resolve(l));return Oh(o,u)}refine(e,t){const o=l=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(l):t;return this._refinement((l,u)=>{const p=e(l),h=()=>u.addIssue({code:B.custom,...o(l)});return typeof Promise<"u"&&p instanceof Promise?p.then(y=>y?!0:(h(),!1)):p?!0:(h(),!1)})}refinement(e,t){return this._refinement((o,l)=>e(o)?!0:(l.addIssue(typeof t=="function"?t(o,l):t),!1))}_refinement(e){return new xo({schema:this,typeName:ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Jn.create(this,this._def)}nullable(){return Co.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return an.create(this)}promise(){return ps.create(this,this._def)}or(e){return cs.create([this,e],this._def)}and(e){return fs.create(this,e,this._def)}transform(e){return new xo({...he(this._def),schema:this,typeName:ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new ec({...he(this._def),innerType:this,defaultValue:t,typeName:ue.ZodDefault})}brand(){return new m0({typeName:ue.ZodBranded,type:this,...he(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new tc({...he(this._def),innerType:this,catchValue:t,typeName:ue.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return yc.create(this,e)}readonly(){return nc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $T=/^c[^\s-]{8,}$/i,KT=/^[0-9a-z]+$/,XT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,JT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,QT=/^[a-z0-9_-]{21}$/i,WT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,jT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,e0=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,t0="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $u;const n0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,i0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,o0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,a0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,l0=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,s0=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,mg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",r0=new RegExp(`^${mg}$`);function gg(s){let e="[0-5]\\d";s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`);const t=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function u0(s){return new RegExp(`^${gg(s)}$`)}function c0(s){let e=`${mg}T${gg(s)}`;const t=[];return t.push(s.local?"Z?":"Z"),s.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function f0(s,e){return!!((e==="v4"||!e)&&n0.test(s)||(e==="v6"||!e)&&o0.test(s))}function d0(s,e){if(!WT.test(s))return!1;try{const[t]=s.split("."),o=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),l=JSON.parse(atob(o));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||e&&l.alg!==e)}catch{return!1}}function p0(s,e){return!!((e==="v4"||!e)&&i0.test(s)||(e==="v6"||!e)&&a0.test(s))}class en extends Ce{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==W.string){const u=this._getOrReturnCtx(e);return $(u,{code:B.invalid_type,expected:W.string,received:u.parsedType}),ce}const o=new gt;let l;for(const u of this._def.checks)if(u.kind==="min")e.data.length<u.value&&(l=this._getOrReturnCtx(e,l),$(l,{code:B.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if(u.kind==="max")e.data.length>u.value&&(l=this._getOrReturnCtx(e,l),$(l,{code:B.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if(u.kind==="length"){const p=e.data.length>u.value,h=e.data.length<u.value;(p||h)&&(l=this._getOrReturnCtx(e,l),p?$(l,{code:B.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):h&&$(l,{code:B.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),o.dirty())}else if(u.kind==="email")e0.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"email",code:B.invalid_string,message:u.message}),o.dirty());else if(u.kind==="emoji")$u||($u=new RegExp(t0,"u")),$u.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"emoji",code:B.invalid_string,message:u.message}),o.dirty());else if(u.kind==="uuid")JT.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"uuid",code:B.invalid_string,message:u.message}),o.dirty());else if(u.kind==="nanoid")QT.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"nanoid",code:B.invalid_string,message:u.message}),o.dirty());else if(u.kind==="cuid")$T.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"cuid",code:B.invalid_string,message:u.message}),o.dirty());else if(u.kind==="cuid2")KT.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"cuid2",code:B.invalid_string,message:u.message}),o.dirty());else if(u.kind==="ulid")XT.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"ulid",code:B.invalid_string,message:u.message}),o.dirty());else if(u.kind==="url")try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),$(l,{validation:"url",code:B.invalid_string,message:u.message}),o.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"regex",code:B.invalid_string,message:u.message}),o.dirty())):u.kind==="trim"?e.data=e.data.trim():u.kind==="includes"?e.data.includes(u.value,u.position)||(l=this._getOrReturnCtx(e,l),$(l,{code:B.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),o.dirty()):u.kind==="toLowerCase"?e.data=e.data.toLowerCase():u.kind==="toUpperCase"?e.data=e.data.toUpperCase():u.kind==="startsWith"?e.data.startsWith(u.value)||(l=this._getOrReturnCtx(e,l),$(l,{code:B.invalid_string,validation:{startsWith:u.value},message:u.message}),o.dirty()):u.kind==="endsWith"?e.data.endsWith(u.value)||(l=this._getOrReturnCtx(e,l),$(l,{code:B.invalid_string,validation:{endsWith:u.value},message:u.message}),o.dirty()):u.kind==="datetime"?c0(u).test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{code:B.invalid_string,validation:"datetime",message:u.message}),o.dirty()):u.kind==="date"?r0.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{code:B.invalid_string,validation:"date",message:u.message}),o.dirty()):u.kind==="time"?u0(u).test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{code:B.invalid_string,validation:"time",message:u.message}),o.dirty()):u.kind==="duration"?jT.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"duration",code:B.invalid_string,message:u.message}),o.dirty()):u.kind==="ip"?f0(e.data,u.version)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"ip",code:B.invalid_string,message:u.message}),o.dirty()):u.kind==="jwt"?d0(e.data,u.alg)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"jwt",code:B.invalid_string,message:u.message}),o.dirty()):u.kind==="cidr"?p0(e.data,u.version)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"cidr",code:B.invalid_string,message:u.message}),o.dirty()):u.kind==="base64"?l0.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"base64",code:B.invalid_string,message:u.message}),o.dirty()):u.kind==="base64url"?s0.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"base64url",code:B.invalid_string,message:u.message}),o.dirty()):Re.assertNever(u);return{status:o.value,value:e.data}}_regex(e,t,o){return this.refinement(l=>e.test(l),{validation:t,code:B.invalid_string,...j.errToObj(o)})}_addCheck(e){return new en({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...j.errToObj(e)})}url(e){return this._addCheck({kind:"url",...j.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...j.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...j.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...j.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...j.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...j.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...j.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...j.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...j.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...j.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...j.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...j.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...j.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...j.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...j.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...j.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...j.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...j.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...j.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...j.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...j.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...j.errToObj(t)})}nonempty(e){return this.min(1,j.errToObj(e))}trim(){return new en({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new en({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new en({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}en.create=s=>new en({checks:[],typeName:ue.ZodString,coerce:(s==null?void 0:s.coerce)??!1,...he(s)});function h0(s,e){const t=(s.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,l=t>o?t:o,u=Number.parseInt(s.toFixed(l).replace(".","")),p=Number.parseInt(e.toFixed(l).replace(".",""));return u%p/10**l}class Ti extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==W.number){const u=this._getOrReturnCtx(e);return $(u,{code:B.invalid_type,expected:W.number,received:u.parsedType}),ce}let o;const l=new gt;for(const u of this._def.checks)u.kind==="int"?Re.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),$(o,{code:B.invalid_type,expected:"integer",received:"float",message:u.message}),l.dirty()):u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(o=this._getOrReturnCtx(e,o),$(o,{code:B.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),l.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(o=this._getOrReturnCtx(e,o),$(o,{code:B.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),l.dirty()):u.kind==="multipleOf"?h0(e.data,u.value)!==0&&(o=this._getOrReturnCtx(e,o),$(o,{code:B.not_multiple_of,multipleOf:u.value,message:u.message}),l.dirty()):u.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),$(o,{code:B.not_finite,message:u.message}),l.dirty()):Re.assertNever(u);return{status:l.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,j.toString(t))}gt(e,t){return this.setLimit("min",e,!1,j.toString(t))}lte(e,t){return this.setLimit("max",e,!0,j.toString(t))}lt(e,t){return this.setLimit("max",e,!1,j.toString(t))}setLimit(e,t,o,l){return new Ti({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:o,message:j.toString(l)}]})}_addCheck(e){return new Ti({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:j.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:j.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:j.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:j.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:j.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:j.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:j.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:j.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:j.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Re.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(t===null||o.value>t)&&(t=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ti.create=s=>new Ti({checks:[],typeName:ue.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...he(s)});class xi extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==W.bigint)return this._getInvalidInput(e);let o;const l=new gt;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(o=this._getOrReturnCtx(e,o),$(o,{code:B.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),l.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(o=this._getOrReturnCtx(e,o),$(o,{code:B.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),l.dirty()):u.kind==="multipleOf"?e.data%u.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),$(o,{code:B.not_multiple_of,multipleOf:u.value,message:u.message}),l.dirty()):Re.assertNever(u);return{status:l.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return $(t,{code:B.invalid_type,expected:W.bigint,received:t.parsedType}),ce}gte(e,t){return this.setLimit("min",e,!0,j.toString(t))}gt(e,t){return this.setLimit("min",e,!1,j.toString(t))}lte(e,t){return this.setLimit("max",e,!0,j.toString(t))}lt(e,t){return this.setLimit("max",e,!1,j.toString(t))}setLimit(e,t,o,l){return new xi({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:o,message:j.toString(l)}]})}_addCheck(e){return new xi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:j.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:j.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:j.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:j.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:j.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}xi.create=s=>new xi({checks:[],typeName:ue.ZodBigInt,coerce:(s==null?void 0:s.coerce)??!1,...he(s)});class us extends Ce{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==W.boolean){const o=this._getOrReturnCtx(e);return $(o,{code:B.invalid_type,expected:W.boolean,received:o.parsedType}),ce}return Ht(e.data)}}us.create=s=>new us({typeName:ue.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...he(s)});class vo extends Ce{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==W.date){const u=this._getOrReturnCtx(e);return $(u,{code:B.invalid_type,expected:W.date,received:u.parsedType}),ce}if(Number.isNaN(e.data.getTime())){const u=this._getOrReturnCtx(e);return $(u,{code:B.invalid_date}),ce}const o=new gt;let l;for(const u of this._def.checks)u.kind==="min"?e.data.getTime()<u.value&&(l=this._getOrReturnCtx(e,l),$(l,{code:B.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),o.dirty()):u.kind==="max"?e.data.getTime()>u.value&&(l=this._getOrReturnCtx(e,l),$(l,{code:B.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),o.dirty()):Re.assertNever(u);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new vo({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:j.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:j.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}vo.create=s=>new vo({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:ue.ZodDate,...he(s)});class zh extends Ce{_parse(e){if(this._getType(e)!==W.symbol){const o=this._getOrReturnCtx(e);return $(o,{code:B.invalid_type,expected:W.symbol,received:o.parsedType}),ce}return Ht(e.data)}}zh.create=s=>new zh({typeName:ue.ZodSymbol,...he(s)});class Ph extends Ce{_parse(e){if(this._getType(e)!==W.undefined){const o=this._getOrReturnCtx(e);return $(o,{code:B.invalid_type,expected:W.undefined,received:o.parsedType}),ce}return Ht(e.data)}}Ph.create=s=>new Ph({typeName:ue.ZodUndefined,...he(s)});class Bh extends Ce{_parse(e){if(this._getType(e)!==W.null){const o=this._getOrReturnCtx(e);return $(o,{code:B.invalid_type,expected:W.null,received:o.parsedType}),ce}return Ht(e.data)}}Bh.create=s=>new Bh({typeName:ue.ZodNull,...he(s)});class Gh extends Ce{constructor(){super(...arguments),this._any=!0}_parse(e){return Ht(e.data)}}Gh.create=s=>new Gh({typeName:ue.ZodAny,...he(s)});class Qu extends Ce{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ht(e.data)}}Qu.create=s=>new Qu({typeName:ue.ZodUnknown,...he(s)});class Qn extends Ce{_parse(e){const t=this._getOrReturnCtx(e);return $(t,{code:B.invalid_type,expected:W.never,received:t.parsedType}),ce}}Qn.create=s=>new Qn({typeName:ue.ZodNever,...he(s)});class Hh extends Ce{_parse(e){if(this._getType(e)!==W.undefined){const o=this._getOrReturnCtx(e);return $(o,{code:B.invalid_type,expected:W.void,received:o.parsedType}),ce}return Ht(e.data)}}Hh.create=s=>new Hh({typeName:ue.ZodVoid,...he(s)});class an extends Ce{_parse(e){const{ctx:t,status:o}=this._processInputParams(e),l=this._def;if(t.parsedType!==W.array)return $(t,{code:B.invalid_type,expected:W.array,received:t.parsedType}),ce;if(l.exactLength!==null){const p=t.data.length>l.exactLength.value,h=t.data.length<l.exactLength.value;(p||h)&&($(t,{code:p?B.too_big:B.too_small,minimum:h?l.exactLength.value:void 0,maximum:p?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),o.dirty())}if(l.minLength!==null&&t.data.length<l.minLength.value&&($(t,{code:B.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),o.dirty()),l.maxLength!==null&&t.data.length>l.maxLength.value&&($(t,{code:B.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),o.dirty()),t.common.async)return Promise.all([...t.data].map((p,h)=>l.type._parseAsync(new ln(t,p,t.path,h)))).then(p=>gt.mergeArray(o,p));const u=[...t.data].map((p,h)=>l.type._parseSync(new ln(t,p,t.path,h)));return gt.mergeArray(o,u)}get element(){return this._def.type}min(e,t){return new an({...this._def,minLength:{value:e,message:j.toString(t)}})}max(e,t){return new an({...this._def,maxLength:{value:e,message:j.toString(t)}})}length(e,t){return new an({...this._def,exactLength:{value:e,message:j.toString(t)}})}nonempty(e){return this.min(1,e)}}an.create=(s,e)=>new an({type:s,minLength:null,maxLength:null,exactLength:null,typeName:ue.ZodArray,...he(e)});function co(s){if(s instanceof et){const e={};for(const t in s.shape){const o=s.shape[t];e[t]=Jn.create(co(o))}return new et({...s._def,shape:()=>e})}else return s instanceof an?new an({...s._def,type:co(s.element)}):s instanceof Jn?Jn.create(co(s.unwrap())):s instanceof Co?Co.create(co(s.unwrap())):s instanceof Ci?Ci.create(s.items.map(e=>co(e))):s}class et extends Ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Re.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==W.object){const g=this._getOrReturnCtx(e);return $(g,{code:B.invalid_type,expected:W.object,received:g.parsedType}),ce}const{status:o,ctx:l}=this._processInputParams(e),{shape:u,keys:p}=this._getCached(),h=[];if(!(this._def.catchall instanceof Qn&&this._def.unknownKeys==="strip"))for(const g in l.data)p.includes(g)||h.push(g);const y=[];for(const g of p){const v=u[g],x=l.data[g];y.push({key:{status:"valid",value:g},value:v._parse(new ln(l,x,l.path,g)),alwaysSet:g in l.data})}if(this._def.catchall instanceof Qn){const g=this._def.unknownKeys;if(g==="passthrough")for(const v of h)y.push({key:{status:"valid",value:v},value:{status:"valid",value:l.data[v]}});else if(g==="strict")h.length>0&&($(l,{code:B.unrecognized_keys,keys:h}),o.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const v of h){const x=l.data[v];y.push({key:{status:"valid",value:v},value:g._parse(new ln(l,x,l.path,v)),alwaysSet:v in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const g=[];for(const v of y){const x=await v.key,S=await v.value;g.push({key:x,value:S,alwaysSet:v.alwaysSet})}return g}).then(g=>gt.mergeObjectSync(o,g)):gt.mergeObjectSync(o,y)}get shape(){return this._def.shape()}strict(e){return j.errToObj,new et({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,o)=>{var u,p;const l=((p=(u=this._def).errorMap)==null?void 0:p.call(u,t,o).message)??o.defaultError;return t.code==="unrecognized_keys"?{message:j.errToObj(e).message??l}:{message:l}}}:{}})}strip(){return new et({...this._def,unknownKeys:"strip"})}passthrough(){return new et({...this._def,unknownKeys:"passthrough"})}extend(e){return new et({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new et({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ue.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new et({...this._def,catchall:e})}pick(e){const t={};for(const o of Re.objectKeys(e))e[o]&&this.shape[o]&&(t[o]=this.shape[o]);return new et({...this._def,shape:()=>t})}omit(e){const t={};for(const o of Re.objectKeys(this.shape))e[o]||(t[o]=this.shape[o]);return new et({...this._def,shape:()=>t})}deepPartial(){return co(this)}partial(e){const t={};for(const o of Re.objectKeys(this.shape)){const l=this.shape[o];e&&!e[o]?t[o]=l:t[o]=l.optional()}return new et({...this._def,shape:()=>t})}required(e){const t={};for(const o of Re.objectKeys(this.shape))if(e&&!e[o])t[o]=this.shape[o];else{let u=this.shape[o];for(;u instanceof Jn;)u=u._def.innerType;t[o]=u}return new et({...this._def,shape:()=>t})}keyof(){return yg(Re.objectKeys(this.shape))}}et.create=(s,e)=>new et({shape:()=>s,unknownKeys:"strip",catchall:Qn.create(),typeName:ue.ZodObject,...he(e)});et.strictCreate=(s,e)=>new et({shape:()=>s,unknownKeys:"strict",catchall:Qn.create(),typeName:ue.ZodObject,...he(e)});et.lazycreate=(s,e)=>new et({shape:s,unknownKeys:"strip",catchall:Qn.create(),typeName:ue.ZodObject,...he(e)});class cs extends Ce{_parse(e){const{ctx:t}=this._processInputParams(e),o=this._def.options;function l(u){for(const h of u)if(h.result.status==="valid")return h.result;for(const h of u)if(h.result.status==="dirty")return t.common.issues.push(...h.ctx.common.issues),h.result;const p=u.map(h=>new Sn(h.ctx.common.issues));return $(t,{code:B.invalid_union,unionErrors:p}),ce}if(t.common.async)return Promise.all(o.map(async u=>{const p={...t,common:{...t.common,issues:[]},parent:null};return{result:await u._parseAsync({data:t.data,path:t.path,parent:p}),ctx:p}})).then(l);{let u;const p=[];for(const y of o){const g={...t,common:{...t.common,issues:[]},parent:null},v=y._parseSync({data:t.data,path:t.path,parent:g});if(v.status==="valid")return v;v.status==="dirty"&&!u&&(u={result:v,ctx:g}),g.common.issues.length&&p.push(g.common.issues)}if(u)return t.common.issues.push(...u.ctx.common.issues),u.result;const h=p.map(y=>new Sn(y));return $(t,{code:B.invalid_union,unionErrors:h}),ce}}get options(){return this._def.options}}cs.create=(s,e)=>new cs({options:s,typeName:ue.ZodUnion,...he(e)});function Wu(s,e){const t=Xn(s),o=Xn(e);if(s===e)return{valid:!0,data:s};if(t===W.object&&o===W.object){const l=Re.objectKeys(e),u=Re.objectKeys(s).filter(h=>l.indexOf(h)!==-1),p={...s,...e};for(const h of u){const y=Wu(s[h],e[h]);if(!y.valid)return{valid:!1};p[h]=y.data}return{valid:!0,data:p}}else if(t===W.array&&o===W.array){if(s.length!==e.length)return{valid:!1};const l=[];for(let u=0;u<s.length;u++){const p=s[u],h=e[u],y=Wu(p,h);if(!y.valid)return{valid:!1};l.push(y.data)}return{valid:!0,data:l}}else return t===W.date&&o===W.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class fs extends Ce{_parse(e){const{status:t,ctx:o}=this._processInputParams(e),l=(u,p)=>{if(qh(u)||qh(p))return ce;const h=Wu(u.value,p.value);return h.valid?((Vh(u)||Vh(p))&&t.dirty(),{status:t.value,value:h.data}):($(o,{code:B.invalid_intersection_types}),ce)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([u,p])=>l(u,p)):l(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}fs.create=(s,e,t)=>new fs({left:s,right:e,typeName:ue.ZodIntersection,...he(t)});class Ci extends Ce{_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==W.array)return $(o,{code:B.invalid_type,expected:W.array,received:o.parsedType}),ce;if(o.data.length<this._def.items.length)return $(o,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&o.data.length>this._def.items.length&&($(o,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const u=[...o.data].map((p,h)=>{const y=this._def.items[h]||this._def.rest;return y?y._parse(new ln(o,p,o.path,h)):null}).filter(p=>!!p);return o.common.async?Promise.all(u).then(p=>gt.mergeArray(t,p)):gt.mergeArray(t,u)}get items(){return this._def.items}rest(e){return new Ci({...this._def,rest:e})}}Ci.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ci({items:s,typeName:ue.ZodTuple,rest:null,...he(e)})};class ds extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==W.object)return $(o,{code:B.invalid_type,expected:W.object,received:o.parsedType}),ce;const l=[],u=this._def.keyType,p=this._def.valueType;for(const h in o.data)l.push({key:u._parse(new ln(o,h,o.path,h)),value:p._parse(new ln(o,o.data[h],o.path,h)),alwaysSet:h in o.data});return o.common.async?gt.mergeObjectAsync(t,l):gt.mergeObjectSync(t,l)}get element(){return this._def.valueType}static create(e,t,o){return t instanceof Ce?new ds({keyType:e,valueType:t,typeName:ue.ZodRecord,...he(o)}):new ds({keyType:en.create(),valueType:e,typeName:ue.ZodRecord,...he(t)})}}class Fh extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==W.map)return $(o,{code:B.invalid_type,expected:W.map,received:o.parsedType}),ce;const l=this._def.keyType,u=this._def.valueType,p=[...o.data.entries()].map(([h,y],g)=>({key:l._parse(new ln(o,h,o.path,[g,"key"])),value:u._parse(new ln(o,y,o.path,[g,"value"]))}));if(o.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const y of p){const g=await y.key,v=await y.value;if(g.status==="aborted"||v.status==="aborted")return ce;(g.status==="dirty"||v.status==="dirty")&&t.dirty(),h.set(g.value,v.value)}return{status:t.value,value:h}})}else{const h=new Map;for(const y of p){const g=y.key,v=y.value;if(g.status==="aborted"||v.status==="aborted")return ce;(g.status==="dirty"||v.status==="dirty")&&t.dirty(),h.set(g.value,v.value)}return{status:t.value,value:h}}}}Fh.create=(s,e,t)=>new Fh({valueType:e,keyType:s,typeName:ue.ZodMap,...he(t)});class Ua extends Ce{_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==W.set)return $(o,{code:B.invalid_type,expected:W.set,received:o.parsedType}),ce;const l=this._def;l.minSize!==null&&o.data.size<l.minSize.value&&($(o,{code:B.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),t.dirty()),l.maxSize!==null&&o.data.size>l.maxSize.value&&($(o,{code:B.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),t.dirty());const u=this._def.valueType;function p(y){const g=new Set;for(const v of y){if(v.status==="aborted")return ce;v.status==="dirty"&&t.dirty(),g.add(v.value)}return{status:t.value,value:g}}const h=[...o.data.values()].map((y,g)=>u._parse(new ln(o,y,o.path,g)));return o.common.async?Promise.all(h).then(y=>p(y)):p(h)}min(e,t){return new Ua({...this._def,minSize:{value:e,message:j.toString(t)}})}max(e,t){return new Ua({...this._def,maxSize:{value:e,message:j.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ua.create=(s,e)=>new Ua({valueType:s,minSize:null,maxSize:null,typeName:ue.ZodSet,...he(e)});class ju extends Ce{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ju.create=(s,e)=>new ju({getter:s,typeName:ue.ZodLazy,...he(e)});class Yh extends Ce{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return $(t,{received:t.data,code:B.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}Yh.create=(s,e)=>new Yh({value:s,typeName:ue.ZodLiteral,...he(e)});function yg(s,e){return new To({values:s,typeName:ue.ZodEnum,...he(e)})}class To extends Ce{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),o=this._def.values;return $(t,{expected:Re.joinValues(o),received:t.parsedType,code:B.invalid_type}),ce}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),o=this._def.values;return $(t,{received:t.data,code:B.invalid_enum_value,options:o}),ce}return Ht(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return To.create(e,{...this._def,...t})}exclude(e,t=this._def){return To.create(this.options.filter(o=>!e.includes(o)),{...this._def,...t})}}To.create=yg;class Zh extends Ce{_parse(e){const t=Re.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==W.string&&o.parsedType!==W.number){const l=Re.objectValues(t);return $(o,{expected:Re.joinValues(l),received:o.parsedType,code:B.invalid_type}),ce}if(this._cache||(this._cache=new Set(Re.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const l=Re.objectValues(t);return $(o,{received:o.data,code:B.invalid_enum_value,options:l}),ce}return Ht(e.data)}get enum(){return this._def.values}}Zh.create=(s,e)=>new Zh({values:s,typeName:ue.ZodNativeEnum,...he(e)});class ps extends Ce{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==W.promise&&t.common.async===!1)return $(t,{code:B.invalid_type,expected:W.promise,received:t.parsedType}),ce;const o=t.parsedType===W.promise?t.data:Promise.resolve(t.data);return Ht(o.then(l=>this._def.type.parseAsync(l,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ps.create=(s,e)=>new ps({type:s,typeName:ue.ZodPromise,...he(e)});class xo extends Ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:o}=this._processInputParams(e),l=this._def.effect||null,u={addIssue:p=>{$(o,p),p.fatal?t.abort():t.dirty()},get path(){return o.path}};if(u.addIssue=u.addIssue.bind(u),l.type==="preprocess"){const p=l.transform(o.data,u);if(o.common.async)return Promise.resolve(p).then(async h=>{if(t.value==="aborted")return ce;const y=await this._def.schema._parseAsync({data:h,path:o.path,parent:o});return y.status==="aborted"?ce:y.status==="dirty"||t.value==="dirty"?Ra(y.value):y});{if(t.value==="aborted")return ce;const h=this._def.schema._parseSync({data:p,path:o.path,parent:o});return h.status==="aborted"?ce:h.status==="dirty"||t.value==="dirty"?Ra(h.value):h}}if(l.type==="refinement"){const p=h=>{const y=l.refinement(h,u);if(o.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(o.common.async===!1){const h=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return h.status==="aborted"?ce:(h.status==="dirty"&&t.dirty(),p(h.value),{status:t.value,value:h.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(h=>h.status==="aborted"?ce:(h.status==="dirty"&&t.dirty(),p(h.value).then(()=>({status:t.value,value:h.value}))))}if(l.type==="transform")if(o.common.async===!1){const p=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!yo(p))return ce;const h=l.transform(p.value,u);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:h}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(p=>yo(p)?Promise.resolve(l.transform(p.value,u)).then(h=>({status:t.value,value:h})):ce);Re.assertNever(l)}}xo.create=(s,e,t)=>new xo({schema:s,typeName:ue.ZodEffects,effect:e,...he(t)});xo.createWithPreprocess=(s,e,t)=>new xo({schema:e,effect:{type:"preprocess",transform:s},typeName:ue.ZodEffects,...he(t)});class Jn extends Ce{_parse(e){return this._getType(e)===W.undefined?Ht(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Jn.create=(s,e)=>new Jn({innerType:s,typeName:ue.ZodOptional,...he(e)});class Co extends Ce{_parse(e){return this._getType(e)===W.null?Ht(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Co.create=(s,e)=>new Co({innerType:s,typeName:ue.ZodNullable,...he(e)});class ec extends Ce{_parse(e){const{ctx:t}=this._processInputParams(e);let o=t.data;return t.parsedType===W.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ec.create=(s,e)=>new ec({innerType:s,typeName:ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...he(e)});class tc extends Ce{_parse(e){const{ctx:t}=this._processInputParams(e),o={...t,common:{...t.common,issues:[]}},l=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return rs(l)?l.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Sn(o.common.issues)},input:o.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Sn(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}tc.create=(s,e)=>new tc({innerType:s,typeName:ue.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...he(e)});class $h extends Ce{_parse(e){if(this._getType(e)!==W.nan){const o=this._getOrReturnCtx(e);return $(o,{code:B.invalid_type,expected:W.nan,received:o.parsedType}),ce}return{status:"valid",value:e.data}}}$h.create=s=>new $h({typeName:ue.ZodNaN,...he(s)});class m0 extends Ce{_parse(e){const{ctx:t}=this._processInputParams(e),o=t.data;return this._def.type._parse({data:o,path:t.path,parent:t})}unwrap(){return this._def.type}}class yc extends Ce{_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return u.status==="aborted"?ce:u.status==="dirty"?(t.dirty(),Ra(u.value)):this._def.out._parseAsync({data:u.value,path:o.path,parent:o})})();{const l=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return l.status==="aborted"?ce:l.status==="dirty"?(t.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:o.path,parent:o})}}static create(e,t){return new yc({in:e,out:t,typeName:ue.ZodPipeline})}}class nc extends Ce{_parse(e){const t=this._def.innerType._parse(e),o=l=>(yo(l)&&(l.value=Object.freeze(l.value)),l);return rs(t)?t.then(l=>o(l)):o(t)}unwrap(){return this._def.innerType}}nc.create=(s,e)=>new nc({innerType:s,typeName:ue.ZodReadonly,...he(e)});var ue;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(ue||(ue={}));const vi=en.create,Kh=Ti.create;xi.create;const g0=us.create;vo.create;const Xh=Qu.create;Qn.create;const ka=an.create,y0=et.create,v0=cs.create;fs.create;Ci.create;const T0=ds.create,x0=ju.create,C0=To.create;ps.create;Jn.create;Co.create;const uo={string:s=>en.create({...s,coerce:!0}),number:s=>Ti.create({...s,coerce:!0}),boolean:s=>us.create({...s,coerce:!0}),bigint:s=>xi.create({...s,coerce:!0}),date:s=>vo.create({...s,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let S0,b0;function _0(){return{geminiUrl:S0,vertexUrl:b0}}function E0(s,e,t){var o,l,u;if(!(!((o=s.httpOptions)===null||o===void 0)&&o.baseUrl)){const p=_0();return s.vertexai?(l=p.vertexUrl)!==null&&l!==void 0?l:e:(u=p.geminiUrl)!==null&&u!==void 0?u:t}return s.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _o{}function re(s,e){const t=/\{([^}]+)\}/g;return s.replace(t,(o,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function f(s,e,t){for(let u=0;u<e.length-1;u++){const p=e[u];if(p.endsWith("[]")){const h=p.slice(0,-2);if(!(h in s))if(Array.isArray(t))s[h]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(s[h])){const y=s[h];if(Array.isArray(t))for(let g=0;g<y.length;g++){const v=y[g];f(v,e.slice(u+1),t[g])}else for(const g of y)f(g,e.slice(u+1),t)}return}else if(p.endsWith("[0]")){const h=p.slice(0,-3);h in s||(s[h]=[{}]);const y=s[h];f(y[0],e.slice(u+1),t);return}(!s[p]||typeof s[p]!="object")&&(s[p]={}),s=s[p]}const o=e[e.length-1],l=s[o];if(l!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===l)return;if(typeof l=="object"&&typeof t=="object"&&l!==null&&t!==null)Object.assign(l,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else s[o]=t}function c(s,e){try{if(e.length===1&&e[0]==="_self")return s;for(let t=0;t<e.length;t++){if(typeof s!="object"||s===null)return;const o=e[t];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in s){const u=s[l];return Array.isArray(u)?u.map(p=>c(p,e.slice(t+1))):void 0}else return}else s=s[o]}return s}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jh;(function(s){s.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",s.OUTCOME_OK="OUTCOME_OK",s.OUTCOME_FAILED="OUTCOME_FAILED",s.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Jh||(Jh={}));var Qh;(function(s){s.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",s.PYTHON="PYTHON"})(Qh||(Qh={}));var tn;(function(s){s.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",s.STRING="STRING",s.NUMBER="NUMBER",s.INTEGER="INTEGER",s.BOOLEAN="BOOLEAN",s.ARRAY="ARRAY",s.OBJECT="OBJECT",s.NULL="NULL"})(tn||(tn={}));var fo;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(fo||(fo={}));var Wh;(function(s){s.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",s.SEVERITY="SEVERITY",s.PROBABILITY="PROBABILITY"})(Wh||(Wh={}));var po;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE",s.OFF="OFF"})(po||(po={}));var jh;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(jh||(jh={}));var em;(function(s){s.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",s.NO_AUTH="NO_AUTH",s.API_KEY_AUTH="API_KEY_AUTH",s.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",s.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",s.OAUTH="OAUTH",s.OIDC_AUTH="OIDC_AUTH"})(em||(em={}));var tm;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.IMAGE_SAFETY="IMAGE_SAFETY",s.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(tm||(tm={}));var nm;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(nm||(nm={}));var im;(function(s){s.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",s.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",s.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",s.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",s.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(im||(im={}));var om;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(om||(om={}));var am;(function(s){s.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",s.ON_DEMAND="ON_DEMAND",s.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(am||(am={}));var hs;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.AUDIO="AUDIO"})(hs||(hs={}));var lm;(function(s){s.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",s.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",s.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",s.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(lm||(lm={}));var ic;(function(s){s.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",s.JOB_STATE_QUEUED="JOB_STATE_QUEUED",s.JOB_STATE_PENDING="JOB_STATE_PENDING",s.JOB_STATE_RUNNING="JOB_STATE_RUNNING",s.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",s.JOB_STATE_FAILED="JOB_STATE_FAILED",s.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",s.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",s.JOB_STATE_PAUSED="JOB_STATE_PAUSED",s.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",s.JOB_STATE_UPDATING="JOB_STATE_UPDATING",s.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ic||(ic={}));var sm;(function(s){s.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",s.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",s.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",s.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",s.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",s.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",s.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(sm||(sm={}));var rm;(function(s){s.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",s.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",s.BALANCED="BALANCED",s.PRIORITIZE_COST="PRIORITIZE_COST"})(rm||(rm={}));var um;(function(s){s.UNSPECIFIED="UNSPECIFIED",s.BLOCKING="BLOCKING",s.NON_BLOCKING="NON_BLOCKING"})(um||(um={}));var cm;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(cm||(cm={}));var fm;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(fm||(fm={}));var dm;(function(s){s.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",s.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",s.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(dm||(dm={}));var pm;(function(s){s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(pm||(pm={}));var hm;(function(s){s.DONT_ALLOW="DONT_ALLOW",s.ALLOW_ADULT="ALLOW_ADULT",s.ALLOW_ALL="ALLOW_ALL"})(hm||(hm={}));var mm;(function(s){s.auto="auto",s.en="en",s.ja="ja",s.ko="ko",s.hi="hi"})(mm||(mm={}));var gm;(function(s){s.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",s.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",s.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",s.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",s.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(gm||(gm={}));var ym;(function(s){s.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",s.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",s.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",s.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ym||(ym={}));var vm;(function(s){s.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",s.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",s.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",s.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(vm||(vm={}));var Tm;(function(s){s.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",s.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",s.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",s.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",s.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",s.EDIT_MODE_STYLE="EDIT_MODE_STYLE",s.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",s.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Tm||(Tm={}));var xm;(function(s){s.STATE_UNSPECIFIED="STATE_UNSPECIFIED",s.PROCESSING="PROCESSING",s.ACTIVE="ACTIVE",s.FAILED="FAILED"})(xm||(xm={}));var Cm;(function(s){s.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",s.UPLOADED="UPLOADED",s.GENERATED="GENERATED"})(Cm||(Cm={}));var Sm;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.VIDEO="VIDEO",s.AUDIO="AUDIO",s.DOCUMENT="DOCUMENT"})(Sm||(Sm={}));var bm;(function(s){s.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",s.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",s.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(bm||(bm={}));var _m;(function(s){s.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",s.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",s.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(_m||(_m={}));var Em;(function(s){s.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",s.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",s.NO_INTERRUPTION="NO_INTERRUPTION"})(Em||(Em={}));var wm;(function(s){s.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",s.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",s.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(wm||(wm={}));var Am;(function(s){s.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",s.SILENT="SILENT",s.WHEN_IDLE="WHEN_IDLE",s.INTERRUPT="INTERRUPT"})(Am||(Am={}));var Mm;(function(s){s.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",s.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",s.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",s.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",s.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",s.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",s.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",s.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",s.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",s.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",s.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",s.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",s.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Mm||(Mm={}));var ho;(function(s){s.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",s.PLAY="PLAY",s.PAUSE="PAUSE",s.STOP="STOP",s.RESET_CONTEXT="RESET_CONTEXT"})(ho||(ho={}));class wa{get text(){var e,t,o,l,u,p,h,y;if(((l=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const x=[];for(const S of(y=(h=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[w,R]of Object.entries(S))w!=="text"&&w!=="thought"&&(R!==null||R!==void 0)&&x.push(w);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,g+=S.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,t,o,l,u,p,h,y;if(((l=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const x of(y=(h=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[S,w]of Object.entries(x))S!=="inlineData"&&(w!==null||w!==void 0)&&v.push(S);x.inlineData&&typeof x.inlineData.data=="string"&&(g+=atob(x.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,t,o,l,u,p,h,y;if(((l=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(h=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,t,o,l,u,p,h,y,g;if(((l=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,t,o,l,u,p,h,y,g;if(((l=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(p=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class Rm{}class km{}class w0{}class A0{}class Dm{}class Nm{}class Im{}class M0{}class Um{}class Lm{}class qm{}class R0{}class oc{constructor(e){const t={};for(const o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class k0{}class D0{}class N0{get text(){var e,t,o;let l="",u=!1;const p=[];for(const h of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[y,g]of Object.entries(h))y!=="text"&&y!=="thought"&&g!==null&&p.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,l+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,t,o;let l="";const u=[];for(const p of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[h,y]of Object.entries(p))h!=="inlineData"&&y!==null&&u.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(l+=atob(p.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class I0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Be(s,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(s.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function vg(s,e){const t=Be(s,e);return t?t.startsWith("publishers/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/${t}`:t.startsWith("models/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/publishers/google/${t}`:t:""}function Tg(s,e){return Array.isArray(e)?e.map(t=>ms(s,t)):[ms(s,e)]}function ms(s,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function U0(s,e){const t=ms(s,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function L0(s,e){const t=ms(s,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Vm(s,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function xg(s,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Vm(s,t)):[Vm(s,e)]}function ac(s){return s!=null&&typeof s=="object"&&"parts"in s&&Array.isArray(s.parts)}function Om(s){return s!=null&&typeof s=="object"&&"functionCall"in s}function zm(s){return s!=null&&typeof s=="object"&&"functionResponse"in s}function mt(s,e){if(e==null)throw new Error("ContentUnion is required");return ac(e)?e:{role:"user",parts:xg(s,e)}}function Cg(s,e){if(!e)return[];if(s.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const o=mt(s,t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(s.isVertexAI()){const t=mt(s,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>mt(s,t)):[mt(s,e)]}function $t(s,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Om(e)||zm(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[mt(s,e)]}const t=[],o=[],l=ac(e[0]);for(const u of e){const p=ac(u);if(p!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(p)t.push(u);else{if(Om(u)||zm(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(u)}}return l||t.push({role:"user",parts:xg(s,o)}),t}const q0=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Pm=C0(["string","number","integer","object","array","boolean","null"]),V0=v0([Pm,ka(Pm)]);function O0(s=!0){const e=x0(()=>{const t=y0({type:V0.optional(),format:vi().optional(),title:vi().optional(),description:vi().optional(),default:Xh().optional(),items:e.optional(),minItems:uo.string().optional(),maxItems:uo.string().optional(),enum:ka(Xh()).optional(),properties:T0(vi(),e).optional(),required:ka(vi()).optional(),minProperties:uo.string().optional(),maxProperties:uo.string().optional(),propertyOrdering:ka(vi()).optional(),minimum:Kh().optional(),maximum:Kh().optional(),minLength:uo.string().optional(),maxLength:uo.string().optional(),pattern:vi().optional(),anyOf:ka(e).optional(),additionalProperties:g0().optional()});return s?t.strict():t});return e}function z0(s,e){s.includes("null")&&(e.nullable=!0);const t=s.filter(o=>o!=="null");if(t.length===1)e.type=Object.values(tn).includes(t[0].toUpperCase())?t[0].toUpperCase():tn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of t)e.anyOf.push({type:Object.values(tn).includes(o.toUpperCase())?o.toUpperCase():tn.TYPE_UNSPECIFIED})}}function mo(s){const e={},t=["items"],o=["anyOf"],l=["properties"];if(s.type&&s.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=s.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,s=u[1]):u[1].type==="null"&&(e.nullable=!0,s=u[0])),s.type instanceof Array&&z0(s.type,e);for(const[p,h]of Object.entries(s))if(h!=null)if(p=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(tn).includes(h.toUpperCase())?h.toUpperCase():tn.TYPE_UNSPECIFIED}else if(t.includes(p))e[p]=mo(h);else if(o.includes(p)){const y=[];for(const g of h){if(g.type=="null"){e.nullable=!0;continue}y.push(mo(g))}e[p]=y}else if(l.includes(p)){const y={};for(const[g,v]of Object.entries(h))y[g]=mo(v);e[p]=y}else{if(p==="additionalProperties")continue;e[p]=h}return e}function gs(s,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=O0().parse(e);return mo(t)}else return mo(e)}function Sg(s,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function vc(s,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function La(s,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=gs(s,t.parameters)),t.response&&(t.response=gs(s,t.response));return e}function qa(s,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of e)t.push(o);return t}function P0(s,e,t,o=1){const l=!e.startsWith(`${t}/`)&&e.split("/").length===o;return s.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${s.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${s.getProject()}/locations/${s.getLocation()}/${e}`:l?`projects/${s.getProject()}/locations/${s.getLocation()}/${t}/${e}`:e:l?`${t}/${e}`:e}function Wn(s,e){if(typeof e!="string")throw new Error("name must be a string");return P0(s,e,"cachedContents")}function bg(s,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function jn(s,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function B0(s){return s!=null&&typeof s=="object"&&"name"in s}function G0(s){return s!=null&&typeof s=="object"&&"video"in s}function H0(s){return s!=null&&typeof s=="object"&&"uri"in s}function _g(s,e){var t;let o;if(B0(e)&&(o=e.name),!(H0(e)&&(o=e.uri,o===void 0))&&!(G0(e)&&(o=(t=e.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof e=="string"&&(o=e),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const u=o.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${o}`);o=u[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Eg(s,e){let t;return s.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function wg(s,e){for(const t of["models","tunedModels","publisherModels"])if(F0(e,t))return e[t];return[]}function F0(s,e){return s!==null&&typeof s=="object"&&e in s}function Y0(s,e={}){const t=s,o={name:t.name,description:t.description,parameters:mo(Ss(t.inputSchema))};return e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function Z0(s,e={}){const t=[],o=new Set;for(const l of s){const u=l.name;if(o.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);o.add(u);const p=Y0(l,e);p.functionDeclarations&&t.push(...p.functionDeclarations)}return{functionDeclarations:t}}function $0(s){const e=[];for(const t of s)e.push(Ss(t));return e}function K0(s){const e={};for(const[t,o]of Object.entries(s)){const l=o;e[t]=Ss(l)}return e}function Ss(s){const e=new Set(["items"]),t=new Set(["anyOf"]),o=new Set(["properties"]),l={};for(const[u,p]of Object.entries(s))if(e.has(u))l[u]=Ss(p);else if(t.has(u))l[u]=$0(p);else if(o.has(u))l[u]=K0(p);else if(u==="type"){const h=p.toUpperCase();l[u]=Object.values(tn).includes(h)?h:tn.TYPE_UNSPECIFIED}else q0.has(u)&&(l[u]=p);return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X0(s,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const l=c(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const u=c(e,["startOffset"]);return u!=null&&f(t,["startOffset"],u),t}function J0(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["data"]);o!=null&&f(t,["data"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function Q0(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function W0(s,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],X0(s,o));const l=c(e,["thought"]);l!=null&&f(t,["thought"],l);const u=c(e,["inlineData"]);u!=null&&f(t,["inlineData"],J0(s,u));const p=c(e,["fileData"]);p!=null&&f(t,["fileData"],Q0(s,p));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=c(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function Bm(s,e){const t={},o=c(e,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>W0(s,p))),f(t,["parts"],u)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function j0(s,e){const t={},o=c(e,["behavior"]);o!=null&&f(t,["behavior"],o);const l=c(e,["description"]);l!=null&&f(t,["description"],l);const u=c(e,["name"]);u!=null&&f(t,["name"],u);const p=c(e,["parameters"]);p!=null&&f(t,["parameters"],p);const h=c(e,["response"]);return h!=null&&f(t,["response"],h),t}function ex(s,e){const t={},o=c(e,["startTime"]);o!=null&&f(t,["startTime"],o);const l=c(e,["endTime"]);return l!=null&&f(t,["endTime"],l),t}function tx(s,e){const t={},o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],ex(s,o)),t}function nx(s,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const l=c(e,["dynamicThreshold"]);return l!=null&&f(t,["dynamicThreshold"],l),t}function ix(s,e){const t={},o=c(e,["dynamicRetrievalConfig"]);return o!=null&&f(t,["dynamicRetrievalConfig"],nx(s,o)),t}function ox(){return{}}function ax(s,e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(g=>j0(s,g))),f(t,["functionDeclarations"],y)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],tx(s,l));const u=c(e,["googleSearchRetrieval"]);if(u!=null&&f(t,["googleSearchRetrieval"],ix(s,u)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&f(t,["urlContext"],ox());const h=c(e,["codeExecution"]);return h!=null&&f(t,["codeExecution"],h),t}function lx(s,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const l=c(e,["allowedFunctionNames"]);return l!=null&&f(t,["allowedFunctionNames"],l),t}function sx(s,e){const t={},o=c(e,["latitude"]);o!=null&&f(t,["latitude"],o);const l=c(e,["longitude"]);return l!=null&&f(t,["longitude"],l),t}function rx(s,e){const t={},o=c(e,["latLng"]);o!=null&&f(t,["latLng"],sx(s,o));const l=c(e,["languageCode"]);return l!=null&&f(t,["languageCode"],l),t}function ux(s,e){const t={},o=c(e,["functionCallingConfig"]);o!=null&&f(t,["functionCallingConfig"],lx(s,o));const l=c(e,["retrievalConfig"]);return l!=null&&f(t,["retrievalConfig"],rx(s,l)),t}function cx(s,e,t){const o={},l=c(e,["ttl"]);t!==void 0&&l!=null&&f(t,["ttl"],l);const u=c(e,["expireTime"]);t!==void 0&&u!=null&&f(t,["expireTime"],u);const p=c(e,["displayName"]);t!==void 0&&p!=null&&f(t,["displayName"],p);const h=c(e,["contents"]);if(t!==void 0&&h!=null){let x=$t(s,h);Array.isArray(x)&&(x=x.map(S=>Bm(s,S))),f(t,["contents"],x)}const y=c(e,["systemInstruction"]);t!==void 0&&y!=null&&f(t,["systemInstruction"],Bm(s,mt(s,y)));const g=c(e,["tools"]);if(t!==void 0&&g!=null){let x=g;Array.isArray(x)&&(x=x.map(S=>ax(s,S))),f(t,["tools"],x)}const v=c(e,["toolConfig"]);if(t!==void 0&&v!=null&&f(t,["toolConfig"],ux(s,v)),c(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function fx(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["model"],vg(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],cx(s,l,t)),t}function dx(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],Wn(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function px(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],Wn(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function hx(s,e,t){const o={},l=c(e,["ttl"]);t!==void 0&&l!=null&&f(t,["ttl"],l);const u=c(e,["expireTime"]);return t!==void 0&&u!=null&&f(t,["expireTime"],u),o}function mx(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],Wn(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],hx(s,l,t)),t}function gx(s,e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const u=c(e,["pageToken"]);return t!==void 0&&u!=null&&f(t,["_query","pageToken"],u),o}function yx(s,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],gx(s,o,t)),t}function vx(s,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const l=c(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const u=c(e,["startOffset"]);return u!=null&&f(t,["startOffset"],u),t}function Tx(s,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const l=c(e,["data"]);l!=null&&f(t,["data"],l);const u=c(e,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function xx(s,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const l=c(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const u=c(e,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function Cx(s,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],vx(s,o));const l=c(e,["thought"]);l!=null&&f(t,["thought"],l);const u=c(e,["inlineData"]);u!=null&&f(t,["inlineData"],Tx(s,u));const p=c(e,["fileData"]);p!=null&&f(t,["fileData"],xx(s,p));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=c(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function Gm(s,e){const t={},o=c(e,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>Cx(s,p))),f(t,["parts"],u)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function Sx(s,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(e,["description"]);o!=null&&f(t,["description"],o);const l=c(e,["name"]);l!=null&&f(t,["name"],l);const u=c(e,["parameters"]);u!=null&&f(t,["parameters"],u);const p=c(e,["response"]);return p!=null&&f(t,["response"],p),t}function bx(s,e){const t={},o=c(e,["startTime"]);o!=null&&f(t,["startTime"],o);const l=c(e,["endTime"]);return l!=null&&f(t,["endTime"],l),t}function _x(s,e){const t={},o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],bx(s,o)),t}function Ex(s,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const l=c(e,["dynamicThreshold"]);return l!=null&&f(t,["dynamicThreshold"],l),t}function wx(s,e){const t={},o=c(e,["dynamicRetrievalConfig"]);return o!=null&&f(t,["dynamicRetrievalConfig"],Ex(s,o)),t}function Ax(){return{}}function Mx(s,e){const t={},o=c(e,["apiKeyString"]);return o!=null&&f(t,["apiKeyString"],o),t}function Rx(s,e){const t={},o=c(e,["apiKeyConfig"]);o!=null&&f(t,["apiKeyConfig"],Mx(s,o));const l=c(e,["authType"]);l!=null&&f(t,["authType"],l);const u=c(e,["googleServiceAccountConfig"]);u!=null&&f(t,["googleServiceAccountConfig"],u);const p=c(e,["httpBasicAuthConfig"]);p!=null&&f(t,["httpBasicAuthConfig"],p);const h=c(e,["oauthConfig"]);h!=null&&f(t,["oauthConfig"],h);const y=c(e,["oidcConfig"]);return y!=null&&f(t,["oidcConfig"],y),t}function kx(s,e){const t={},o=c(e,["authConfig"]);return o!=null&&f(t,["authConfig"],Rx(s,o)),t}function Dx(){return{}}function Nx(s,e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(S=>Sx(s,S))),f(t,["functionDeclarations"],x)}const l=c(e,["retrieval"]);l!=null&&f(t,["retrieval"],l);const u=c(e,["googleSearch"]);u!=null&&f(t,["googleSearch"],_x(s,u));const p=c(e,["googleSearchRetrieval"]);p!=null&&f(t,["googleSearchRetrieval"],wx(s,p)),c(e,["enterpriseWebSearch"])!=null&&f(t,["enterpriseWebSearch"],Ax());const y=c(e,["googleMaps"]);y!=null&&f(t,["googleMaps"],kx(s,y)),c(e,["urlContext"])!=null&&f(t,["urlContext"],Dx());const v=c(e,["codeExecution"]);return v!=null&&f(t,["codeExecution"],v),t}function Ix(s,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const l=c(e,["allowedFunctionNames"]);return l!=null&&f(t,["allowedFunctionNames"],l),t}function Ux(s,e){const t={},o=c(e,["latitude"]);o!=null&&f(t,["latitude"],o);const l=c(e,["longitude"]);return l!=null&&f(t,["longitude"],l),t}function Lx(s,e){const t={},o=c(e,["latLng"]);o!=null&&f(t,["latLng"],Ux(s,o));const l=c(e,["languageCode"]);return l!=null&&f(t,["languageCode"],l),t}function qx(s,e){const t={},o=c(e,["functionCallingConfig"]);o!=null&&f(t,["functionCallingConfig"],Ix(s,o));const l=c(e,["retrievalConfig"]);return l!=null&&f(t,["retrievalConfig"],Lx(s,l)),t}function Vx(s,e,t){const o={},l=c(e,["ttl"]);t!==void 0&&l!=null&&f(t,["ttl"],l);const u=c(e,["expireTime"]);t!==void 0&&u!=null&&f(t,["expireTime"],u);const p=c(e,["displayName"]);t!==void 0&&p!=null&&f(t,["displayName"],p);const h=c(e,["contents"]);if(t!==void 0&&h!=null){let S=$t(s,h);Array.isArray(S)&&(S=S.map(w=>Gm(s,w))),f(t,["contents"],S)}const y=c(e,["systemInstruction"]);t!==void 0&&y!=null&&f(t,["systemInstruction"],Gm(s,mt(s,y)));const g=c(e,["tools"]);if(t!==void 0&&g!=null){let S=g;Array.isArray(S)&&(S=S.map(w=>Nx(s,w))),f(t,["tools"],S)}const v=c(e,["toolConfig"]);t!==void 0&&v!=null&&f(t,["toolConfig"],qx(s,v));const x=c(e,["kmsKeyName"]);return t!==void 0&&x!=null&&f(t,["encryption_spec","kmsKeyName"],x),o}function Ox(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["model"],vg(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],Vx(s,l,t)),t}function zx(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],Wn(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function Px(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],Wn(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function Bx(s,e,t){const o={},l=c(e,["ttl"]);t!==void 0&&l!=null&&f(t,["ttl"],l);const u=c(e,["expireTime"]);return t!==void 0&&u!=null&&f(t,["expireTime"],u),o}function Gx(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],Wn(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],Bx(s,l,t)),t}function Hx(s,e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const u=c(e,["pageToken"]);return t!==void 0&&u!=null&&f(t,["_query","pageToken"],u),o}function Fx(s,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],Hx(s,o,t)),t}function os(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const u=c(e,["model"]);u!=null&&f(t,["model"],u);const p=c(e,["createTime"]);p!=null&&f(t,["createTime"],p);const h=c(e,["updateTime"]);h!=null&&f(t,["updateTime"],h);const y=c(e,["expireTime"]);y!=null&&f(t,["expireTime"],y);const g=c(e,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function Yx(){return{}}function Zx(s,e){const t={},o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const l=c(e,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(p=>os(s,p))),f(t,["cachedContents"],u)}return t}function as(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const u=c(e,["model"]);u!=null&&f(t,["model"],u);const p=c(e,["createTime"]);p!=null&&f(t,["createTime"],p);const h=c(e,["updateTime"]);h!=null&&f(t,["updateTime"],h);const y=c(e,["expireTime"]);y!=null&&f(t,["expireTime"],y);const g=c(e,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function $x(){return{}}function Kx(s,e){const t={},o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const l=c(e,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(p=>as(s,p))),f(t,["cachedContents"],u)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var So;(function(s){s.PAGED_ITEM_BATCH_JOBS="batchJobs",s.PAGED_ITEM_MODELS="models",s.PAGED_ITEM_TUNING_JOBS="tuningJobs",s.PAGED_ITEM_FILES="files",s.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(So||(So={}));class bs{constructor(e,t,o,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,l)}init(e,t,o){var l,u;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let p={config:{}};o?typeof o=="object"?p=Object.assign({},o):p=o:p={config:{}},p.config&&(p.config.pageToken=t.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(u=(l=p.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xx extends _o{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new bs(So.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Ox(this.apiClient,e);return h=re("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(v=>as(this.apiClient,v))}else{const g=fx(this.apiClient,e);return h=re("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(v=>os(this.apiClient,v))}}async get(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=zx(this.apiClient,e);return h=re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(v=>as(this.apiClient,v))}else{const g=dx(this.apiClient,e);return h=re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(v=>os(this.apiClient,v))}}async delete(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Px(this.apiClient,e);return h=re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(()=>{const v=$x(),x=new Lm;return Object.assign(x,v),x})}else{const g=px(this.apiClient,e);return h=re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(()=>{const v=Yx(),x=new Lm;return Object.assign(x,v),x})}}async update(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Gx(this.apiClient,e);return h=re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(v=>as(this.apiClient,v))}else{const g=mx(this.apiClient,e);return h=re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(v=>os(this.apiClient,v))}}async listInternal(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Fx(this.apiClient,e);return h=re("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(v=>{const x=Kx(this.apiClient,v),S=new qm;return Object.assign(S,x),S})}else{const g=yx(this.apiClient,e);return h=re("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(v=>{const x=Zx(this.apiClient,v),S=new qm;return Object.assign(S,x),S})}}}function Hm(s){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&s[e],o=0;if(t)return t.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&o>=s.length&&(s=void 0),{value:s&&s[o++],done:!s}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(s){return this instanceof He?(this.v=s,this):new He(s)}function go(s,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(s,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",p),l[Symbol.asyncIterator]=function(){return this},l;function p(w){return function(R){return Promise.resolve(R).then(w,x)}}function h(w,R){o[w]&&(l[w]=function(L){return new Promise(function(P,H){u.push([w,L,P,H])>1||y(w,L)})},R&&(l[w]=R(l[w])))}function y(w,R){try{g(o[w](R))}catch(L){S(u[0][3],L)}}function g(w){w.value instanceof He?Promise.resolve(w.value.v).then(v,x):S(u[0][2],w)}function v(w){y("next",w)}function x(w){y("throw",w)}function S(w,R){w(R),u.shift(),u.length&&y(u[0][0],u[0][1])}}function Da(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],t;return e?e.call(s):(s=typeof Hm=="function"?Hm(s):s[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(u){t[u]=s[u]&&function(p){return new Promise(function(h,y){p=s[u](p),l(h,y,p.done,p.value)})}}function l(u,p,h,y){Promise.resolve(y).then(function(g){u({value:g,done:h})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jx(s){var e;if(s.candidates==null||s.candidates.length===0)return!1;const t=(e=s.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:Ag(t)}function Ag(s){if(s.parts===void 0||s.parts.length===0)return!1;for(const e of s.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Qx(s){if(s.length!==0){for(const e of s)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Fm(s){if(s===void 0||s.length===0)return[];const e=[],t=s.length;let o=0;for(;o<t;)if(s[o].role==="user")e.push(s[o]),o++;else{const l=[];let u=!0;for(;o<t&&s[o].role==="model";)l.push(s[o]),u&&!Ag(s[o])&&(u=!1),o++;u?e.push(...l):e.pop()}return e}class Wx{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new jx(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class jx{constructor(e,t,o,l={},u=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),Qx(u)}async sendMessage(e){var t;await this.sendPromise;const o=mt(this.apiClient,e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var u,p,h;const y=await l,g=(p=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let S=[];v!=null&&(S=(h=v.slice(x))!==null&&h!==void 0?h:[]);const w=g?[g]:[];this.recordHistory(o,w,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var t;await this.sendPromise;const o=mt(this.apiClient,e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,o)}getHistory(e=!1){const t=e?Fm(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var o,l;return go(this,arguments,function*(){var p,h,y,g;const v=[];try{for(var x=!0,S=Da(e),w;w=yield He(S.next()),p=w.done,!p;x=!0){g=w.value,x=!1;const R=g;if(Jx(R)){const L=(l=(o=R.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content;L!==void 0&&v.push(L)}yield yield He(R)}}catch(R){h={error:R}}finally{try{!x&&!p&&(y=S.return)&&(yield He(y.call(S)))}finally{if(h)throw h.error}}this.recordHistory(t,v)})}recordHistory(e,t,o){let l=[];t.length>0&&t.every(u=>u.role!==void 0)?l=t:l.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Fm(o)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eC(s,e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const u=c(e,["pageToken"]);return t!==void 0&&u!=null&&f(t,["_query","pageToken"],u),o}function tC(s,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],eC(s,o,t)),t}function nC(s,e){const t={},o=c(e,["details"]);o!=null&&f(t,["details"],o);const l=c(e,["message"]);l!=null&&f(t,["message"],l);const u=c(e,["code"]);return u!=null&&f(t,["code"],u),t}function iC(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const u=c(e,["mimeType"]);u!=null&&f(t,["mimeType"],u);const p=c(e,["sizeBytes"]);p!=null&&f(t,["sizeBytes"],p);const h=c(e,["createTime"]);h!=null&&f(t,["createTime"],h);const y=c(e,["expirationTime"]);y!=null&&f(t,["expirationTime"],y);const g=c(e,["updateTime"]);g!=null&&f(t,["updateTime"],g);const v=c(e,["sha256Hash"]);v!=null&&f(t,["sha256Hash"],v);const x=c(e,["uri"]);x!=null&&f(t,["uri"],x);const S=c(e,["downloadUri"]);S!=null&&f(t,["downloadUri"],S);const w=c(e,["state"]);w!=null&&f(t,["state"],w);const R=c(e,["source"]);R!=null&&f(t,["source"],R);const L=c(e,["videoMetadata"]);L!=null&&f(t,["videoMetadata"],L);const P=c(e,["error"]);return P!=null&&f(t,["error"],nC(s,P)),t}function oC(s,e){const t={},o=c(e,["file"]);o!=null&&f(t,["file"],iC(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function aC(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","file"],_g(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function lC(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","file"],_g(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function sC(s,e){const t={},o=c(e,["details"]);o!=null&&f(t,["details"],o);const l=c(e,["message"]);l!=null&&f(t,["message"],l);const u=c(e,["code"]);return u!=null&&f(t,["code"],u),t}function lc(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const u=c(e,["mimeType"]);u!=null&&f(t,["mimeType"],u);const p=c(e,["sizeBytes"]);p!=null&&f(t,["sizeBytes"],p);const h=c(e,["createTime"]);h!=null&&f(t,["createTime"],h);const y=c(e,["expirationTime"]);y!=null&&f(t,["expirationTime"],y);const g=c(e,["updateTime"]);g!=null&&f(t,["updateTime"],g);const v=c(e,["sha256Hash"]);v!=null&&f(t,["sha256Hash"],v);const x=c(e,["uri"]);x!=null&&f(t,["uri"],x);const S=c(e,["downloadUri"]);S!=null&&f(t,["downloadUri"],S);const w=c(e,["state"]);w!=null&&f(t,["state"],w);const R=c(e,["source"]);R!=null&&f(t,["source"],R);const L=c(e,["videoMetadata"]);L!=null&&f(t,["videoMetadata"],L);const P=c(e,["error"]);return P!=null&&f(t,["error"],sC(s,P)),t}function rC(s,e){const t={},o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const l=c(e,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(p=>lc(s,p))),f(t,["files"],u)}return t}function uC(){return{}}function cC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fC extends _o{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new bs(So.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>lc(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,o;let l,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tC(this.apiClient,e);return u=re("files",h._url),p=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const g=rC(this.apiClient,y),v=new R0;return Object.assign(v,g),v})}}async createInternal(e){var t,o;let l,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=oC(this.apiClient,e);return u=re("upload/v1beta/files",h._url),p=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(()=>{const y=uC(),g=new k0;return Object.assign(g,y),g})}}async get(e){var t,o;let l,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=aC(this.apiClient,e);return u=re("files/{file}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>lc(this.apiClient,y))}}async delete(e){var t,o;let l,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=lC(this.apiClient,e);return u=re("files/{file}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(()=>{const y=cC(),g=new D0;return Object.assign(g,y),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dC(s,e){const t={},o=c(e,["voiceName"]);return o!=null&&f(t,["voiceName"],o),t}function pC(s,e){const t={},o=c(e,["voiceName"]);return o!=null&&f(t,["voiceName"],o),t}function Mg(s,e){const t={},o=c(e,["prebuiltVoiceConfig"]);return o!=null&&f(t,["prebuiltVoiceConfig"],dC(s,o)),t}function hC(s,e){const t={},o=c(e,["prebuiltVoiceConfig"]);return o!=null&&f(t,["prebuiltVoiceConfig"],pC(s,o)),t}function mC(s,e){const t={},o=c(e,["speaker"]);o!=null&&f(t,["speaker"],o);const l=c(e,["voiceConfig"]);return l!=null&&f(t,["voiceConfig"],Mg(s,l)),t}function gC(s,e){const t={},o=c(e,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>mC(s,u))),f(t,["speakerVoiceConfigs"],l)}return t}function yC(s,e){const t={},o=c(e,["voiceConfig"]);o!=null&&f(t,["voiceConfig"],Mg(s,o));const l=c(e,["multiSpeakerVoiceConfig"]);l!=null&&f(t,["multiSpeakerVoiceConfig"],gC(s,l));const u=c(e,["languageCode"]);return u!=null&&f(t,["languageCode"],u),t}function vC(s,e){const t={},o=c(e,["voiceConfig"]);if(o!=null&&f(t,["voiceConfig"],hC(s,o)),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=c(e,["languageCode"]);return l!=null&&f(t,["languageCode"],l),t}function TC(s,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const l=c(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const u=c(e,["startOffset"]);return u!=null&&f(t,["startOffset"],u),t}function xC(s,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const l=c(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const u=c(e,["startOffset"]);return u!=null&&f(t,["startOffset"],u),t}function CC(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["data"]);o!=null&&f(t,["data"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function SC(s,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const l=c(e,["data"]);l!=null&&f(t,["data"],l);const u=c(e,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function bC(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function _C(s,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const l=c(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const u=c(e,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function EC(s,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],TC(s,o));const l=c(e,["thought"]);l!=null&&f(t,["thought"],l);const u=c(e,["inlineData"]);u!=null&&f(t,["inlineData"],CC(s,u));const p=c(e,["fileData"]);p!=null&&f(t,["fileData"],bC(s,p));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=c(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function wC(s,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],xC(s,o));const l=c(e,["thought"]);l!=null&&f(t,["thought"],l);const u=c(e,["inlineData"]);u!=null&&f(t,["inlineData"],SC(s,u));const p=c(e,["fileData"]);p!=null&&f(t,["fileData"],_C(s,p));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=c(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function AC(s,e){const t={},o=c(e,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>EC(s,p))),f(t,["parts"],u)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function MC(s,e){const t={},o=c(e,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>wC(s,p))),f(t,["parts"],u)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function RC(s,e){const t={},o=c(e,["behavior"]);o!=null&&f(t,["behavior"],o);const l=c(e,["description"]);l!=null&&f(t,["description"],l);const u=c(e,["name"]);u!=null&&f(t,["name"],u);const p=c(e,["parameters"]);p!=null&&f(t,["parameters"],p);const h=c(e,["response"]);return h!=null&&f(t,["response"],h),t}function kC(s,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(e,["description"]);o!=null&&f(t,["description"],o);const l=c(e,["name"]);l!=null&&f(t,["name"],l);const u=c(e,["parameters"]);u!=null&&f(t,["parameters"],u);const p=c(e,["response"]);return p!=null&&f(t,["response"],p),t}function DC(s,e){const t={},o=c(e,["startTime"]);o!=null&&f(t,["startTime"],o);const l=c(e,["endTime"]);return l!=null&&f(t,["endTime"],l),t}function NC(s,e){const t={},o=c(e,["startTime"]);o!=null&&f(t,["startTime"],o);const l=c(e,["endTime"]);return l!=null&&f(t,["endTime"],l),t}function IC(s,e){const t={},o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],DC(s,o)),t}function UC(s,e){const t={},o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],NC(s,o)),t}function LC(s,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const l=c(e,["dynamicThreshold"]);return l!=null&&f(t,["dynamicThreshold"],l),t}function qC(s,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const l=c(e,["dynamicThreshold"]);return l!=null&&f(t,["dynamicThreshold"],l),t}function VC(s,e){const t={},o=c(e,["dynamicRetrievalConfig"]);return o!=null&&f(t,["dynamicRetrievalConfig"],LC(s,o)),t}function OC(s,e){const t={},o=c(e,["dynamicRetrievalConfig"]);return o!=null&&f(t,["dynamicRetrievalConfig"],qC(s,o)),t}function zC(){return{}}function PC(s,e){const t={},o=c(e,["apiKeyString"]);return o!=null&&f(t,["apiKeyString"],o),t}function BC(s,e){const t={},o=c(e,["apiKeyConfig"]);o!=null&&f(t,["apiKeyConfig"],PC(s,o));const l=c(e,["authType"]);l!=null&&f(t,["authType"],l);const u=c(e,["googleServiceAccountConfig"]);u!=null&&f(t,["googleServiceAccountConfig"],u);const p=c(e,["httpBasicAuthConfig"]);p!=null&&f(t,["httpBasicAuthConfig"],p);const h=c(e,["oauthConfig"]);h!=null&&f(t,["oauthConfig"],h);const y=c(e,["oidcConfig"]);return y!=null&&f(t,["oidcConfig"],y),t}function GC(s,e){const t={},o=c(e,["authConfig"]);return o!=null&&f(t,["authConfig"],BC(s,o)),t}function HC(){return{}}function FC(){return{}}function YC(s,e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(g=>RC(s,g))),f(t,["functionDeclarations"],y)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],IC(s,l));const u=c(e,["googleSearchRetrieval"]);if(u!=null&&f(t,["googleSearchRetrieval"],VC(s,u)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&f(t,["urlContext"],HC());const h=c(e,["codeExecution"]);return h!=null&&f(t,["codeExecution"],h),t}function ZC(s,e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(S=>kC(s,S))),f(t,["functionDeclarations"],x)}const l=c(e,["retrieval"]);l!=null&&f(t,["retrieval"],l);const u=c(e,["googleSearch"]);u!=null&&f(t,["googleSearch"],UC(s,u));const p=c(e,["googleSearchRetrieval"]);p!=null&&f(t,["googleSearchRetrieval"],OC(s,p)),c(e,["enterpriseWebSearch"])!=null&&f(t,["enterpriseWebSearch"],zC());const y=c(e,["googleMaps"]);y!=null&&f(t,["googleMaps"],GC(s,y)),c(e,["urlContext"])!=null&&f(t,["urlContext"],FC());const v=c(e,["codeExecution"]);return v!=null&&f(t,["codeExecution"],v),t}function $C(s,e){const t={},o=c(e,["handle"]);if(o!=null&&f(t,["handle"],o),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function KC(s,e){const t={},o=c(e,["handle"]);o!=null&&f(t,["handle"],o);const l=c(e,["transparent"]);return l!=null&&f(t,["transparent"],l),t}function Ym(){return{}}function Zm(){return{}}function XC(s,e){const t={},o=c(e,["disabled"]);o!=null&&f(t,["disabled"],o);const l=c(e,["startOfSpeechSensitivity"]);l!=null&&f(t,["startOfSpeechSensitivity"],l);const u=c(e,["endOfSpeechSensitivity"]);u!=null&&f(t,["endOfSpeechSensitivity"],u);const p=c(e,["prefixPaddingMs"]);p!=null&&f(t,["prefixPaddingMs"],p);const h=c(e,["silenceDurationMs"]);return h!=null&&f(t,["silenceDurationMs"],h),t}function JC(s,e){const t={},o=c(e,["disabled"]);o!=null&&f(t,["disabled"],o);const l=c(e,["startOfSpeechSensitivity"]);l!=null&&f(t,["startOfSpeechSensitivity"],l);const u=c(e,["endOfSpeechSensitivity"]);u!=null&&f(t,["endOfSpeechSensitivity"],u);const p=c(e,["prefixPaddingMs"]);p!=null&&f(t,["prefixPaddingMs"],p);const h=c(e,["silenceDurationMs"]);return h!=null&&f(t,["silenceDurationMs"],h),t}function QC(s,e){const t={},o=c(e,["automaticActivityDetection"]);o!=null&&f(t,["automaticActivityDetection"],XC(s,o));const l=c(e,["activityHandling"]);l!=null&&f(t,["activityHandling"],l);const u=c(e,["turnCoverage"]);return u!=null&&f(t,["turnCoverage"],u),t}function WC(s,e){const t={},o=c(e,["automaticActivityDetection"]);o!=null&&f(t,["automaticActivityDetection"],JC(s,o));const l=c(e,["activityHandling"]);l!=null&&f(t,["activityHandling"],l);const u=c(e,["turnCoverage"]);return u!=null&&f(t,["turnCoverage"],u),t}function jC(s,e){const t={},o=c(e,["targetTokens"]);return o!=null&&f(t,["targetTokens"],o),t}function eS(s,e){const t={},o=c(e,["targetTokens"]);return o!=null&&f(t,["targetTokens"],o),t}function tS(s,e){const t={},o=c(e,["triggerTokens"]);o!=null&&f(t,["triggerTokens"],o);const l=c(e,["slidingWindow"]);return l!=null&&f(t,["slidingWindow"],jC(s,l)),t}function nS(s,e){const t={},o=c(e,["triggerTokens"]);o!=null&&f(t,["triggerTokens"],o);const l=c(e,["slidingWindow"]);return l!=null&&f(t,["slidingWindow"],eS(s,l)),t}function iS(s,e){const t={},o=c(e,["proactiveAudio"]);return o!=null&&f(t,["proactiveAudio"],o),t}function oS(s,e){const t={},o=c(e,["proactiveAudio"]);return o!=null&&f(t,["proactiveAudio"],o),t}function aS(s,e,t){const o={},l=c(e,["generationConfig"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig"],l);const u=c(e,["responseModalities"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","responseModalities"],u);const p=c(e,["temperature"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","temperature"],p);const h=c(e,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const y=c(e,["topK"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","topK"],y);const g=c(e,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const v=c(e,["mediaResolution"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","mediaResolution"],v);const x=c(e,["seed"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","seed"],x);const S=c(e,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],yC(s,vc(s,S)));const w=c(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],w);const R=c(e,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],AC(s,mt(s,R)));const L=c(e,["tools"]);if(t!==void 0&&L!=null){let oe=qa(s,L);Array.isArray(oe)&&(oe=oe.map(de=>YC(s,La(s,de)))),f(t,["setup","tools"],oe)}const P=c(e,["sessionResumption"]);t!==void 0&&P!=null&&f(t,["setup","sessionResumption"],$C(s,P));const H=c(e,["inputAudioTranscription"]);t!==void 0&&H!=null&&f(t,["setup","inputAudioTranscription"],Ym());const K=c(e,["outputAudioTranscription"]);t!==void 0&&K!=null&&f(t,["setup","outputAudioTranscription"],Ym());const Y=c(e,["realtimeInputConfig"]);t!==void 0&&Y!=null&&f(t,["setup","realtimeInputConfig"],QC(s,Y));const J=c(e,["contextWindowCompression"]);t!==void 0&&J!=null&&f(t,["setup","contextWindowCompression"],tS(s,J));const F=c(e,["proactivity"]);return t!==void 0&&F!=null&&f(t,["setup","proactivity"],iS(s,F)),o}function lS(s,e,t){const o={},l=c(e,["generationConfig"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig"],l);const u=c(e,["responseModalities"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","responseModalities"],u);const p=c(e,["temperature"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","temperature"],p);const h=c(e,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const y=c(e,["topK"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","topK"],y);const g=c(e,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const v=c(e,["mediaResolution"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","mediaResolution"],v);const x=c(e,["seed"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","seed"],x);const S=c(e,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],vC(s,vc(s,S)));const w=c(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],w);const R=c(e,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],MC(s,mt(s,R)));const L=c(e,["tools"]);if(t!==void 0&&L!=null){let oe=qa(s,L);Array.isArray(oe)&&(oe=oe.map(de=>ZC(s,La(s,de)))),f(t,["setup","tools"],oe)}const P=c(e,["sessionResumption"]);t!==void 0&&P!=null&&f(t,["setup","sessionResumption"],KC(s,P));const H=c(e,["inputAudioTranscription"]);t!==void 0&&H!=null&&f(t,["setup","inputAudioTranscription"],Zm());const K=c(e,["outputAudioTranscription"]);t!==void 0&&K!=null&&f(t,["setup","outputAudioTranscription"],Zm());const Y=c(e,["realtimeInputConfig"]);t!==void 0&&Y!=null&&f(t,["setup","realtimeInputConfig"],WC(s,Y));const J=c(e,["contextWindowCompression"]);t!==void 0&&J!=null&&f(t,["setup","contextWindowCompression"],nS(s,J));const F=c(e,["proactivity"]);return t!==void 0&&F!=null&&f(t,["setup","proactivity"],oS(s,F)),o}function sS(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["setup","model"],Be(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],aS(s,l,t)),t}function rS(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["setup","model"],Be(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],lS(s,l,t)),t}function uS(){return{}}function cS(){return{}}function fS(){return{}}function dS(){return{}}function pS(s,e){const t={},o=c(e,["media"]);o!=null&&f(t,["mediaChunks"],Tg(s,o));const l=c(e,["audio"]);l!=null&&f(t,["audio"],L0(s,l));const u=c(e,["audioStreamEnd"]);u!=null&&f(t,["audioStreamEnd"],u);const p=c(e,["video"]);p!=null&&f(t,["video"],U0(s,p));const h=c(e,["text"]);return h!=null&&f(t,["text"],h),c(e,["activityStart"])!=null&&f(t,["activityStart"],uS()),c(e,["activityEnd"])!=null&&f(t,["activityEnd"],fS()),t}function hS(s,e){const t={},o=c(e,["media"]);if(o!=null&&f(t,["mediaChunks"],Tg(s,o)),c(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=c(e,["audioStreamEnd"]);if(l!=null&&f(t,["audioStreamEnd"],l),c(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(c(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return c(e,["activityStart"])!=null&&f(t,["activityStart"],cS()),c(e,["activityEnd"])!=null&&f(t,["activityEnd"],dS()),t}function Rg(s,e){const t={},o=c(e,["text"]);o!=null&&f(t,["text"],o);const l=c(e,["weight"]);return l!=null&&f(t,["weight"],l),t}function mS(s,e){const t={},o=c(e,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Rg(s,u))),f(t,["weightedPrompts"],l)}return t}function kg(s,e){const t={},o=c(e,["temperature"]);o!=null&&f(t,["temperature"],o);const l=c(e,["topK"]);l!=null&&f(t,["topK"],l);const u=c(e,["seed"]);u!=null&&f(t,["seed"],u);const p=c(e,["guidance"]);p!=null&&f(t,["guidance"],p);const h=c(e,["bpm"]);h!=null&&f(t,["bpm"],h);const y=c(e,["density"]);y!=null&&f(t,["density"],y);const g=c(e,["brightness"]);g!=null&&f(t,["brightness"],g);const v=c(e,["scale"]);v!=null&&f(t,["scale"],v);const x=c(e,["muteBass"]);x!=null&&f(t,["muteBass"],x);const S=c(e,["muteDrums"]);S!=null&&f(t,["muteDrums"],S);const w=c(e,["onlyBassAndDrums"]);return w!=null&&f(t,["onlyBassAndDrums"],w),t}function gS(s,e){const t={},o=c(e,["musicGenerationConfig"]);return o!=null&&f(t,["musicGenerationConfig"],kg(s,o)),t}function Dg(s,e){const t={},o=c(e,["model"]);return o!=null&&f(t,["model"],o),t}function Ng(s,e){const t={},o=c(e,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Rg(s,u))),f(t,["weightedPrompts"],l)}return t}function sc(s,e){const t={},o=c(e,["setup"]);o!=null&&f(t,["setup"],Dg(s,o));const l=c(e,["clientContent"]);l!=null&&f(t,["clientContent"],Ng(s,l));const u=c(e,["musicGenerationConfig"]);u!=null&&f(t,["musicGenerationConfig"],kg(s,u));const p=c(e,["playbackControl"]);return p!=null&&f(t,["playbackControl"],p),t}function yS(){return{}}function vS(){return{}}function TS(s,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const l=c(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const u=c(e,["startOffset"]);return u!=null&&f(t,["startOffset"],u),t}function xS(s,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const l=c(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const u=c(e,["startOffset"]);return u!=null&&f(t,["startOffset"],u),t}function CS(s,e){const t={},o=c(e,["data"]);o!=null&&f(t,["data"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function SS(s,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const l=c(e,["data"]);l!=null&&f(t,["data"],l);const u=c(e,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function bS(s,e){const t={},o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function _S(s,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const l=c(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const u=c(e,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function ES(s,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],TS(s,o));const l=c(e,["thought"]);l!=null&&f(t,["thought"],l);const u=c(e,["inlineData"]);u!=null&&f(t,["inlineData"],CS(s,u));const p=c(e,["fileData"]);p!=null&&f(t,["fileData"],bS(s,p));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=c(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function wS(s,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],xS(s,o));const l=c(e,["thought"]);l!=null&&f(t,["thought"],l);const u=c(e,["inlineData"]);u!=null&&f(t,["inlineData"],SS(s,u));const p=c(e,["fileData"]);p!=null&&f(t,["fileData"],_S(s,p));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=c(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function AS(s,e){const t={},o=c(e,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>ES(s,p))),f(t,["parts"],u)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function MS(s,e){const t={},o=c(e,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>wS(s,p))),f(t,["parts"],u)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function $m(s,e){const t={},o=c(e,["text"]);o!=null&&f(t,["text"],o);const l=c(e,["finished"]);return l!=null&&f(t,["finished"],l),t}function Km(s,e){const t={},o=c(e,["text"]);o!=null&&f(t,["text"],o);const l=c(e,["finished"]);return l!=null&&f(t,["finished"],l),t}function RS(s,e){const t={},o=c(e,["retrievedUrl"]);o!=null&&f(t,["retrievedUrl"],o);const l=c(e,["urlRetrievalStatus"]);return l!=null&&f(t,["urlRetrievalStatus"],l),t}function kS(s,e){const t={},o=c(e,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>RS(s,u))),f(t,["urlMetadata"],l)}return t}function DS(s,e){const t={},o=c(e,["modelTurn"]);o!=null&&f(t,["modelTurn"],AS(s,o));const l=c(e,["turnComplete"]);l!=null&&f(t,["turnComplete"],l);const u=c(e,["interrupted"]);u!=null&&f(t,["interrupted"],u);const p=c(e,["groundingMetadata"]);p!=null&&f(t,["groundingMetadata"],p);const h=c(e,["generationComplete"]);h!=null&&f(t,["generationComplete"],h);const y=c(e,["inputTranscription"]);y!=null&&f(t,["inputTranscription"],$m(s,y));const g=c(e,["outputTranscription"]);g!=null&&f(t,["outputTranscription"],$m(s,g));const v=c(e,["urlContextMetadata"]);return v!=null&&f(t,["urlContextMetadata"],kS(s,v)),t}function NS(s,e){const t={},o=c(e,["modelTurn"]);o!=null&&f(t,["modelTurn"],MS(s,o));const l=c(e,["turnComplete"]);l!=null&&f(t,["turnComplete"],l);const u=c(e,["interrupted"]);u!=null&&f(t,["interrupted"],u);const p=c(e,["groundingMetadata"]);p!=null&&f(t,["groundingMetadata"],p);const h=c(e,["generationComplete"]);h!=null&&f(t,["generationComplete"],h);const y=c(e,["inputTranscription"]);y!=null&&f(t,["inputTranscription"],Km(s,y));const g=c(e,["outputTranscription"]);return g!=null&&f(t,["outputTranscription"],Km(s,g)),t}function IS(s,e){const t={},o=c(e,["id"]);o!=null&&f(t,["id"],o);const l=c(e,["args"]);l!=null&&f(t,["args"],l);const u=c(e,["name"]);return u!=null&&f(t,["name"],u),t}function US(s,e){const t={},o=c(e,["args"]);o!=null&&f(t,["args"],o);const l=c(e,["name"]);return l!=null&&f(t,["name"],l),t}function LS(s,e){const t={},o=c(e,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>IS(s,u))),f(t,["functionCalls"],l)}return t}function qS(s,e){const t={},o=c(e,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>US(s,u))),f(t,["functionCalls"],l)}return t}function VS(s,e){const t={},o=c(e,["ids"]);return o!=null&&f(t,["ids"],o),t}function OS(s,e){const t={},o=c(e,["ids"]);return o!=null&&f(t,["ids"],o),t}function es(s,e){const t={},o=c(e,["modality"]);o!=null&&f(t,["modality"],o);const l=c(e,["tokenCount"]);return l!=null&&f(t,["tokenCount"],l),t}function ts(s,e){const t={},o=c(e,["modality"]);o!=null&&f(t,["modality"],o);const l=c(e,["tokenCount"]);return l!=null&&f(t,["tokenCount"],l),t}function zS(s,e){const t={},o=c(e,["promptTokenCount"]);o!=null&&f(t,["promptTokenCount"],o);const l=c(e,["cachedContentTokenCount"]);l!=null&&f(t,["cachedContentTokenCount"],l);const u=c(e,["responseTokenCount"]);u!=null&&f(t,["responseTokenCount"],u);const p=c(e,["toolUsePromptTokenCount"]);p!=null&&f(t,["toolUsePromptTokenCount"],p);const h=c(e,["thoughtsTokenCount"]);h!=null&&f(t,["thoughtsTokenCount"],h);const y=c(e,["totalTokenCount"]);y!=null&&f(t,["totalTokenCount"],y);const g=c(e,["promptTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(R=>es(s,R))),f(t,["promptTokensDetails"],w)}const v=c(e,["cacheTokensDetails"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(R=>es(s,R))),f(t,["cacheTokensDetails"],w)}const x=c(e,["responseTokensDetails"]);if(x!=null){let w=x;Array.isArray(w)&&(w=w.map(R=>es(s,R))),f(t,["responseTokensDetails"],w)}const S=c(e,["toolUsePromptTokensDetails"]);if(S!=null){let w=S;Array.isArray(w)&&(w=w.map(R=>es(s,R))),f(t,["toolUsePromptTokensDetails"],w)}return t}function PS(s,e){const t={},o=c(e,["promptTokenCount"]);o!=null&&f(t,["promptTokenCount"],o);const l=c(e,["cachedContentTokenCount"]);l!=null&&f(t,["cachedContentTokenCount"],l);const u=c(e,["candidatesTokenCount"]);u!=null&&f(t,["responseTokenCount"],u);const p=c(e,["toolUsePromptTokenCount"]);p!=null&&f(t,["toolUsePromptTokenCount"],p);const h=c(e,["thoughtsTokenCount"]);h!=null&&f(t,["thoughtsTokenCount"],h);const y=c(e,["totalTokenCount"]);y!=null&&f(t,["totalTokenCount"],y);const g=c(e,["promptTokensDetails"]);if(g!=null){let R=g;Array.isArray(R)&&(R=R.map(L=>ts(s,L))),f(t,["promptTokensDetails"],R)}const v=c(e,["cacheTokensDetails"]);if(v!=null){let R=v;Array.isArray(R)&&(R=R.map(L=>ts(s,L))),f(t,["cacheTokensDetails"],R)}const x=c(e,["candidatesTokensDetails"]);if(x!=null){let R=x;Array.isArray(R)&&(R=R.map(L=>ts(s,L))),f(t,["responseTokensDetails"],R)}const S=c(e,["toolUsePromptTokensDetails"]);if(S!=null){let R=S;Array.isArray(R)&&(R=R.map(L=>ts(s,L))),f(t,["toolUsePromptTokensDetails"],R)}const w=c(e,["trafficType"]);return w!=null&&f(t,["trafficType"],w),t}function BS(s,e){const t={},o=c(e,["timeLeft"]);return o!=null&&f(t,["timeLeft"],o),t}function GS(s,e){const t={},o=c(e,["timeLeft"]);return o!=null&&f(t,["timeLeft"],o),t}function HS(s,e){const t={},o=c(e,["newHandle"]);o!=null&&f(t,["newHandle"],o);const l=c(e,["resumable"]);l!=null&&f(t,["resumable"],l);const u=c(e,["lastConsumedClientMessageIndex"]);return u!=null&&f(t,["lastConsumedClientMessageIndex"],u),t}function FS(s,e){const t={},o=c(e,["newHandle"]);o!=null&&f(t,["newHandle"],o);const l=c(e,["resumable"]);l!=null&&f(t,["resumable"],l);const u=c(e,["lastConsumedClientMessageIndex"]);return u!=null&&f(t,["lastConsumedClientMessageIndex"],u),t}function YS(s,e){const t={};c(e,["setupComplete"])!=null&&f(t,["setupComplete"],yS());const l=c(e,["serverContent"]);l!=null&&f(t,["serverContent"],DS(s,l));const u=c(e,["toolCall"]);u!=null&&f(t,["toolCall"],LS(s,u));const p=c(e,["toolCallCancellation"]);p!=null&&f(t,["toolCallCancellation"],VS(s,p));const h=c(e,["usageMetadata"]);h!=null&&f(t,["usageMetadata"],zS(s,h));const y=c(e,["goAway"]);y!=null&&f(t,["goAway"],BS(s,y));const g=c(e,["sessionResumptionUpdate"]);return g!=null&&f(t,["sessionResumptionUpdate"],HS(s,g)),t}function ZS(s,e){const t={};c(e,["setupComplete"])!=null&&f(t,["setupComplete"],vS());const l=c(e,["serverContent"]);l!=null&&f(t,["serverContent"],NS(s,l));const u=c(e,["toolCall"]);u!=null&&f(t,["toolCall"],qS(s,u));const p=c(e,["toolCallCancellation"]);p!=null&&f(t,["toolCallCancellation"],OS(s,p));const h=c(e,["usageMetadata"]);h!=null&&f(t,["usageMetadata"],PS(s,h));const y=c(e,["goAway"]);y!=null&&f(t,["goAway"],GS(s,y));const g=c(e,["sessionResumptionUpdate"]);return g!=null&&f(t,["sessionResumptionUpdate"],FS(s,g)),t}function $S(){return{}}function KS(s,e){const t={},o=c(e,["text"]);o!=null&&f(t,["text"],o);const l=c(e,["weight"]);return l!=null&&f(t,["weight"],l),t}function XS(s,e){const t={},o=c(e,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>KS(s,u))),f(t,["weightedPrompts"],l)}return t}function JS(s,e){const t={},o=c(e,["temperature"]);o!=null&&f(t,["temperature"],o);const l=c(e,["topK"]);l!=null&&f(t,["topK"],l);const u=c(e,["seed"]);u!=null&&f(t,["seed"],u);const p=c(e,["guidance"]);p!=null&&f(t,["guidance"],p);const h=c(e,["bpm"]);h!=null&&f(t,["bpm"],h);const y=c(e,["density"]);y!=null&&f(t,["density"],y);const g=c(e,["brightness"]);g!=null&&f(t,["brightness"],g);const v=c(e,["scale"]);v!=null&&f(t,["scale"],v);const x=c(e,["muteBass"]);x!=null&&f(t,["muteBass"],x);const S=c(e,["muteDrums"]);S!=null&&f(t,["muteDrums"],S);const w=c(e,["onlyBassAndDrums"]);return w!=null&&f(t,["onlyBassAndDrums"],w),t}function QS(s,e){const t={},o=c(e,["clientContent"]);o!=null&&f(t,["clientContent"],XS(s,o));const l=c(e,["musicGenerationConfig"]);return l!=null&&f(t,["musicGenerationConfig"],JS(s,l)),t}function WS(s,e){const t={},o=c(e,["data"]);o!=null&&f(t,["data"],o);const l=c(e,["mimeType"]);l!=null&&f(t,["mimeType"],l);const u=c(e,["sourceMetadata"]);return u!=null&&f(t,["sourceMetadata"],QS(s,u)),t}function jS(s,e){const t={},o=c(e,["audioChunks"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>WS(s,u))),f(t,["audioChunks"],l)}return t}function eb(s,e){const t={},o=c(e,["text"]);o!=null&&f(t,["text"],o);const l=c(e,["filteredReason"]);return l!=null&&f(t,["filteredReason"],l),t}function tb(s,e){const t={};c(e,["setupComplete"])!=null&&f(t,["setupComplete"],$S());const l=c(e,["serverContent"]);l!=null&&f(t,["serverContent"],jS(s,l));const u=c(e,["filteredPrompt"]);return u!=null&&f(t,["filteredPrompt"],eb(s,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nb(s,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const l=c(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const u=c(e,["startOffset"]);return u!=null&&f(t,["startOffset"],u),t}function ib(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["data"]);o!=null&&f(t,["data"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function ob(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function ab(s,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],nb(s,o));const l=c(e,["thought"]);l!=null&&f(t,["thought"],l);const u=c(e,["inlineData"]);u!=null&&f(t,["inlineData"],ib(s,u));const p=c(e,["fileData"]);p!=null&&f(t,["fileData"],ob(s,p));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=c(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function _s(s,e){const t={},o=c(e,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>ab(s,p))),f(t,["parts"],u)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function lb(s,e){const t={},o=c(e,["anyOf"]);o!=null&&f(t,["anyOf"],o);const l=c(e,["default"]);l!=null&&f(t,["default"],l);const u=c(e,["description"]);u!=null&&f(t,["description"],u);const p=c(e,["enum"]);p!=null&&f(t,["enum"],p);const h=c(e,["example"]);h!=null&&f(t,["example"],h);const y=c(e,["format"]);y!=null&&f(t,["format"],y);const g=c(e,["items"]);g!=null&&f(t,["items"],g);const v=c(e,["maxItems"]);v!=null&&f(t,["maxItems"],v);const x=c(e,["maxLength"]);x!=null&&f(t,["maxLength"],x);const S=c(e,["maxProperties"]);S!=null&&f(t,["maxProperties"],S);const w=c(e,["maximum"]);w!=null&&f(t,["maximum"],w);const R=c(e,["minItems"]);R!=null&&f(t,["minItems"],R);const L=c(e,["minLength"]);L!=null&&f(t,["minLength"],L);const P=c(e,["minProperties"]);P!=null&&f(t,["minProperties"],P);const H=c(e,["minimum"]);H!=null&&f(t,["minimum"],H);const K=c(e,["nullable"]);K!=null&&f(t,["nullable"],K);const Y=c(e,["pattern"]);Y!=null&&f(t,["pattern"],Y);const J=c(e,["properties"]);J!=null&&f(t,["properties"],J);const F=c(e,["propertyOrdering"]);F!=null&&f(t,["propertyOrdering"],F);const oe=c(e,["required"]);oe!=null&&f(t,["required"],oe);const de=c(e,["title"]);de!=null&&f(t,["title"],de);const xe=c(e,["type"]);return xe!=null&&f(t,["type"],xe),t}function sb(s,e){const t={};if(c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(e,["category"]);o!=null&&f(t,["category"],o);const l=c(e,["threshold"]);return l!=null&&f(t,["threshold"],l),t}function rb(s,e){const t={},o=c(e,["behavior"]);o!=null&&f(t,["behavior"],o);const l=c(e,["description"]);l!=null&&f(t,["description"],l);const u=c(e,["name"]);u!=null&&f(t,["name"],u);const p=c(e,["parameters"]);p!=null&&f(t,["parameters"],p);const h=c(e,["response"]);return h!=null&&f(t,["response"],h),t}function ub(s,e){const t={},o=c(e,["startTime"]);o!=null&&f(t,["startTime"],o);const l=c(e,["endTime"]);return l!=null&&f(t,["endTime"],l),t}function cb(s,e){const t={},o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],ub(s,o)),t}function fb(s,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const l=c(e,["dynamicThreshold"]);return l!=null&&f(t,["dynamicThreshold"],l),t}function db(s,e){const t={},o=c(e,["dynamicRetrievalConfig"]);return o!=null&&f(t,["dynamicRetrievalConfig"],fb(s,o)),t}function pb(){return{}}function hb(s,e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(g=>rb(s,g))),f(t,["functionDeclarations"],y)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],cb(s,l));const u=c(e,["googleSearchRetrieval"]);if(u!=null&&f(t,["googleSearchRetrieval"],db(s,u)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&f(t,["urlContext"],pb());const h=c(e,["codeExecution"]);return h!=null&&f(t,["codeExecution"],h),t}function mb(s,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const l=c(e,["allowedFunctionNames"]);return l!=null&&f(t,["allowedFunctionNames"],l),t}function gb(s,e){const t={},o=c(e,["latitude"]);o!=null&&f(t,["latitude"],o);const l=c(e,["longitude"]);return l!=null&&f(t,["longitude"],l),t}function yb(s,e){const t={},o=c(e,["latLng"]);o!=null&&f(t,["latLng"],gb(s,o));const l=c(e,["languageCode"]);return l!=null&&f(t,["languageCode"],l),t}function vb(s,e){const t={},o=c(e,["functionCallingConfig"]);o!=null&&f(t,["functionCallingConfig"],mb(s,o));const l=c(e,["retrievalConfig"]);return l!=null&&f(t,["retrievalConfig"],yb(s,l)),t}function Tb(s,e){const t={},o=c(e,["voiceName"]);return o!=null&&f(t,["voiceName"],o),t}function Ig(s,e){const t={},o=c(e,["prebuiltVoiceConfig"]);return o!=null&&f(t,["prebuiltVoiceConfig"],Tb(s,o)),t}function xb(s,e){const t={},o=c(e,["speaker"]);o!=null&&f(t,["speaker"],o);const l=c(e,["voiceConfig"]);return l!=null&&f(t,["voiceConfig"],Ig(s,l)),t}function Cb(s,e){const t={},o=c(e,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>xb(s,u))),f(t,["speakerVoiceConfigs"],l)}return t}function Sb(s,e){const t={},o=c(e,["voiceConfig"]);o!=null&&f(t,["voiceConfig"],Ig(s,o));const l=c(e,["multiSpeakerVoiceConfig"]);l!=null&&f(t,["multiSpeakerVoiceConfig"],Cb(s,l));const u=c(e,["languageCode"]);return u!=null&&f(t,["languageCode"],u),t}function bb(s,e){const t={},o=c(e,["includeThoughts"]);o!=null&&f(t,["includeThoughts"],o);const l=c(e,["thinkingBudget"]);return l!=null&&f(t,["thinkingBudget"],l),t}function _b(s,e,t){const o={},l=c(e,["systemInstruction"]);t!==void 0&&l!=null&&f(t,["systemInstruction"],_s(s,mt(s,l)));const u=c(e,["temperature"]);u!=null&&f(o,["temperature"],u);const p=c(e,["topP"]);p!=null&&f(o,["topP"],p);const h=c(e,["topK"]);h!=null&&f(o,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(o,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(o,["maxOutputTokens"],g);const v=c(e,["stopSequences"]);v!=null&&f(o,["stopSequences"],v);const x=c(e,["responseLogprobs"]);x!=null&&f(o,["responseLogprobs"],x);const S=c(e,["logprobs"]);S!=null&&f(o,["logprobs"],S);const w=c(e,["presencePenalty"]);w!=null&&f(o,["presencePenalty"],w);const R=c(e,["frequencyPenalty"]);R!=null&&f(o,["frequencyPenalty"],R);const L=c(e,["seed"]);L!=null&&f(o,["seed"],L);const P=c(e,["responseMimeType"]);P!=null&&f(o,["responseMimeType"],P);const H=c(e,["responseSchema"]);if(H!=null&&f(o,["responseSchema"],lb(s,gs(s,H))),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const K=c(e,["safetySettings"]);if(t!==void 0&&K!=null){let me=K;Array.isArray(me)&&(me=me.map(Ge=>sb(s,Ge))),f(t,["safetySettings"],me)}const Y=c(e,["tools"]);if(t!==void 0&&Y!=null){let me=qa(s,Y);Array.isArray(me)&&(me=me.map(Ge=>hb(s,La(s,Ge)))),f(t,["tools"],me)}const J=c(e,["toolConfig"]);if(t!==void 0&&J!=null&&f(t,["toolConfig"],vb(s,J)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=c(e,["cachedContent"]);t!==void 0&&F!=null&&f(t,["cachedContent"],Wn(s,F));const oe=c(e,["responseModalities"]);oe!=null&&f(o,["responseModalities"],oe);const de=c(e,["mediaResolution"]);de!=null&&f(o,["mediaResolution"],de);const xe=c(e,["speechConfig"]);if(xe!=null&&f(o,["speechConfig"],Sb(s,Sg(s,xe))),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=c(e,["thinkingConfig"]);return ae!=null&&f(o,["thinkingConfig"],bb(s,ae)),o}function Xm(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],Be(s,o));const l=c(e,["contents"]);if(l!=null){let p=$t(s,l);Array.isArray(p)&&(p=p.map(h=>_s(s,h))),f(t,["contents"],p)}const u=c(e,["config"]);return u!=null&&f(t,["generationConfig"],_b(s,u,t)),t}function Eb(s,e,t){const o={},l=c(e,["taskType"]);t!==void 0&&l!=null&&f(t,["requests[]","taskType"],l);const u=c(e,["title"]);t!==void 0&&u!=null&&f(t,["requests[]","title"],u);const p=c(e,["outputDimensionality"]);if(t!==void 0&&p!=null&&f(t,["requests[]","outputDimensionality"],p),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function wb(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],Be(s,o));const l=c(e,["contents"]);l!=null&&f(t,["requests[]","content"],Cg(s,l));const u=c(e,["config"]);u!=null&&f(t,["config"],Eb(s,u,t));const p=c(e,["model"]);return p!==void 0&&f(t,["requests[]","model"],Be(s,p)),t}function Ab(s,e,t){const o={};if(c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=c(e,["numberOfImages"]);t!==void 0&&l!=null&&f(t,["parameters","sampleCount"],l);const u=c(e,["aspectRatio"]);t!==void 0&&u!=null&&f(t,["parameters","aspectRatio"],u);const p=c(e,["guidanceScale"]);if(t!==void 0&&p!=null&&f(t,["parameters","guidanceScale"],p),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=c(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&f(t,["parameters","safetySetting"],h);const y=c(e,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const g=c(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&f(t,["parameters","includeSafetyAttributes"],g);const v=c(e,["includeRaiReason"]);t!==void 0&&v!=null&&f(t,["parameters","includeRaiReason"],v);const x=c(e,["language"]);t!==void 0&&x!=null&&f(t,["parameters","language"],x);const S=c(e,["outputMimeType"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","mimeType"],S);const w=c(e,["outputCompressionQuality"]);if(t!==void 0&&w!=null&&f(t,["parameters","outputOptions","compressionQuality"],w),c(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function Mb(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],Be(s,o));const l=c(e,["prompt"]);l!=null&&f(t,["instances[0]","prompt"],l);const u=c(e,["config"]);return u!=null&&f(t,["config"],Ab(s,u,t)),t}function Rb(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","name"],Be(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function kb(s,e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const u=c(e,["pageToken"]);t!==void 0&&u!=null&&f(t,["_query","pageToken"],u);const p=c(e,["filter"]);t!==void 0&&p!=null&&f(t,["_query","filter"],p);const h=c(e,["queryBase"]);return t!==void 0&&h!=null&&f(t,["_url","models_url"],Eg(s,h)),o}function Db(s,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],kb(s,o,t)),t}function Nb(s,e,t){const o={},l=c(e,["displayName"]);t!==void 0&&l!=null&&f(t,["displayName"],l);const u=c(e,["description"]);t!==void 0&&u!=null&&f(t,["description"],u);const p=c(e,["defaultCheckpointId"]);return t!==void 0&&p!=null&&f(t,["defaultCheckpointId"],p),o}function Ib(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","name"],Be(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],Nb(s,l,t)),t}function Ub(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","name"],Be(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function Lb(s,e){const t={};if(c(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function qb(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],Be(s,o));const l=c(e,["contents"]);if(l!=null){let p=$t(s,l);Array.isArray(p)&&(p=p.map(h=>_s(s,h))),f(t,["contents"],p)}const u=c(e,["config"]);return u!=null&&f(t,["config"],Lb(s,u)),t}function Vb(s,e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(e,["imageBytes"]);o!=null&&f(t,["bytesBase64Encoded"],jn(s,o));const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function Ob(s,e,t){const o={},l=c(e,["numberOfVideos"]);if(t!==void 0&&l!=null&&f(t,["parameters","sampleCount"],l),c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=c(e,["durationSeconds"]);if(t!==void 0&&u!=null&&f(t,["parameters","durationSeconds"],u),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=c(e,["aspectRatio"]);if(t!==void 0&&p!=null&&f(t,["parameters","aspectRatio"],p),c(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const h=c(e,["personGeneration"]);if(t!==void 0&&h!=null&&f(t,["parameters","personGeneration"],h),c(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(e,["negativePrompt"]);t!==void 0&&y!=null&&f(t,["parameters","negativePrompt"],y);const g=c(e,["enhancePrompt"]);if(t!==void 0&&g!=null&&f(t,["parameters","enhancePrompt"],g),c(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return o}function zb(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],Be(s,o));const l=c(e,["prompt"]);l!=null&&f(t,["instances[0]","prompt"],l);const u=c(e,["image"]);u!=null&&f(t,["instances[0]","image"],Vb(s,u));const p=c(e,["config"]);return p!=null&&f(t,["config"],Ob(s,p,t)),t}function Pb(s,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const l=c(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const u=c(e,["startOffset"]);return u!=null&&f(t,["startOffset"],u),t}function Bb(s,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const l=c(e,["data"]);l!=null&&f(t,["data"],l);const u=c(e,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function Gb(s,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const l=c(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const u=c(e,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function Hb(s,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],Pb(s,o));const l=c(e,["thought"]);l!=null&&f(t,["thought"],l);const u=c(e,["inlineData"]);u!=null&&f(t,["inlineData"],Bb(s,u));const p=c(e,["fileData"]);p!=null&&f(t,["fileData"],Gb(s,p));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=c(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function Eo(s,e){const t={},o=c(e,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>Hb(s,p))),f(t,["parts"],u)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function Fb(s,e){const t={},o=c(e,["anyOf"]);o!=null&&f(t,["anyOf"],o);const l=c(e,["default"]);l!=null&&f(t,["default"],l);const u=c(e,["description"]);u!=null&&f(t,["description"],u);const p=c(e,["enum"]);p!=null&&f(t,["enum"],p);const h=c(e,["example"]);h!=null&&f(t,["example"],h);const y=c(e,["format"]);y!=null&&f(t,["format"],y);const g=c(e,["items"]);g!=null&&f(t,["items"],g);const v=c(e,["maxItems"]);v!=null&&f(t,["maxItems"],v);const x=c(e,["maxLength"]);x!=null&&f(t,["maxLength"],x);const S=c(e,["maxProperties"]);S!=null&&f(t,["maxProperties"],S);const w=c(e,["maximum"]);w!=null&&f(t,["maximum"],w);const R=c(e,["minItems"]);R!=null&&f(t,["minItems"],R);const L=c(e,["minLength"]);L!=null&&f(t,["minLength"],L);const P=c(e,["minProperties"]);P!=null&&f(t,["minProperties"],P);const H=c(e,["minimum"]);H!=null&&f(t,["minimum"],H);const K=c(e,["nullable"]);K!=null&&f(t,["nullable"],K);const Y=c(e,["pattern"]);Y!=null&&f(t,["pattern"],Y);const J=c(e,["properties"]);J!=null&&f(t,["properties"],J);const F=c(e,["propertyOrdering"]);F!=null&&f(t,["propertyOrdering"],F);const oe=c(e,["required"]);oe!=null&&f(t,["required"],oe);const de=c(e,["title"]);de!=null&&f(t,["title"],de);const xe=c(e,["type"]);return xe!=null&&f(t,["type"],xe),t}function Yb(s,e){const t={},o=c(e,["featureSelectionPreference"]);return o!=null&&f(t,["featureSelectionPreference"],o),t}function Zb(s,e){const t={},o=c(e,["method"]);o!=null&&f(t,["method"],o);const l=c(e,["category"]);l!=null&&f(t,["category"],l);const u=c(e,["threshold"]);return u!=null&&f(t,["threshold"],u),t}function $b(s,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(e,["description"]);o!=null&&f(t,["description"],o);const l=c(e,["name"]);l!=null&&f(t,["name"],l);const u=c(e,["parameters"]);u!=null&&f(t,["parameters"],u);const p=c(e,["response"]);return p!=null&&f(t,["response"],p),t}function Kb(s,e){const t={},o=c(e,["startTime"]);o!=null&&f(t,["startTime"],o);const l=c(e,["endTime"]);return l!=null&&f(t,["endTime"],l),t}function Xb(s,e){const t={},o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],Kb(s,o)),t}function Jb(s,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const l=c(e,["dynamicThreshold"]);return l!=null&&f(t,["dynamicThreshold"],l),t}function Qb(s,e){const t={},o=c(e,["dynamicRetrievalConfig"]);return o!=null&&f(t,["dynamicRetrievalConfig"],Jb(s,o)),t}function Wb(){return{}}function jb(s,e){const t={},o=c(e,["apiKeyString"]);return o!=null&&f(t,["apiKeyString"],o),t}function e_(s,e){const t={},o=c(e,["apiKeyConfig"]);o!=null&&f(t,["apiKeyConfig"],jb(s,o));const l=c(e,["authType"]);l!=null&&f(t,["authType"],l);const u=c(e,["googleServiceAccountConfig"]);u!=null&&f(t,["googleServiceAccountConfig"],u);const p=c(e,["httpBasicAuthConfig"]);p!=null&&f(t,["httpBasicAuthConfig"],p);const h=c(e,["oauthConfig"]);h!=null&&f(t,["oauthConfig"],h);const y=c(e,["oidcConfig"]);return y!=null&&f(t,["oidcConfig"],y),t}function t_(s,e){const t={},o=c(e,["authConfig"]);return o!=null&&f(t,["authConfig"],e_(s,o)),t}function n_(){return{}}function Ug(s,e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(S=>$b(s,S))),f(t,["functionDeclarations"],x)}const l=c(e,["retrieval"]);l!=null&&f(t,["retrieval"],l);const u=c(e,["googleSearch"]);u!=null&&f(t,["googleSearch"],Xb(s,u));const p=c(e,["googleSearchRetrieval"]);p!=null&&f(t,["googleSearchRetrieval"],Qb(s,p)),c(e,["enterpriseWebSearch"])!=null&&f(t,["enterpriseWebSearch"],Wb());const y=c(e,["googleMaps"]);y!=null&&f(t,["googleMaps"],t_(s,y)),c(e,["urlContext"])!=null&&f(t,["urlContext"],n_());const v=c(e,["codeExecution"]);return v!=null&&f(t,["codeExecution"],v),t}function i_(s,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const l=c(e,["allowedFunctionNames"]);return l!=null&&f(t,["allowedFunctionNames"],l),t}function o_(s,e){const t={},o=c(e,["latitude"]);o!=null&&f(t,["latitude"],o);const l=c(e,["longitude"]);return l!=null&&f(t,["longitude"],l),t}function a_(s,e){const t={},o=c(e,["latLng"]);o!=null&&f(t,["latLng"],o_(s,o));const l=c(e,["languageCode"]);return l!=null&&f(t,["languageCode"],l),t}function l_(s,e){const t={},o=c(e,["functionCallingConfig"]);o!=null&&f(t,["functionCallingConfig"],i_(s,o));const l=c(e,["retrievalConfig"]);return l!=null&&f(t,["retrievalConfig"],a_(s,l)),t}function s_(s,e){const t={},o=c(e,["voiceName"]);return o!=null&&f(t,["voiceName"],o),t}function r_(s,e){const t={},o=c(e,["prebuiltVoiceConfig"]);return o!=null&&f(t,["prebuiltVoiceConfig"],s_(s,o)),t}function u_(s,e){const t={},o=c(e,["voiceConfig"]);if(o!=null&&f(t,["voiceConfig"],r_(s,o)),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=c(e,["languageCode"]);return l!=null&&f(t,["languageCode"],l),t}function c_(s,e){const t={},o=c(e,["includeThoughts"]);o!=null&&f(t,["includeThoughts"],o);const l=c(e,["thinkingBudget"]);return l!=null&&f(t,["thinkingBudget"],l),t}function f_(s,e,t){const o={},l=c(e,["systemInstruction"]);t!==void 0&&l!=null&&f(t,["systemInstruction"],Eo(s,mt(s,l)));const u=c(e,["temperature"]);u!=null&&f(o,["temperature"],u);const p=c(e,["topP"]);p!=null&&f(o,["topP"],p);const h=c(e,["topK"]);h!=null&&f(o,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(o,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(o,["maxOutputTokens"],g);const v=c(e,["stopSequences"]);v!=null&&f(o,["stopSequences"],v);const x=c(e,["responseLogprobs"]);x!=null&&f(o,["responseLogprobs"],x);const S=c(e,["logprobs"]);S!=null&&f(o,["logprobs"],S);const w=c(e,["presencePenalty"]);w!=null&&f(o,["presencePenalty"],w);const R=c(e,["frequencyPenalty"]);R!=null&&f(o,["frequencyPenalty"],R);const L=c(e,["seed"]);L!=null&&f(o,["seed"],L);const P=c(e,["responseMimeType"]);P!=null&&f(o,["responseMimeType"],P);const H=c(e,["responseSchema"]);H!=null&&f(o,["responseSchema"],Fb(s,gs(s,H)));const K=c(e,["routingConfig"]);K!=null&&f(o,["routingConfig"],K);const Y=c(e,["modelSelectionConfig"]);Y!=null&&f(o,["modelConfig"],Yb(s,Y));const J=c(e,["safetySettings"]);if(t!==void 0&&J!=null){let Se=J;Array.isArray(Se)&&(Se=Se.map(_e=>Zb(s,_e))),f(t,["safetySettings"],Se)}const F=c(e,["tools"]);if(t!==void 0&&F!=null){let Se=qa(s,F);Array.isArray(Se)&&(Se=Se.map(_e=>Ug(s,La(s,_e)))),f(t,["tools"],Se)}const oe=c(e,["toolConfig"]);t!==void 0&&oe!=null&&f(t,["toolConfig"],l_(s,oe));const de=c(e,["labels"]);t!==void 0&&de!=null&&f(t,["labels"],de);const xe=c(e,["cachedContent"]);t!==void 0&&xe!=null&&f(t,["cachedContent"],Wn(s,xe));const ae=c(e,["responseModalities"]);ae!=null&&f(o,["responseModalities"],ae);const me=c(e,["mediaResolution"]);me!=null&&f(o,["mediaResolution"],me);const Ge=c(e,["speechConfig"]);Ge!=null&&f(o,["speechConfig"],u_(s,Sg(s,Ge)));const $e=c(e,["audioTimestamp"]);$e!=null&&f(o,["audioTimestamp"],$e);const yt=c(e,["thinkingConfig"]);return yt!=null&&f(o,["thinkingConfig"],c_(s,yt)),o}function Jm(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],Be(s,o));const l=c(e,["contents"]);if(l!=null){let p=$t(s,l);Array.isArray(p)&&(p=p.map(h=>Eo(s,h))),f(t,["contents"],p)}const u=c(e,["config"]);return u!=null&&f(t,["generationConfig"],f_(s,u,t)),t}function d_(s,e,t){const o={},l=c(e,["taskType"]);t!==void 0&&l!=null&&f(t,["instances[]","task_type"],l);const u=c(e,["title"]);t!==void 0&&u!=null&&f(t,["instances[]","title"],u);const p=c(e,["outputDimensionality"]);t!==void 0&&p!=null&&f(t,["parameters","outputDimensionality"],p);const h=c(e,["mimeType"]);t!==void 0&&h!=null&&f(t,["instances[]","mimeType"],h);const y=c(e,["autoTruncate"]);return t!==void 0&&y!=null&&f(t,["parameters","autoTruncate"],y),o}function p_(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],Be(s,o));const l=c(e,["contents"]);l!=null&&f(t,["instances[]","content"],Cg(s,l));const u=c(e,["config"]);return u!=null&&f(t,["config"],d_(s,u,t)),t}function h_(s,e,t){const o={},l=c(e,["outputGcsUri"]);t!==void 0&&l!=null&&f(t,["parameters","storageUri"],l);const u=c(e,["negativePrompt"]);t!==void 0&&u!=null&&f(t,["parameters","negativePrompt"],u);const p=c(e,["numberOfImages"]);t!==void 0&&p!=null&&f(t,["parameters","sampleCount"],p);const h=c(e,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const y=c(e,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const g=c(e,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const v=c(e,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const x=c(e,["personGeneration"]);t!==void 0&&x!=null&&f(t,["parameters","personGeneration"],x);const S=c(e,["includeSafetyAttributes"]);t!==void 0&&S!=null&&f(t,["parameters","includeSafetyAttributes"],S);const w=c(e,["includeRaiReason"]);t!==void 0&&w!=null&&f(t,["parameters","includeRaiReason"],w);const R=c(e,["language"]);t!==void 0&&R!=null&&f(t,["parameters","language"],R);const L=c(e,["outputMimeType"]);t!==void 0&&L!=null&&f(t,["parameters","outputOptions","mimeType"],L);const P=c(e,["outputCompressionQuality"]);t!==void 0&&P!=null&&f(t,["parameters","outputOptions","compressionQuality"],P);const H=c(e,["addWatermark"]);t!==void 0&&H!=null&&f(t,["parameters","addWatermark"],H);const K=c(e,["enhancePrompt"]);return t!==void 0&&K!=null&&f(t,["parameters","enhancePrompt"],K),o}function m_(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],Be(s,o));const l=c(e,["prompt"]);l!=null&&f(t,["instances[0]","prompt"],l);const u=c(e,["config"]);return u!=null&&f(t,["config"],h_(s,u,t)),t}function Tc(s,e){const t={},o=c(e,["gcsUri"]);o!=null&&f(t,["gcsUri"],o);const l=c(e,["imageBytes"]);l!=null&&f(t,["bytesBase64Encoded"],jn(s,l));const u=c(e,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function g_(s,e){const t={},o=c(e,["maskMode"]);o!=null&&f(t,["maskMode"],o);const l=c(e,["segmentationClasses"]);l!=null&&f(t,["maskClasses"],l);const u=c(e,["maskDilation"]);return u!=null&&f(t,["dilation"],u),t}function y_(s,e){const t={},o=c(e,["controlType"]);o!=null&&f(t,["controlType"],o);const l=c(e,["enableControlImageComputation"]);return l!=null&&f(t,["computeControl"],l),t}function v_(s,e){const t={},o=c(e,["styleDescription"]);return o!=null&&f(t,["styleDescription"],o),t}function T_(s,e){const t={},o=c(e,["subjectType"]);o!=null&&f(t,["subjectType"],o);const l=c(e,["subjectDescription"]);return l!=null&&f(t,["subjectDescription"],l),t}function x_(s,e){const t={},o=c(e,["referenceImage"]);o!=null&&f(t,["referenceImage"],Tc(s,o));const l=c(e,["referenceId"]);l!=null&&f(t,["referenceId"],l);const u=c(e,["referenceType"]);u!=null&&f(t,["referenceType"],u);const p=c(e,["maskImageConfig"]);p!=null&&f(t,["maskImageConfig"],g_(s,p));const h=c(e,["controlImageConfig"]);h!=null&&f(t,["controlImageConfig"],y_(s,h));const y=c(e,["styleImageConfig"]);y!=null&&f(t,["styleImageConfig"],v_(s,y));const g=c(e,["subjectImageConfig"]);return g!=null&&f(t,["subjectImageConfig"],T_(s,g)),t}function C_(s,e,t){const o={},l=c(e,["outputGcsUri"]);t!==void 0&&l!=null&&f(t,["parameters","storageUri"],l);const u=c(e,["negativePrompt"]);t!==void 0&&u!=null&&f(t,["parameters","negativePrompt"],u);const p=c(e,["numberOfImages"]);t!==void 0&&p!=null&&f(t,["parameters","sampleCount"],p);const h=c(e,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const y=c(e,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const g=c(e,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const v=c(e,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const x=c(e,["personGeneration"]);t!==void 0&&x!=null&&f(t,["parameters","personGeneration"],x);const S=c(e,["includeSafetyAttributes"]);t!==void 0&&S!=null&&f(t,["parameters","includeSafetyAttributes"],S);const w=c(e,["includeRaiReason"]);t!==void 0&&w!=null&&f(t,["parameters","includeRaiReason"],w);const R=c(e,["language"]);t!==void 0&&R!=null&&f(t,["parameters","language"],R);const L=c(e,["outputMimeType"]);t!==void 0&&L!=null&&f(t,["parameters","outputOptions","mimeType"],L);const P=c(e,["outputCompressionQuality"]);t!==void 0&&P!=null&&f(t,["parameters","outputOptions","compressionQuality"],P);const H=c(e,["editMode"]);t!==void 0&&H!=null&&f(t,["parameters","editMode"],H);const K=c(e,["baseSteps"]);return t!==void 0&&K!=null&&f(t,["parameters","editConfig","baseSteps"],K),o}function S_(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],Be(s,o));const l=c(e,["prompt"]);l!=null&&f(t,["instances[0]","prompt"],l);const u=c(e,["referenceImages"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>x_(s,y))),f(t,["instances[0]","referenceImages"],h)}const p=c(e,["config"]);return p!=null&&f(t,["config"],C_(s,p,t)),t}function b_(s,e,t){const o={},l=c(e,["includeRaiReason"]);t!==void 0&&l!=null&&f(t,["parameters","includeRaiReason"],l);const u=c(e,["outputMimeType"]);t!==void 0&&u!=null&&f(t,["parameters","outputOptions","mimeType"],u);const p=c(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&f(t,["parameters","outputOptions","compressionQuality"],p);const h=c(e,["numberOfImages"]);t!==void 0&&h!=null&&f(t,["parameters","sampleCount"],h);const y=c(e,["mode"]);return t!==void 0&&y!=null&&f(t,["parameters","mode"],y),o}function __(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],Be(s,o));const l=c(e,["image"]);l!=null&&f(t,["instances[0]","image"],Tc(s,l));const u=c(e,["upscaleFactor"]);u!=null&&f(t,["parameters","upscaleConfig","upscaleFactor"],u);const p=c(e,["config"]);return p!=null&&f(t,["config"],b_(s,p,t)),t}function E_(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","name"],Be(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function w_(s,e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const u=c(e,["pageToken"]);t!==void 0&&u!=null&&f(t,["_query","pageToken"],u);const p=c(e,["filter"]);t!==void 0&&p!=null&&f(t,["_query","filter"],p);const h=c(e,["queryBase"]);return t!==void 0&&h!=null&&f(t,["_url","models_url"],Eg(s,h)),o}function A_(s,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],w_(s,o,t)),t}function M_(s,e,t){const o={},l=c(e,["displayName"]);t!==void 0&&l!=null&&f(t,["displayName"],l);const u=c(e,["description"]);t!==void 0&&u!=null&&f(t,["description"],u);const p=c(e,["defaultCheckpointId"]);return t!==void 0&&p!=null&&f(t,["defaultCheckpointId"],p),o}function R_(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],Be(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],M_(s,l,t)),t}function k_(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","name"],Be(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function D_(s,e,t){const o={},l=c(e,["systemInstruction"]);t!==void 0&&l!=null&&f(t,["systemInstruction"],Eo(s,mt(s,l)));const u=c(e,["tools"]);if(t!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>Ug(s,y))),f(t,["tools"],h)}const p=c(e,["generationConfig"]);return t!==void 0&&p!=null&&f(t,["generationConfig"],p),o}function N_(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],Be(s,o));const l=c(e,["contents"]);if(l!=null){let p=$t(s,l);Array.isArray(p)&&(p=p.map(h=>Eo(s,h))),f(t,["contents"],p)}const u=c(e,["config"]);return u!=null&&f(t,["config"],D_(s,u,t)),t}function I_(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],Be(s,o));const l=c(e,["contents"]);if(l!=null){let p=$t(s,l);Array.isArray(p)&&(p=p.map(h=>Eo(s,h))),f(t,["contents"],p)}const u=c(e,["config"]);return u!=null&&f(t,["config"],u),t}function U_(s,e,t){const o={},l=c(e,["numberOfVideos"]);t!==void 0&&l!=null&&f(t,["parameters","sampleCount"],l);const u=c(e,["outputGcsUri"]);t!==void 0&&u!=null&&f(t,["parameters","storageUri"],u);const p=c(e,["fps"]);t!==void 0&&p!=null&&f(t,["parameters","fps"],p);const h=c(e,["durationSeconds"]);t!==void 0&&h!=null&&f(t,["parameters","durationSeconds"],h);const y=c(e,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const g=c(e,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const v=c(e,["resolution"]);t!==void 0&&v!=null&&f(t,["parameters","resolution"],v);const x=c(e,["personGeneration"]);t!==void 0&&x!=null&&f(t,["parameters","personGeneration"],x);const S=c(e,["pubsubTopic"]);t!==void 0&&S!=null&&f(t,["parameters","pubsubTopic"],S);const w=c(e,["negativePrompt"]);t!==void 0&&w!=null&&f(t,["parameters","negativePrompt"],w);const R=c(e,["enhancePrompt"]);t!==void 0&&R!=null&&f(t,["parameters","enhancePrompt"],R);const L=c(e,["generateAudio"]);return t!==void 0&&L!=null&&f(t,["parameters","generateAudio"],L),o}function L_(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],Be(s,o));const l=c(e,["prompt"]);l!=null&&f(t,["instances[0]","prompt"],l);const u=c(e,["image"]);u!=null&&f(t,["instances[0]","image"],Tc(s,u));const p=c(e,["config"]);return p!=null&&f(t,["config"],U_(s,p,t)),t}function q_(s,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const l=c(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const u=c(e,["startOffset"]);return u!=null&&f(t,["startOffset"],u),t}function V_(s,e){const t={},o=c(e,["data"]);o!=null&&f(t,["data"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function O_(s,e){const t={},o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function z_(s,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],q_(s,o));const l=c(e,["thought"]);l!=null&&f(t,["thought"],l);const u=c(e,["inlineData"]);u!=null&&f(t,["inlineData"],V_(s,u));const p=c(e,["fileData"]);p!=null&&f(t,["fileData"],O_(s,p));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=c(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function P_(s,e){const t={},o=c(e,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>z_(s,p))),f(t,["parts"],u)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function B_(s,e){const t={},o=c(e,["citationSources"]);return o!=null&&f(t,["citations"],o),t}function G_(s,e){const t={},o=c(e,["retrievedUrl"]);o!=null&&f(t,["retrievedUrl"],o);const l=c(e,["urlRetrievalStatus"]);return l!=null&&f(t,["urlRetrievalStatus"],l),t}function H_(s,e){const t={},o=c(e,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>G_(s,u))),f(t,["urlMetadata"],l)}return t}function F_(s,e){const t={},o=c(e,["content"]);o!=null&&f(t,["content"],P_(s,o));const l=c(e,["citationMetadata"]);l!=null&&f(t,["citationMetadata"],B_(s,l));const u=c(e,["tokenCount"]);u!=null&&f(t,["tokenCount"],u);const p=c(e,["finishReason"]);p!=null&&f(t,["finishReason"],p);const h=c(e,["urlContextMetadata"]);h!=null&&f(t,["urlContextMetadata"],H_(s,h));const y=c(e,["avgLogprobs"]);y!=null&&f(t,["avgLogprobs"],y);const g=c(e,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const v=c(e,["index"]);v!=null&&f(t,["index"],v);const x=c(e,["logprobsResult"]);x!=null&&f(t,["logprobsResult"],x);const S=c(e,["safetyRatings"]);return S!=null&&f(t,["safetyRatings"],S),t}function Qm(s,e){const t={},o=c(e,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(y=>F_(s,y))),f(t,["candidates"],h)}const l=c(e,["modelVersion"]);l!=null&&f(t,["modelVersion"],l);const u=c(e,["promptFeedback"]);u!=null&&f(t,["promptFeedback"],u);const p=c(e,["usageMetadata"]);return p!=null&&f(t,["usageMetadata"],p),t}function Y_(s,e){const t={},o=c(e,["values"]);return o!=null&&f(t,["values"],o),t}function Z_(){return{}}function $_(s,e){const t={},o=c(e,["embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>Y_(s,p))),f(t,["embeddings"],u)}return c(e,["metadata"])!=null&&f(t,["metadata"],Z_()),t}function K_(s,e){const t={},o=c(e,["bytesBase64Encoded"]);o!=null&&f(t,["imageBytes"],jn(s,o));const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function Lg(s,e){const t={},o=c(e,["safetyAttributes","categories"]);o!=null&&f(t,["categories"],o);const l=c(e,["safetyAttributes","scores"]);l!=null&&f(t,["scores"],l);const u=c(e,["contentType"]);return u!=null&&f(t,["contentType"],u),t}function X_(s,e){const t={},o=c(e,["_self"]);o!=null&&f(t,["image"],K_(s,o));const l=c(e,["raiFilteredReason"]);l!=null&&f(t,["raiFilteredReason"],l);const u=c(e,["_self"]);return u!=null&&f(t,["safetyAttributes"],Lg(s,u)),t}function J_(s,e){const t={},o=c(e,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>X_(s,p))),f(t,["generatedImages"],u)}const l=c(e,["positivePromptSafetyAttributes"]);return l!=null&&f(t,["positivePromptSafetyAttributes"],Lg(s,l)),t}function Q_(s,e){const t={},o=c(e,["baseModel"]);o!=null&&f(t,["baseModel"],o);const l=c(e,["createTime"]);l!=null&&f(t,["createTime"],l);const u=c(e,["updateTime"]);return u!=null&&f(t,["updateTime"],u),t}function rc(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const u=c(e,["description"]);u!=null&&f(t,["description"],u);const p=c(e,["version"]);p!=null&&f(t,["version"],p);const h=c(e,["_self"]);h!=null&&f(t,["tunedModelInfo"],Q_(s,h));const y=c(e,["inputTokenLimit"]);y!=null&&f(t,["inputTokenLimit"],y);const g=c(e,["outputTokenLimit"]);g!=null&&f(t,["outputTokenLimit"],g);const v=c(e,["supportedGenerationMethods"]);return v!=null&&f(t,["supportedActions"],v),t}function W_(s,e){const t={},o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const l=c(e,["_self"]);if(l!=null){let u=wg(s,l);Array.isArray(u)&&(u=u.map(p=>rc(s,p))),f(t,["models"],u)}return t}function j_(){return{}}function eE(s,e){const t={},o=c(e,["totalTokens"]);o!=null&&f(t,["totalTokens"],o);const l=c(e,["cachedContentTokenCount"]);return l!=null&&f(t,["cachedContentTokenCount"],l),t}function tE(s,e){const t={},o=c(e,["video","uri"]);o!=null&&f(t,["uri"],o);const l=c(e,["video","encodedVideo"]);l!=null&&f(t,["videoBytes"],jn(s,l));const u=c(e,["encoding"]);return u!=null&&f(t,["mimeType"],u),t}function nE(s,e){const t={},o=c(e,["_self"]);return o!=null&&f(t,["video"],tE(s,o)),t}function iE(s,e){const t={},o=c(e,["generatedSamples"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(h=>nE(s,h))),f(t,["generatedVideos"],p)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&f(t,["raiMediaFilteredCount"],l);const u=c(e,["raiMediaFilteredReasons"]);return u!=null&&f(t,["raiMediaFilteredReasons"],u),t}function oE(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["metadata"]);l!=null&&f(t,["metadata"],l);const u=c(e,["done"]);u!=null&&f(t,["done"],u);const p=c(e,["error"]);p!=null&&f(t,["error"],p);const h=c(e,["response","generateVideoResponse"]);return h!=null&&f(t,["response"],iE(s,h)),t}function aE(s,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const l=c(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const u=c(e,["startOffset"]);return u!=null&&f(t,["startOffset"],u),t}function lE(s,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const l=c(e,["data"]);l!=null&&f(t,["data"],l);const u=c(e,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function sE(s,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const l=c(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const u=c(e,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function rE(s,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],aE(s,o));const l=c(e,["thought"]);l!=null&&f(t,["thought"],l);const u=c(e,["inlineData"]);u!=null&&f(t,["inlineData"],lE(s,u));const p=c(e,["fileData"]);p!=null&&f(t,["fileData"],sE(s,p));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=c(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function uE(s,e){const t={},o=c(e,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>rE(s,p))),f(t,["parts"],u)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function cE(s,e){const t={},o=c(e,["citations"]);return o!=null&&f(t,["citations"],o),t}function fE(s,e){const t={},o=c(e,["retrievedUrl"]);o!=null&&f(t,["retrievedUrl"],o);const l=c(e,["urlRetrievalStatus"]);return l!=null&&f(t,["urlRetrievalStatus"],l),t}function dE(s,e){const t={},o=c(e,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>fE(s,u))),f(t,["urlMetadata"],l)}return t}function pE(s,e){const t={},o=c(e,["content"]);o!=null&&f(t,["content"],uE(s,o));const l=c(e,["citationMetadata"]);l!=null&&f(t,["citationMetadata"],cE(s,l));const u=c(e,["finishMessage"]);u!=null&&f(t,["finishMessage"],u);const p=c(e,["finishReason"]);p!=null&&f(t,["finishReason"],p);const h=c(e,["urlContextMetadata"]);h!=null&&f(t,["urlContextMetadata"],dE(s,h));const y=c(e,["avgLogprobs"]);y!=null&&f(t,["avgLogprobs"],y);const g=c(e,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const v=c(e,["index"]);v!=null&&f(t,["index"],v);const x=c(e,["logprobsResult"]);x!=null&&f(t,["logprobsResult"],x);const S=c(e,["safetyRatings"]);return S!=null&&f(t,["safetyRatings"],S),t}function Wm(s,e){const t={},o=c(e,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>pE(s,v))),f(t,["candidates"],g)}const l=c(e,["createTime"]);l!=null&&f(t,["createTime"],l);const u=c(e,["responseId"]);u!=null&&f(t,["responseId"],u);const p=c(e,["modelVersion"]);p!=null&&f(t,["modelVersion"],p);const h=c(e,["promptFeedback"]);h!=null&&f(t,["promptFeedback"],h);const y=c(e,["usageMetadata"]);return y!=null&&f(t,["usageMetadata"],y),t}function hE(s,e){const t={},o=c(e,["truncated"]);o!=null&&f(t,["truncated"],o);const l=c(e,["token_count"]);return l!=null&&f(t,["tokenCount"],l),t}function mE(s,e){const t={},o=c(e,["values"]);o!=null&&f(t,["values"],o);const l=c(e,["statistics"]);return l!=null&&f(t,["statistics"],hE(s,l)),t}function gE(s,e){const t={},o=c(e,["billableCharacterCount"]);return o!=null&&f(t,["billableCharacterCount"],o),t}function yE(s,e){const t={},o=c(e,["predictions[]","embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>mE(s,p))),f(t,["embeddings"],u)}const l=c(e,["metadata"]);return l!=null&&f(t,["metadata"],gE(s,l)),t}function vE(s,e){const t={},o=c(e,["gcsUri"]);o!=null&&f(t,["gcsUri"],o);const l=c(e,["bytesBase64Encoded"]);l!=null&&f(t,["imageBytes"],jn(s,l));const u=c(e,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function qg(s,e){const t={},o=c(e,["safetyAttributes","categories"]);o!=null&&f(t,["categories"],o);const l=c(e,["safetyAttributes","scores"]);l!=null&&f(t,["scores"],l);const u=c(e,["contentType"]);return u!=null&&f(t,["contentType"],u),t}function xc(s,e){const t={},o=c(e,["_self"]);o!=null&&f(t,["image"],vE(s,o));const l=c(e,["raiFilteredReason"]);l!=null&&f(t,["raiFilteredReason"],l);const u=c(e,["_self"]);u!=null&&f(t,["safetyAttributes"],qg(s,u));const p=c(e,["prompt"]);return p!=null&&f(t,["enhancedPrompt"],p),t}function TE(s,e){const t={},o=c(e,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>xc(s,p))),f(t,["generatedImages"],u)}const l=c(e,["positivePromptSafetyAttributes"]);return l!=null&&f(t,["positivePromptSafetyAttributes"],qg(s,l)),t}function xE(s,e){const t={},o=c(e,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>xc(s,u))),f(t,["generatedImages"],l)}return t}function CE(s,e){const t={},o=c(e,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>xc(s,u))),f(t,["generatedImages"],l)}return t}function SE(s,e){const t={},o=c(e,["endpoint"]);o!=null&&f(t,["name"],o);const l=c(e,["deployedModelId"]);return l!=null&&f(t,["deployedModelId"],l),t}function bE(s,e){const t={},o=c(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(t,["baseModel"],o);const l=c(e,["createTime"]);l!=null&&f(t,["createTime"],l);const u=c(e,["updateTime"]);return u!=null&&f(t,["updateTime"],u),t}function _E(s,e){const t={},o=c(e,["checkpointId"]);o!=null&&f(t,["checkpointId"],o);const l=c(e,["epoch"]);l!=null&&f(t,["epoch"],l);const u=c(e,["step"]);return u!=null&&f(t,["step"],u),t}function uc(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const u=c(e,["description"]);u!=null&&f(t,["description"],u);const p=c(e,["versionId"]);p!=null&&f(t,["version"],p);const h=c(e,["deployedModels"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(w=>SE(s,w))),f(t,["endpoints"],S)}const y=c(e,["labels"]);y!=null&&f(t,["labels"],y);const g=c(e,["_self"]);g!=null&&f(t,["tunedModelInfo"],bE(s,g));const v=c(e,["defaultCheckpointId"]);v!=null&&f(t,["defaultCheckpointId"],v);const x=c(e,["checkpoints"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(w=>_E(s,w))),f(t,["checkpoints"],S)}return t}function EE(s,e){const t={},o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const l=c(e,["_self"]);if(l!=null){let u=wg(s,l);Array.isArray(u)&&(u=u.map(p=>uc(s,p))),f(t,["models"],u)}return t}function wE(){return{}}function AE(s,e){const t={},o=c(e,["totalTokens"]);return o!=null&&f(t,["totalTokens"],o),t}function ME(s,e){const t={},o=c(e,["tokensInfo"]);return o!=null&&f(t,["tokensInfo"],o),t}function RE(s,e){const t={},o=c(e,["gcsUri"]);o!=null&&f(t,["uri"],o);const l=c(e,["bytesBase64Encoded"]);l!=null&&f(t,["videoBytes"],jn(s,l));const u=c(e,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function kE(s,e){const t={},o=c(e,["_self"]);return o!=null&&f(t,["video"],RE(s,o)),t}function DE(s,e){const t={},o=c(e,["videos"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(h=>kE(s,h))),f(t,["generatedVideos"],p)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&f(t,["raiMediaFilteredCount"],l);const u=c(e,["raiMediaFilteredReasons"]);return u!=null&&f(t,["raiMediaFilteredReasons"],u),t}function NE(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["metadata"]);l!=null&&f(t,["metadata"],l);const u=c(e,["done"]);u!=null&&f(t,["done"],u);const p=c(e,["error"]);p!=null&&f(t,["error"],p);const h=c(e,["response"]);return h!=null&&f(t,["response"],DE(s,h)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IE="Content-Type",UE="X-Server-Timeout",LE="User-Agent",cc="x-goog-api-client",qE="1.4.0",VE=`google-genai-sdk/${qE}`,OE="v1beta1",zE="v1beta",jm=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Vg extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class fc extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class PE{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:OE,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:zE,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){const l=[this.getRequestUrlInternal(t)];return o&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,o);if(e.queryParams)for(const[p,h]of Object.entries(e.queryParams))l.searchParams.append(p,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,t,e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,t){const o=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(t))typeof u=="object"?o[l]=Object.assign(Object.assign({},o[l]),u):u!==void 0&&(o[l]=u);return o}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,o);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,t,e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,o){if(t&&t.timeout||o){const l=new AbortController,u=l.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>l.abort(),t.timeout),o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=u}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async l=>(await eg(l),new oc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async l=>(await eg(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var t;return go(this,arguments,function*(){const l=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let p="";for(;;){const{done:h,value:y}=yield He(l.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=u.decode(y);try{const x=JSON.parse(g);if("error"in x){const S=JSON.parse(JSON.stringify(x.error)),w=S.status,R=S.code,L=`got status: ${w}. ${JSON.stringify(x)}`;if(R>=400&&R<500)throw new Vg(L);if(R>=500&&R<600)throw new fc(L)}}catch(x){const S=x;if(S.name==="ClientError"||S.name==="ServerError")throw x}p+=g;let v=p.match(jm);for(;v;){const x=v[1];try{const S=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield He(new oc(S)),p=p.slice(v[0].length),v=p.match(jm)}catch(S){throw new Error(`exception parsing stream chunk ${x}. ${S}`)}}}}finally{l.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},t=VE+" "+this.clientOptions.userAgentExtra;return e[LE]=t,e[cc]=t,e[IE]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))t.append(o,l);e.timeout&&e.timeout>0&&t.append(UE,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var o;const l={};t!=null&&(l.mimeType=t.mimeType,l.name=t.name,l.displayName=t.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,p=await u.stat(e);l.sizeBytes=String(p.size);const h=(o=t==null?void 0:t.mimeType)!==null&&o!==void 0?o:p.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=h;const y=await this.fetchUploadUrl(l,t);return u.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var o;let l={};t!=null&&t.httpOptions?l=t.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const u={file:e},p=await this.request({path:re("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:l});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=p==null?void 0:p.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function eg(s){var e;if(s===void 0)throw new fc("response is undefined");if(!s.ok){const t=s.status,o=s.statusText;let l;!((e=s.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await s.json():l={error:{message:await s.text(),code:s.status,status:s.statusText}};const u=`got status: ${t} ${o}. ${JSON.stringify(l)}`;throw t>=400&&t<500?new Vg(u):t>=500&&t<600?new fc(u):new Error(u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BE="mcp_used/unknown";function Og(s){for(const e of s)if(Cc(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function zg(s){var e;const t=(e=s[cc])!==null&&e!==void 0?e:"";s[cc]=(t+` ${BE}`).trimStart()}function GE(s){var e,t,o;return(o=(t=(e=s.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>Cc(l)))!==null&&o!==void 0?o:!1}function HE(s){var e,t,o;return(o=(t=(e=s.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>!Cc(l)))!==null&&o!==void 0?o:!1}function Cc(s){return s!==null&&typeof s=="object"&&s instanceof Sc}function FE(s,e=100){return go(this,arguments,function*(){let o,l=0;for(;l<e;){const u=yield He(s.listTools({cursor:o}));for(const p of u.tools)yield yield He(p),l++;if(!u.nextCursor)break;o=u.nextCursor}})}class Sc{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Sc(e,t)}async initialize(){var e,t,o,l;if(this.mcpTools.length>0)return;const u={},p=[];for(const v of this.mcpClients)try{for(var h=!0,y=(t=void 0,Da(FE(v))),g;g=await y.next(),e=g.done,!e;h=!0){l=g.value,h=!1;const x=l;p.push(x);const S=x.name;if(u[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);u[S]=v}}catch(x){t={error:x}}finally{try{!h&&!e&&(o=y.return)&&await o.call(y)}finally{if(t)throw t.error}}this.mcpTools=p,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),Z0(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const u=await this.functionNameToMcpClient[o.name].callTool({name:o.name,arguments:o.args});t.push({functionResponse:{name:o.name,response:u.isError?{error:u}:u}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function YE(s,e,t){const o=new I0;let l;t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data);const u=tb(s,l);Object.assign(o,u),e(o)}class ZE{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}async connect(e){var t,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),p=XE(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const v=new Promise(Y=>{g=Y}),x=e.callbacks,S=function(){g({})},w=this.apiClient,R={onopen:S,onmessage:Y=>{YE(w,x.onmessage,Y)},onerror:(t=x==null?void 0:x.onerror)!==null&&t!==void 0?t:function(Y){},onclose:(o=x==null?void 0:x.onclose)!==null&&o!==void 0?o:function(Y){}},L=this.webSocketFactory.create(y,KE(p),R);L.connect(),await v;const P=Be(this.apiClient,e.model),H=Dg(this.apiClient,{model:P}),K=sc(this.apiClient,{setup:H});return L.send(JSON.stringify(K)),new $E(L,this.apiClient)}}class $E{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=mS(this.apiClient,e),o=Ng(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=gS(this.apiClient,e),o=sc(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const t=sc(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(ho.PLAY)}pause(){this.sendPlaybackControl(ho.PAUSE)}stop(){this.sendPlaybackControl(ho.STOP)}resetContext(){this.sendPlaybackControl(ho.RESET_CONTEXT)}close(){this.conn.close()}}function KE(s){const e={};return s.forEach((t,o)=>{e[o]=t}),e}function XE(s){const e=new Headers;for(const[t,o]of Object.entries(s))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function QE(s,e,t){const o=new N0;let l;if(t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data),s.isVertexAI()){const u=ZS(s,l);Object.assign(o,u)}else{const u=YS(s,l);Object.assign(o,u)}e(o)}class WE{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o,this.music=new ZE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,o,l,u,p,h;const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const x=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Og(e.config.tools)&&zg(x);const S=nw(x);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const ae=this.apiClient.getApiKey();let me="BidiGenerateContent",Ge="key";ae!=null&&ae.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),me="BidiGenerateContentConstrained",Ge="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${me}?${Ge}=${ae}`}let w=()=>{};const R=new Promise(ae=>{w=ae}),L=e.callbacks,P=function(){var ae;(ae=L==null?void 0:L.onopen)===null||ae===void 0||ae.call(L),w({})},H=this.apiClient,K={onopen:P,onmessage:ae=>{QE(H,L.onmessage,ae)},onerror:(t=L==null?void 0:L.onerror)!==null&&t!==void 0?t:function(ae){},onclose:(o=L==null?void 0:L.onclose)!==null&&o!==void 0?o:function(ae){}},Y=this.webSocketFactory.create(v,tw(S),K);Y.connect(),await R;let J=Be(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const ae=this.apiClient.getProject(),me=this.apiClient.getLocation();J=`projects/${ae}/locations/${me}/`+J}let F={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[hs.AUDIO]}:e.config.responseModalities=[hs.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const oe=(h=(p=e.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[],de=[];for(const ae of oe)if(this.isCallableTool(ae)){const me=ae;de.push(await me.tool())}else de.push(ae);de.length>0&&(e.config.tools=de);const xe={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=rS(this.apiClient,xe):F=sS(this.apiClient,xe),delete F.config,Y.send(JSON.stringify(F)),new ew(Y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const jE={turnComplete:!0};class ew{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=$t(e,t.turns),e.isVertexAI()?o=o.map(l=>Eo(e,l)):o=o.map(l=>_s(e,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const u of o){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(JE)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},jE),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:hS(this.apiClient,e)}:t={realtimeInput:pS(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function tw(s){const e={};return s.forEach((t,o)=>{e[o]=t}),e}function nw(s){const e=new Headers;for(const[t,o]of Object.entries(s))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tg=10;function ng(s){var e,t,o;if(!((e=s==null?void 0:s.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const p of(t=s==null?void 0:s.tools)!==null&&t!==void 0?t:[])if(ls(p)){l=!0;break}if(!l)return!0;const u=(o=s==null?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function ls(s){return"callTool"in s&&typeof s.callTool=="function"}function ig(s){var e;return!(!((e=s==null?void 0:s.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iw extends _o{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var o,l,u,p,h;const y=await this.processParamsForMcpUsage(t);if(!GE(t)||ng(t.config))return await this.generateContentInternal(y);if(HE(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let g,v;const x=$t(this.apiClient,y.contents),S=(u=(l=(o=y.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&u!==void 0?u:tg;let w=0;for(;w<S&&(g=await this.generateContentInternal(y),!(!g.functionCalls||g.functionCalls.length===0));){const R=g.candidates[0].content,L=[];for(const P of(h=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[])if(ls(P)){const K=await P.callTool(g.functionCalls);L.push(...K)}w++,v={role:"user",parts:L},y.contents=$t(this.apiClient,y.contents),y.contents.push(R),y.contents.push(v),ig(y.config)&&(x.push(R),x.push(v))}return ig(y.config)&&(g.automaticFunctionCallingHistory=x),g},this.generateContentStream=async t=>{if(ng(t.config)){const o=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var l;let u;const p=[];if(o!=null&&o.generatedImages)for(const y of o.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:p.push(y);let h;return u?h={generatedImages:p,positivePromptSafetyAttributes:u}:h={generatedImages:p},h}),this.list=async t=>{var o;const p={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((o=p.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new bs(So.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(p),p)},this.editImage=async t=>{const o={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(o.referenceImages=t.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async t=>{let o={numberOfImages:1,mode:"upscale"};t.config&&(o=Object.assign(Object.assign({},o),t.config));const l={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:o};return await this.upscaleImageInternal(l)}}async processParamsForMcpUsage(e){var t,o,l;const u=(t=e.config)===null||t===void 0?void 0:t.tools;if(!u)return e;const p=await Promise.all(u.map(async y=>ls(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:p})};if(h.config.tools=p,e.config&&e.config.tools&&Og(e.config.tools)){const y=(l=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),zg(g),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(e){var t,o,l;const u=new Map;for(const p of(o=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&o!==void 0?o:[])if(ls(p)){const h=p,y=await h.tool();for(const g of(l=y.functionDeclarations)!==null&&l!==void 0?l:[]){if(!g.name)throw new Error("Function declaration name is required.");if(u.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);u.set(g.name,h)}}return u}async processAfcStream(e){var t,o,l;const u=(l=(o=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:tg;let p=!1,h=0;const y=await this.initAfcToolsMap(e);return function(g,v,x){var S,w;return go(this,arguments,function*(){for(var R,L,P,H;h<u;){p&&(h++,p=!1);const F=yield He(g.processParamsForMcpUsage(x)),oe=yield He(g.generateContentStreamInternal(F)),de=[],xe=[];try{for(var K=!0,Y=(L=void 0,Da(oe)),J;J=yield He(Y.next()),R=J.done,!R;K=!0){H=J.value,K=!1;const ae=H;if(yield yield He(ae),ae.candidates&&(!((S=ae.candidates[0])===null||S===void 0)&&S.content)){xe.push(ae.candidates[0].content);for(const me of(w=ae.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(h<u&&me.functionCall){if(!me.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(me.functionCall.name)){const Ge=yield He(v.get(me.functionCall.name).callTool([me.functionCall]));de.push(...Ge)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${me.functionCall.name}`)}}}}catch(ae){L={error:ae}}finally{try{!K&&!R&&(P=Y.return)&&(yield He(P.call(Y)))}finally{if(L)throw L.error}}if(de.length>0){p=!0;const ae=new wa;ae.candidates=[{content:{role:"user",parts:de}}],yield yield He(ae);const me=[];me.push(...xe),me.push({role:"user",parts:de});const Ge=$t(g.apiClient,x.contents).concat(me);x.contents=Ge}else break}})}(this,y,e)}async generateContentInternal(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Jm(this.apiClient,e);return h=re("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(v=>{const x=Wm(this.apiClient,v),S=new wa;return Object.assign(S,x),S})}else{const g=Xm(this.apiClient,e);return h=re("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(v=>{const x=Qm(this.apiClient,v),S=new wa;return Object.assign(S,x),S})}}async generateContentStreamInternal(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Jm(this.apiClient,e);h=re("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query;const v=this.apiClient;return p=v.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),p.then(function(x){return go(this,arguments,function*(){var S,w,R,L;try{for(var P=!0,H=Da(x),K;K=yield He(H.next()),S=K.done,!S;P=!0){L=K.value,P=!1;const J=Wm(v,yield He(L.json())),F=new wa;Object.assign(F,J),yield yield He(F)}}catch(Y){w={error:Y}}finally{try{!P&&!S&&(R=H.return)&&(yield He(R.call(H)))}finally{if(w)throw w.error}}})})}else{const g=Xm(this.apiClient,e);h=re("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query;const v=this.apiClient;return p=v.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),p.then(function(x){return go(this,arguments,function*(){var S,w,R,L;try{for(var P=!0,H=Da(x),K;K=yield He(H.next()),S=K.done,!S;P=!0){L=K.value,P=!1;const J=Qm(v,yield He(L.json())),F=new wa;Object.assign(F,J),yield yield He(F)}}catch(Y){w={error:Y}}finally{try{!P&&!S&&(R=H.return)&&(yield He(R.call(H)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=p_(this.apiClient,e);return h=re("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(v=>{const x=yE(this.apiClient,v),S=new Rm;return Object.assign(S,x),S})}else{const g=wb(this.apiClient,e);return h=re("{model}:batchEmbedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(v=>{const x=$_(this.apiClient,v),S=new Rm;return Object.assign(S,x),S})}}async generateImagesInternal(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=m_(this.apiClient,e);return h=re("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(v=>{const x=TE(this.apiClient,v),S=new km;return Object.assign(S,x),S})}else{const g=Mb(this.apiClient,e);return h=re("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(v=>{const x=J_(this.apiClient,v),S=new km;return Object.assign(S,x),S})}}async editImageInternal(e){var t,o;let l,u="",p={};if(this.apiClient.isVertexAI()){const h=S_(this.apiClient,e);return u=re("{model}:predict",h._url),p=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const g=xE(this.apiClient,y),v=new w0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,o;let l,u="",p={};if(this.apiClient.isVertexAI()){const h=__(this.apiClient,e);return u=re("{model}:predict",h._url),p=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const g=CE(this.apiClient,y),v=new A0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=E_(this.apiClient,e);return h=re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(v=>uc(this.apiClient,v))}else{const g=Rb(this.apiClient,e);return h=re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(v=>rc(this.apiClient,v))}}async listInternal(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=A_(this.apiClient,e);return h=re("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(v=>{const x=EE(this.apiClient,v),S=new Dm;return Object.assign(S,x),S})}else{const g=Db(this.apiClient,e);return h=re("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(v=>{const x=W_(this.apiClient,v),S=new Dm;return Object.assign(S,x),S})}}async update(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=R_(this.apiClient,e);return h=re("{model}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(v=>uc(this.apiClient,v))}else{const g=Ib(this.apiClient,e);return h=re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(v=>rc(this.apiClient,v))}}async delete(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=k_(this.apiClient,e);return h=re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(()=>{const v=wE(),x=new Nm;return Object.assign(x,v),x})}else{const g=Ub(this.apiClient,e);return h=re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(()=>{const v=j_(),x=new Nm;return Object.assign(x,v),x})}}async countTokens(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=N_(this.apiClient,e);return h=re("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(v=>{const x=AE(this.apiClient,v),S=new Im;return Object.assign(S,x),S})}else{const g=qb(this.apiClient,e);return h=re("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(v=>{const x=eE(this.apiClient,v),S=new Im;return Object.assign(S,x),S})}}async computeTokens(e){var t,o;let l,u="",p={};if(this.apiClient.isVertexAI()){const h=I_(this.apiClient,e);return u=re("{model}:computeTokens",h._url),p=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>{const g=ME(this.apiClient,y),v=new M0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=L_(this.apiClient,e);return h=re("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(v=>NE(this.apiClient,v))}else{const g=zb(this.apiClient,e);return h=re("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(v=>oE(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ow(s,e){const t={},o=c(e,["operationName"]);o!=null&&f(t,["_url","operationName"],o);const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function aw(s,e){const t={},o=c(e,["operationName"]);o!=null&&f(t,["_url","operationName"],o);const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function lw(s,e){const t={},o=c(e,["operationName"]);o!=null&&f(t,["operationName"],o);const l=c(e,["resourceName"]);l!=null&&f(t,["_url","resourceName"],l);const u=c(e,["config"]);return u!=null&&f(t,["config"],u),t}function sw(s,e){const t={},o=c(e,["video","uri"]);o!=null&&f(t,["uri"],o);const l=c(e,["video","encodedVideo"]);l!=null&&f(t,["videoBytes"],jn(s,l));const u=c(e,["encoding"]);return u!=null&&f(t,["mimeType"],u),t}function rw(s,e){const t={},o=c(e,["_self"]);return o!=null&&f(t,["video"],sw(s,o)),t}function uw(s,e){const t={},o=c(e,["generatedSamples"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(h=>rw(s,h))),f(t,["generatedVideos"],p)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&f(t,["raiMediaFilteredCount"],l);const u=c(e,["raiMediaFilteredReasons"]);return u!=null&&f(t,["raiMediaFilteredReasons"],u),t}function cw(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["metadata"]);l!=null&&f(t,["metadata"],l);const u=c(e,["done"]);u!=null&&f(t,["done"],u);const p=c(e,["error"]);p!=null&&f(t,["error"],p);const h=c(e,["response","generateVideoResponse"]);return h!=null&&f(t,["response"],uw(s,h)),t}function fw(s,e){const t={},o=c(e,["gcsUri"]);o!=null&&f(t,["uri"],o);const l=c(e,["bytesBase64Encoded"]);l!=null&&f(t,["videoBytes"],jn(s,l));const u=c(e,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function dw(s,e){const t={},o=c(e,["_self"]);return o!=null&&f(t,["video"],fw(s,o)),t}function pw(s,e){const t={},o=c(e,["videos"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(h=>dw(s,h))),f(t,["generatedVideos"],p)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&f(t,["raiMediaFilteredCount"],l);const u=c(e,["raiMediaFilteredReasons"]);return u!=null&&f(t,["raiMediaFilteredReasons"],u),t}function og(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["metadata"]);l!=null&&f(t,["metadata"],l);const u=c(e,["done"]);u!=null&&f(t,["done"],u);const p=c(e,["error"]);p!=null&&f(t,["error"],p);const h=c(e,["response"]);return h!=null&&f(t,["response"],pw(s,h)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hw extends _o{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=t.name.split("/operations/")[0];let u;return o&&"httpOptions"in o&&(u=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:l,config:{httpOptions:u}})}else return this.getVideosOperationInternal({operationName:t.name,config:o})}async getVideosOperationInternal(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=aw(this.apiClient,e);return h=re("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(v=>og(this.apiClient,v))}else{const g=ow(this.apiClient,e);return h=re("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(v=>cw(this.apiClient,v))}}async fetchPredictVideosOperationInternal(e){var t,o;let l,u="",p={};if(this.apiClient.isVertexAI()){const h=lw(this.apiClient,e);return u=re("{resourceName}:fetchPredictOperation",h._url),p=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>og(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mw(s,e){const t={},o=c(e,["voiceName"]);return o!=null&&f(t,["voiceName"],o),t}function Pg(s,e){const t={},o=c(e,["prebuiltVoiceConfig"]);return o!=null&&f(t,["prebuiltVoiceConfig"],mw(s,o)),t}function gw(s,e){const t={},o=c(e,["speaker"]);o!=null&&f(t,["speaker"],o);const l=c(e,["voiceConfig"]);return l!=null&&f(t,["voiceConfig"],Pg(s,l)),t}function yw(s,e){const t={},o=c(e,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>gw(s,u))),f(t,["speakerVoiceConfigs"],l)}return t}function vw(s,e){const t={},o=c(e,["voiceConfig"]);o!=null&&f(t,["voiceConfig"],Pg(s,o));const l=c(e,["multiSpeakerVoiceConfig"]);l!=null&&f(t,["multiSpeakerVoiceConfig"],yw(s,l));const u=c(e,["languageCode"]);return u!=null&&f(t,["languageCode"],u),t}function Tw(s,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const l=c(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const u=c(e,["startOffset"]);return u!=null&&f(t,["startOffset"],u),t}function xw(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["data"]);o!=null&&f(t,["data"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function Cw(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function Sw(s,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],Tw(s,o));const l=c(e,["thought"]);l!=null&&f(t,["thought"],l);const u=c(e,["inlineData"]);u!=null&&f(t,["inlineData"],xw(s,u));const p=c(e,["fileData"]);p!=null&&f(t,["fileData"],Cw(s,p));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=c(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function bw(s,e){const t={},o=c(e,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(p=>Sw(s,p))),f(t,["parts"],u)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function _w(s,e){const t={},o=c(e,["behavior"]);o!=null&&f(t,["behavior"],o);const l=c(e,["description"]);l!=null&&f(t,["description"],l);const u=c(e,["name"]);u!=null&&f(t,["name"],u);const p=c(e,["parameters"]);p!=null&&f(t,["parameters"],p);const h=c(e,["response"]);return h!=null&&f(t,["response"],h),t}function Ew(s,e){const t={},o=c(e,["startTime"]);o!=null&&f(t,["startTime"],o);const l=c(e,["endTime"]);return l!=null&&f(t,["endTime"],l),t}function ww(s,e){const t={},o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],Ew(s,o)),t}function Aw(s,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const l=c(e,["dynamicThreshold"]);return l!=null&&f(t,["dynamicThreshold"],l),t}function Mw(s,e){const t={},o=c(e,["dynamicRetrievalConfig"]);return o!=null&&f(t,["dynamicRetrievalConfig"],Aw(s,o)),t}function Rw(){return{}}function kw(s,e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(g=>_w(s,g))),f(t,["functionDeclarations"],y)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],ww(s,l));const u=c(e,["googleSearchRetrieval"]);if(u!=null&&f(t,["googleSearchRetrieval"],Mw(s,u)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&f(t,["urlContext"],Rw());const h=c(e,["codeExecution"]);return h!=null&&f(t,["codeExecution"],h),t}function Dw(s,e){const t={},o=c(e,["handle"]);if(o!=null&&f(t,["handle"],o),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function ag(){return{}}function Nw(s,e){const t={},o=c(e,["disabled"]);o!=null&&f(t,["disabled"],o);const l=c(e,["startOfSpeechSensitivity"]);l!=null&&f(t,["startOfSpeechSensitivity"],l);const u=c(e,["endOfSpeechSensitivity"]);u!=null&&f(t,["endOfSpeechSensitivity"],u);const p=c(e,["prefixPaddingMs"]);p!=null&&f(t,["prefixPaddingMs"],p);const h=c(e,["silenceDurationMs"]);return h!=null&&f(t,["silenceDurationMs"],h),t}function Iw(s,e){const t={},o=c(e,["automaticActivityDetection"]);o!=null&&f(t,["automaticActivityDetection"],Nw(s,o));const l=c(e,["activityHandling"]);l!=null&&f(t,["activityHandling"],l);const u=c(e,["turnCoverage"]);return u!=null&&f(t,["turnCoverage"],u),t}function Uw(s,e){const t={},o=c(e,["targetTokens"]);return o!=null&&f(t,["targetTokens"],o),t}function Lw(s,e){const t={},o=c(e,["triggerTokens"]);o!=null&&f(t,["triggerTokens"],o);const l=c(e,["slidingWindow"]);return l!=null&&f(t,["slidingWindow"],Uw(s,l)),t}function qw(s,e){const t={},o=c(e,["proactiveAudio"]);return o!=null&&f(t,["proactiveAudio"],o),t}function Vw(s,e,t){const o={},l=c(e,["generationConfig"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig"],l);const u=c(e,["responseModalities"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","responseModalities"],u);const p=c(e,["temperature"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","temperature"],p);const h=c(e,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const y=c(e,["topK"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","topK"],y);const g=c(e,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const v=c(e,["mediaResolution"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","mediaResolution"],v);const x=c(e,["seed"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","seed"],x);const S=c(e,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],vw(s,vc(s,S)));const w=c(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],w);const R=c(e,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],bw(s,mt(s,R)));const L=c(e,["tools"]);if(t!==void 0&&L!=null){let oe=qa(s,L);Array.isArray(oe)&&(oe=oe.map(de=>kw(s,La(s,de)))),f(t,["setup","tools"],oe)}const P=c(e,["sessionResumption"]);t!==void 0&&P!=null&&f(t,["setup","sessionResumption"],Dw(s,P));const H=c(e,["inputAudioTranscription"]);t!==void 0&&H!=null&&f(t,["setup","inputAudioTranscription"],ag());const K=c(e,["outputAudioTranscription"]);t!==void 0&&K!=null&&f(t,["setup","outputAudioTranscription"],ag());const Y=c(e,["realtimeInputConfig"]);t!==void 0&&Y!=null&&f(t,["setup","realtimeInputConfig"],Iw(s,Y));const J=c(e,["contextWindowCompression"]);t!==void 0&&J!=null&&f(t,["setup","contextWindowCompression"],Lw(s,J));const F=c(e,["proactivity"]);return t!==void 0&&F!=null&&f(t,["setup","proactivity"],qw(s,F)),o}function Ow(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["setup","model"],Be(s,o));const l=c(e,["config"]);return l!=null&&f(t,["config"],Vw(s,l,t)),t}function zw(s,e,t){const o={},l=c(e,["expireTime"]);t!==void 0&&l!=null&&f(t,["expireTime"],l);const u=c(e,["newSessionExpireTime"]);t!==void 0&&u!=null&&f(t,["newSessionExpireTime"],u);const p=c(e,["uses"]);t!==void 0&&p!=null&&f(t,["uses"],p);const h=c(e,["liveConnectConstraints"]);t!==void 0&&h!=null&&f(t,["bidiGenerateContentSetup"],Ow(s,h));const y=c(e,["lockAdditionalFields"]);return t!==void 0&&y!=null&&f(t,["fieldMask"],y),o}function Pw(s,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],zw(s,o,t)),t}function Bw(s,e){const t={},o=c(e,["name"]);return o!=null&&f(t,["name"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gw(s){const e=[];for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)){const o=s[t];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const l=Object.keys(o).map(u=>`${t}.${u}`);e.push(...l)}else e.push(t)}return e.join(",")}function Hw(s,e){let t=null;const o=s.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const u=o.setup;typeof u=="object"&&u!==null?(s.bidiGenerateContentSetup=u,t=u):delete s.bidiGenerateContentSetup}else o!==void 0&&delete s.bidiGenerateContentSetup;const l=s.fieldMask;if(t){const u=Gw(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?s.fieldMask=u:delete s.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];l.length>0&&(h=l.map(g=>p.includes(g)?`generationConfig.${g}`:g));const y=[];u&&y.push(u),h.length>0&&y.push(...h),y.length>0?s.fieldMask=y.join(","):delete s.fieldMask}else delete s.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?s.fieldMask=l.join(","):delete s.fieldMask;return s}class Fw extends _o{constructor(e){super(),this.apiClient=e}async create(e){var t,o;let l,u="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=Pw(this.apiClient,e);u=re("auth_tokens",h._url),p=h._query,delete h.config,delete h._url,delete h._query;const y=Hw(h,e.config);return l=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>Bw(this.apiClient,g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yw(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],o);const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function Zw(s,e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const u=c(e,["pageToken"]);t!==void 0&&u!=null&&f(t,["_query","pageToken"],u);const p=c(e,["filter"]);return t!==void 0&&p!=null&&f(t,["_query","filter"],p),o}function $w(s,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],Zw(s,o,t)),t}function Kw(s,e){const t={},o=c(e,["textInput"]);o!=null&&f(t,["textInput"],o);const l=c(e,["output"]);return l!=null&&f(t,["output"],l),t}function Xw(s,e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(e,["examples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Kw(s,u))),f(t,["examples","examples"],l)}return t}function Jw(s,e,t){const o={};if(c(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=c(e,["tunedModelDisplayName"]);if(t!==void 0&&l!=null&&f(t,["displayName"],l),c(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(e,["epochCount"]);t!==void 0&&u!=null&&f(t,["tuningTask","hyperparameters","epochCount"],u);const p=c(e,["learningRateMultiplier"]);if(p!=null&&f(o,["tuningTask","hyperparameters","learningRateMultiplier"],p),c(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=c(e,["batchSize"]);t!==void 0&&h!=null&&f(t,["tuningTask","hyperparameters","batchSize"],h);const y=c(e,["learningRate"]);return t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),o}function Qw(s,e){const t={},o=c(e,["baseModel"]);o!=null&&f(t,["baseModel"],o);const l=c(e,["trainingDataset"]);l!=null&&f(t,["tuningTask","trainingData"],Xw(s,l));const u=c(e,["config"]);return u!=null&&f(t,["config"],Jw(s,u,t)),t}function Ww(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],o);const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function jw(s,e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const u=c(e,["pageToken"]);t!==void 0&&u!=null&&f(t,["_query","pageToken"],u);const p=c(e,["filter"]);return t!==void 0&&p!=null&&f(t,["_query","filter"],p),o}function eA(s,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],jw(s,o,t)),t}function tA(s,e,t){const o={},l=c(e,["gcsUri"]);if(t!==void 0&&l!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],l),c(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function nA(s,e){const t={},o=c(e,["gcsUri"]);return o!=null&&f(t,["validationDatasetUri"],o),t}function iA(s,e,t){const o={},l=c(e,["validationDataset"]);t!==void 0&&l!=null&&f(t,["supervisedTuningSpec"],nA(s,l));const u=c(e,["tunedModelDisplayName"]);t!==void 0&&u!=null&&f(t,["tunedModelDisplayName"],u);const p=c(e,["description"]);t!==void 0&&p!=null&&f(t,["description"],p);const h=c(e,["epochCount"]);t!==void 0&&h!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],h);const y=c(e,["learningRateMultiplier"]);t!==void 0&&y!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const g=c(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g);const v=c(e,["adapterSize"]);if(t!==void 0&&v!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],v),c(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function oA(s,e){const t={},o=c(e,["baseModel"]);o!=null&&f(t,["baseModel"],o);const l=c(e,["trainingDataset"]);l!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],tA(s,l,t));const u=c(e,["config"]);return u!=null&&f(t,["config"],iA(s,u,t)),t}function aA(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["model"],o);const l=c(e,["name"]);return l!=null&&f(t,["endpoint"],l),t}function Bg(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["state"]);l!=null&&f(t,["state"],bg(s,l));const u=c(e,["createTime"]);u!=null&&f(t,["createTime"],u);const p=c(e,["tuningTask","startTime"]);p!=null&&f(t,["startTime"],p);const h=c(e,["tuningTask","completeTime"]);h!=null&&f(t,["endTime"],h);const y=c(e,["updateTime"]);y!=null&&f(t,["updateTime"],y);const g=c(e,["description"]);g!=null&&f(t,["description"],g);const v=c(e,["baseModel"]);v!=null&&f(t,["baseModel"],v);const x=c(e,["_self"]);x!=null&&f(t,["tunedModel"],aA(s,x));const S=c(e,["distillationSpec"]);S!=null&&f(t,["distillationSpec"],S);const w=c(e,["experiment"]);w!=null&&f(t,["experiment"],w);const R=c(e,["labels"]);R!=null&&f(t,["labels"],R);const L=c(e,["pipelineJob"]);L!=null&&f(t,["pipelineJob"],L);const P=c(e,["serviceAccount"]);P!=null&&f(t,["serviceAccount"],P);const H=c(e,["tunedModelDisplayName"]);return H!=null&&f(t,["tunedModelDisplayName"],H),t}function lA(s,e){const t={},o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const l=c(e,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(p=>Bg(s,p))),f(t,["tuningJobs"],u)}return t}function sA(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["metadata"]);l!=null&&f(t,["metadata"],l);const u=c(e,["done"]);u!=null&&f(t,["done"],u);const p=c(e,["error"]);return p!=null&&f(t,["error"],p),t}function rA(s,e){const t={},o=c(e,["checkpointId"]);o!=null&&f(t,["checkpointId"],o);const l=c(e,["epoch"]);l!=null&&f(t,["epoch"],l);const u=c(e,["step"]);u!=null&&f(t,["step"],u);const p=c(e,["endpoint"]);return p!=null&&f(t,["endpoint"],p),t}function uA(s,e){const t={},o=c(e,["model"]);o!=null&&f(t,["model"],o);const l=c(e,["endpoint"]);l!=null&&f(t,["endpoint"],l);const u=c(e,["checkpoints"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>rA(s,h))),f(t,["checkpoints"],p)}return t}function dc(s,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["state"]);l!=null&&f(t,["state"],bg(s,l));const u=c(e,["createTime"]);u!=null&&f(t,["createTime"],u);const p=c(e,["startTime"]);p!=null&&f(t,["startTime"],p);const h=c(e,["endTime"]);h!=null&&f(t,["endTime"],h);const y=c(e,["updateTime"]);y!=null&&f(t,["updateTime"],y);const g=c(e,["error"]);g!=null&&f(t,["error"],g);const v=c(e,["description"]);v!=null&&f(t,["description"],v);const x=c(e,["baseModel"]);x!=null&&f(t,["baseModel"],x);const S=c(e,["tunedModel"]);S!=null&&f(t,["tunedModel"],uA(s,S));const w=c(e,["supervisedTuningSpec"]);w!=null&&f(t,["supervisedTuningSpec"],w);const R=c(e,["tuningDataStats"]);R!=null&&f(t,["tuningDataStats"],R);const L=c(e,["encryptionSpec"]);L!=null&&f(t,["encryptionSpec"],L);const P=c(e,["partnerModelTuningSpec"]);P!=null&&f(t,["partnerModelTuningSpec"],P);const H=c(e,["distillationSpec"]);H!=null&&f(t,["distillationSpec"],H);const K=c(e,["experiment"]);K!=null&&f(t,["experiment"],K);const Y=c(e,["labels"]);Y!=null&&f(t,["labels"],Y);const J=c(e,["pipelineJob"]);J!=null&&f(t,["pipelineJob"],J);const F=c(e,["serviceAccount"]);F!=null&&f(t,["serviceAccount"],F);const oe=c(e,["tunedModelDisplayName"]);return oe!=null&&f(t,["tunedModelDisplayName"],oe),t}function cA(s,e){const t={},o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const l=c(e,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(p=>dc(s,p))),f(t,["tuningJobs"],u)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fA extends _o{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new bs(So.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const o=await this.tuneMldevInternal(t);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:ic.JOB_STATE_QUEUED}}}}async getInternal(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Ww(this.apiClient,e);return h=re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(v=>dc(this.apiClient,v))}else{const g=Yw(this.apiClient,e);return h=re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(v=>Bg(this.apiClient,v))}}async listInternal(e){var t,o,l,u;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=eA(this.apiClient,e);return h=re("tuningJobs",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),p.then(v=>{const x=cA(this.apiClient,v),S=new Um;return Object.assign(S,x),S})}else{const g=$w(this.apiClient,e);return h=re("tunedModels",g._url),y=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),p.then(v=>{const x=lA(this.apiClient,v),S=new Um;return Object.assign(S,x),S})}}async tuneInternal(e){var t,o;let l,u="",p={};if(this.apiClient.isVertexAI()){const h=oA(this.apiClient,e);return u=re("tuningJobs",h._url),p=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>dc(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,o;let l,u="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Qw(this.apiClient,e);return u=re("tunedModels",h._url),p=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),l.then(y=>sA(this.apiClient,y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dA{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const pA=1024*1024*8,hA=3,mA=1e3,gA=2,Ku="x-goog-upload-status";async function yA(s,e,t){var o,l,u;let p=0,h=0,y=new oc(new Response),g="upload";for(p=s.size;h<p;){const x=Math.min(pA,p-h),S=s.slice(h,h+x);h+x>=p&&(g+=", finalize");let w=0,R=mA;for(;w<hA&&(y=await t.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(h),"Content-Length":String(x)}}}),!(!((o=y==null?void 0:y.headers)===null||o===void 0)&&o[Ku]));)w++,await TA(R),R=R*gA;if(h+=x,((l=y==null?void 0:y.headers)===null||l===void 0?void 0:l[Ku])!=="active")break;if(p<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((u=y==null?void 0:y.headers)===null||u===void 0?void 0:u[Ku])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function vA(s){return{size:s.size,type:s.type}}function TA(s){return new Promise(e=>setTimeout(e,s))}class xA{async upload(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yA(e,t,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vA(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CA{create(e,t,o){return new SA(e,t,o)}}class SA{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lg="x-goog-api-key";class bA{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(lg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(lg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _A="gl-node/";class EA{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const o=E0(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const l=new bA(this.apiKey);this.apiClient=new PE({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:_A+"web",uploader:new xA,downloader:new dA}),this.models=new iw(this.apiClient),this.live=new WE(this.apiClient,l,new CA),this.chats=new Wx(this.models,this.apiClient),this.caches=new Xx(this.apiClient),this.files=new fC(this.apiClient),this.operations=new hw(this.apiClient),this.authTokens=new Fw(this.apiClient),this.tunings=new fA(this.apiClient)}}const wA="PLACEHOLDER_API_KEY";let bo=null;bo=new EA({apiKey:wA});let ss=null;const AA="gemini-2.5-flash-preview-04-17",MA="imagen-3.0-generate-002",RA=`You are an expert AI assistant specializing in Solidity, smart contract development, Ethereum, and general blockchain technologies. 
Your goal is to help users learn and understand these complex topics. 
Provide clear, concise, and accurate explanations. When asked for code, provide functional Solidity examples using recent compiler versions (e.g., ^0.8.20).
Be patient and break down complex ideas into smaller, understandable parts.
When formatting code, use markdown code blocks. For Solidity, specify 'solidity'.
Example:
\`\`\`solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20;

contract SimpleStorage {
    uint256 public storedData;

    function set(uint256 x) public {
        storedData = x;
    }

    function get() public view returns (uint256) {
        return storedData;
    }
}
\`\`\`
`,kA=[{category:fo.HARM_CATEGORY_HARASSMENT,threshold:po.BLOCK_MEDIUM_AND_ABOVE},{category:fo.HARM_CATEGORY_HATE_SPEECH,threshold:po.BLOCK_MEDIUM_AND_ABOVE},{category:fo.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:po.BLOCK_MEDIUM_AND_ABOVE},{category:fo.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:po.BLOCK_MEDIUM_AND_ABOVE}],pc=async(s,e)=>{if(!bo)return"Gemini AI Service not initialized. API Key may be missing.";let t=RA;s&&(t+=`

The user is currently focusing on the learning module: "${s}". Please tailor your explanations and examples to this topic where relevant.`),e&&(t+=`

Consider this initial prompt related to the module: "${e}"`);try{return ss=bo.chats.create({model:AA,config:{systemInstruction:t,safetySettings:kA},history:[]}),null}catch(o){return console.error("Error initializing Gemini chat:",o),o instanceof Error?o.message.includes("API_KEY_INVALID")||o.message.includes("permission denied")?"Error: The Gemini API key is invalid or lacks permissions. Please check your configuration.":`Error initializing AI assistant: ${o.message}`:"An unexpected error occurred while initializing the AI assistant."}},DA=async s=>{if(!bo)return"Gemini AI Service not initialized. API Key may be missing.";if(!ss){const e=await pc("General Blockchain Topics");if(e||!ss)return e||"Failed to initialize chat session. Please try selecting a module again."}try{return(await ss.sendMessage({message:s})).text}catch(e){return console.error("Error sending message to Gemini:",e),e instanceof Error?e.message.includes("API_KEY_INVALID")||e.message.includes("permission denied")?"Error: The Gemini API key is invalid or lacks permissions. Please check your configuration.":e.message.toLowerCase().includes("blocked")||e.message.toLowerCase().includes("safety")?"Error: The AI's response was blocked. This might be due to safety filters or the nature of the request. Please try rephrasing or a different question.":`Error communicating with AI: ${e.message}. Please try again.`:"An unexpected error occurred while communicating with the AI."}},NA=async s=>{if(!bo)return{error:"Gemini AI Service not initialized. API Key may be missing."};try{const e=await bo.models.generateImages({model:MA,prompt:s,config:{numberOfImages:1,outputMimeType:"image/png"}});return e.generatedImages&&e.generatedImages.length>0&&e.generatedImages[0].image.imageBytes?{base64Image:`data:image/png;base64,${e.generatedImages[0].image.imageBytes}`}:e.generatedImages&&e.generatedImages.length>0&&e.generatedImages[0].finishReason==="SAFETY"?{error:"The image generation request was blocked by safety filters. Please rephrase your prompt."}:e.error&&e.error.message&&e.error.message.toLowerCase().includes("safety")?{error:"The image generation request was blocked by safety filters. Please rephrase your prompt."}:{error:"AI did not return an image. This could be due to safety filters, prompt complexity, or an issue with the image generation service. Please try a different prompt."}}catch(e){return console.error("Error generating diagram with Gemini:",e),e instanceof Error?e.message.includes("API_KEY_INVALID")||e.message.includes("permission denied")?{error:"Error: The Gemini API key is invalid or lacks permissions for image generation."}:e.message.toLowerCase().includes("prompt")&&(e.message.toLowerCase().includes("blocked")||e.message.toLowerCase().includes("safety"))?{error:"The prompt was blocked by safety filters. Please rephrase your request."}:e.code==="BLOCKED_BY_SAFETY_FILTER"||e.status==="BLOCKED_PROMPT"?{error:"The image generation request was blocked by safety filters. Please rephrase your prompt."}:{error:`Error generating diagram: ${e.message}`}:{error:"An unexpected error occurred while generating the diagram."}}},ys=({className:s="w-5 h-5"})=>A.jsxs("svg",{className:`animate-spin ${s}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),vs=({className:s="w-6 h-6"})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.393-.03.79-.03 1.184 0 1.13.094 1.976 1.057 1.976 2.192V7.5M8.25 7.5h7.5M8.25 7.5V9c0 .621-.504 1.125-1.125 1.125H7.125A1.125 1.125 0 016 9V7.5m12 3V9c0-.621-.504-1.125-1.125-1.125h-1.125c-.621 0-1.125.504-1.125 1.125V10.5m0 0h-4.5m4.5 0v.75c0 .621-.504 1.125-1.125 1.125h-1.5c-.621 0-1.125-.504-1.125-1.125V10.5m0 0h.008v.008h-.008V10.5zm-4.5 0h.008v.008h-.008V10.5z"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12.75V15c0 .621.504 1.125 1.125 1.125h1.5c.621 0 1.125-.504 1.125-1.125v-2.25m-3.375 0V15m0 0H9m0 0l2.25 2.25M12 15l2.25 2.25m0 0l2.25-2.25M15 15l2.25 2.25M12 15v2.25"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 6.75h9M7.5 12.75h9"})]});function bc(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let bi=bc();function Gg(s){bi=s}const Hg=/[&<>"']/,IA=new RegExp(Hg.source,"g"),Fg=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,UA=new RegExp(Fg.source,"g"),LA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sg=s=>LA[s];function It(s,e){if(e){if(Hg.test(s))return s.replace(IA,sg)}else if(Fg.test(s))return s.replace(UA,sg);return s}const qA=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function VA(s){return s.replace(qA,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const OA=/(^|[^\[])\^/g;function Ve(s,e){let t=typeof s=="string"?s:s.source;e=e||"";const o={replace:(l,u)=>{let p=typeof u=="string"?u:u.source;return p=p.replace(OA,"$1"),t=t.replace(l,p),o},getRegex:()=>new RegExp(t,e)};return o}function rg(s){try{s=encodeURI(s).replace(/%25/g,"%")}catch{return null}return s}const Na={exec:()=>null};function ug(s,e){const t=s.replace(/\|/g,(u,p,h)=>{let y=!1,g=p;for(;--g>=0&&h[g]==="\\";)y=!y;return y?"|":" |"}),o=t.split(/ \|/);let l=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),e)if(o.length>e)o.splice(e);else for(;o.length<e;)o.push("");for(;l<o.length;l++)o[l]=o[l].trim().replace(/\\\|/g,"|");return o}function Aa(s,e,t){const o=s.length;if(o===0)return"";let l=0;for(;l<o&&s.charAt(o-l-1)===e;)l++;return s.slice(0,o-l)}function zA(s,e){if(s.indexOf(e[1])===-1)return-1;let t=0;for(let o=0;o<s.length;o++)if(s[o]==="\\")o++;else if(s[o]===e[0])t++;else if(s[o]===e[1]&&(t--,t<0))return o;return-1}function cg(s,e,t,o){const l=e.href,u=e.title?It(e.title):null,p=s[1].replace(/\\([\[\]])/g,"$1");if(s[0].charAt(0)!=="!"){o.state.inLink=!0;const h={type:"link",raw:t,href:l,title:u,text:p,tokens:o.inlineTokens(p)};return o.state.inLink=!1,h}return{type:"image",raw:t,href:l,title:u,text:It(p)}}function PA(s,e){const t=s.match(/^(\s+)(?:```)/);if(t===null)return e;const o=t[1];return e.split(`
`).map(l=>{const u=l.match(/^\s+/);if(u===null)return l;const[p]=u;return p.length>=o.length?l.slice(o.length):l}).join(`
`)}class Ts{constructor(e){Pe(this,"options");Pe(this,"rules");Pe(this,"lexer");this.options=e||bi}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const o=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?o:Aa(o,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const o=t[0],l=PA(o,t[3]||"");return{type:"code",raw:o,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:l}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let o=t[2].trim();if(/#$/.test(o)){const l=Aa(o,"#");(this.options.pedantic||!l||/ $/.test(l))&&(o=l.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Aa(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let o=Aa(t[0],`
`).split(`
`),l="",u="";const p=[];for(;o.length>0;){let h=!1;const y=[];let g;for(g=0;g<o.length;g++)if(/^ {0,3}>/.test(o[g]))y.push(o[g]),h=!0;else if(!h)y.push(o[g]);else break;o=o.slice(g);const v=y.join(`
`),x=v.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");l=l?`${l}
${v}`:v,u=u?`${u}
${x}`:x;const S=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(x,p,!0),this.lexer.state.top=S,o.length===0)break;const w=p[p.length-1];if((w==null?void 0:w.type)==="code")break;if((w==null?void 0:w.type)==="blockquote"){const R=w,L=R.raw+`
`+o.join(`
`),P=this.blockquote(L);p[p.length-1]=P,l=l.substring(0,l.length-R.raw.length)+P.raw,u=u.substring(0,u.length-R.text.length)+P.text;break}else if((w==null?void 0:w.type)==="list"){const R=w,L=R.raw+`
`+o.join(`
`),P=this.list(L);p[p.length-1]=P,l=l.substring(0,l.length-w.raw.length)+P.raw,u=u.substring(0,u.length-R.raw.length)+P.raw,o=L.substring(p[p.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:p,text:u}}}list(e){let t=this.rules.block.list.exec(e);if(t){let o=t[1].trim();const l=o.length>1,u={type:"list",raw:"",ordered:l,start:l?+o.slice(0,-1):"",loose:!1,items:[]};o=l?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=l?o:"[*+-]");const p=new RegExp(`^( {0,3}${o})((?:[	 ][^\\n]*)?(?:\\n|$))`);let h=!1;for(;e;){let y=!1,g="",v="";if(!(t=p.exec(e))||this.rules.block.hr.test(e))break;g=t[0],e=e.substring(g.length);let x=t[2].split(`
`,1)[0].replace(/^\t+/,H=>" ".repeat(3*H.length)),S=e.split(`
`,1)[0],w=!x.trim(),R=0;if(this.options.pedantic?(R=2,v=x.trimStart()):w?R=t[1].length+1:(R=t[2].search(/[^ ]/),R=R>4?1:R,v=x.slice(R),R+=t[1].length),w&&/^ *$/.test(S)&&(g+=S+`
`,e=e.substring(S.length+1),y=!0),!y){const H=new RegExp(`^ {0,${Math.min(3,R-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),K=new RegExp(`^ {0,${Math.min(3,R-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Y=new RegExp(`^ {0,${Math.min(3,R-1)}}(?:\`\`\`|~~~)`),J=new RegExp(`^ {0,${Math.min(3,R-1)}}#`);for(;e;){const F=e.split(`
`,1)[0];if(S=F,this.options.pedantic&&(S=S.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Y.test(S)||J.test(S)||H.test(S)||K.test(e))break;if(S.search(/[^ ]/)>=R||!S.trim())v+=`
`+S.slice(R);else{if(w||x.search(/[^ ]/)>=4||Y.test(x)||J.test(x)||K.test(x))break;v+=`
`+S}!w&&!S.trim()&&(w=!0),g+=F+`
`,e=e.substring(F.length+1),x=S.slice(R)}}u.loose||(h?u.loose=!0:/\n *\n *$/.test(g)&&(h=!0));let L=null,P;this.options.gfm&&(L=/^\[[ xX]\] /.exec(v),L&&(P=L[0]!=="[ ] ",v=v.replace(/^\[[ xX]\] +/,""))),u.items.push({type:"list_item",raw:g,task:!!L,checked:P,loose:!1,text:v,tokens:[]}),u.raw+=g}u.items[u.items.length-1].raw=u.items[u.items.length-1].raw.trimEnd(),u.items[u.items.length-1].text=u.items[u.items.length-1].text.trimEnd(),u.raw=u.raw.trimEnd();for(let y=0;y<u.items.length;y++)if(this.lexer.state.top=!1,u.items[y].tokens=this.lexer.blockTokens(u.items[y].text,[]),!u.loose){const g=u.items[y].tokens.filter(x=>x.type==="space"),v=g.length>0&&g.some(x=>/\n.*\n/.test(x.raw));u.loose=v}if(u.loose)for(let y=0;y<u.items.length;y++)u.items[y].loose=!0;return u}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const o=t[1].toLowerCase().replace(/\s+/g," "),l=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",u=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:o,raw:t[0],href:l,title:u}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const o=ug(t[1]),l=t[2].replace(/^\||\| *$/g,"").split("|"),u=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],p={type:"table",raw:t[0],header:[],align:[],rows:[]};if(o.length===l.length){for(const h of l)/^ *-+: *$/.test(h)?p.align.push("right"):/^ *:-+: *$/.test(h)?p.align.push("center"):/^ *:-+ *$/.test(h)?p.align.push("left"):p.align.push(null);for(let h=0;h<o.length;h++)p.header.push({text:o[h],tokens:this.lexer.inline(o[h]),header:!0,align:p.align[h]});for(const h of u)p.rows.push(ug(h,p.header.length).map((y,g)=>({text:y,tokens:this.lexer.inline(y),header:!1,align:p.align[g]})));return p}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const o=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:o,tokens:this.lexer.inline(o)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:It(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const o=t[2].trim();if(!this.options.pedantic&&/^</.test(o)){if(!/>$/.test(o))return;const p=Aa(o.slice(0,-1),"\\");if((o.length-p.length)%2===0)return}else{const p=zA(t[2],"()");if(p>-1){const y=(t[0].indexOf("!")===0?5:4)+t[1].length+p;t[2]=t[2].substring(0,p),t[0]=t[0].substring(0,y).trim(),t[3]=""}}let l=t[2],u="";if(this.options.pedantic){const p=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);p&&(l=p[1],u=p[3])}else u=t[3]?t[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(o)?l=l.slice(1):l=l.slice(1,-1)),cg(t,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:u&&u.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let o;if((o=this.rules.inline.reflink.exec(e))||(o=this.rules.inline.nolink.exec(e))){const l=(o[2]||o[1]).replace(/\s+/g," "),u=t[l.toLowerCase()];if(!u){const p=o[0].charAt(0);return{type:"text",raw:p,text:p}}return cg(o,u,o[0],this.lexer)}}emStrong(e,t,o=""){let l=this.rules.inline.emStrongLDelim.exec(e);if(!l||l[3]&&o.match(/[\p{L}\p{N}]/u))return;if(!(l[1]||l[2]||"")||!o||this.rules.inline.punctuation.exec(o)){const p=[...l[0]].length-1;let h,y,g=p,v=0;const x=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(x.lastIndex=0,t=t.slice(-1*e.length+p);(l=x.exec(t))!=null;){if(h=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!h)continue;if(y=[...h].length,l[3]||l[4]){g+=y;continue}else if((l[5]||l[6])&&p%3&&!((p+y)%3)){v+=y;continue}if(g-=y,g>0)continue;y=Math.min(y,y+g+v);const S=[...l[0]][0].length,w=e.slice(0,p+l.index+S+y);if(Math.min(p,y)%2){const L=w.slice(1,-1);return{type:"em",raw:w,text:L,tokens:this.lexer.inlineTokens(L)}}const R=w.slice(2,-2);return{type:"strong",raw:w,text:R,tokens:this.lexer.inlineTokens(R)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let o=t[2].replace(/\n/g," ");const l=/[^ ]/.test(o),u=/^ /.test(o)&&/ $/.test(o);return l&&u&&(o=o.substring(1,o.length-1)),o=It(o,!0),{type:"codespan",raw:t[0],text:o}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let o,l;return t[2]==="@"?(o=It(t[1]),l="mailto:"+o):(o=It(t[1]),l=o),{type:"link",raw:t[0],text:o,href:l,tokens:[{type:"text",raw:o,text:o}]}}}url(e){var o;let t;if(t=this.rules.inline.url.exec(e)){let l,u;if(t[2]==="@")l=It(t[0]),u="mailto:"+l;else{let p;do p=t[0],t[0]=((o=this.rules.inline._backpedal.exec(t[0]))==null?void 0:o[0])??"";while(p!==t[0]);l=It(t[0]),t[1]==="www."?u="http://"+t[0]:u=t[0]}return{type:"link",raw:t[0],text:l,href:u,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let o;return this.lexer.state.inRawBlock?o=t[0]:o=It(t[0]),{type:"text",raw:t[0],text:o}}}}const BA=/^(?: *(?:\n|$))+/,GA=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,HA=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Va=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,FA=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Yg=/(?:[*+-]|\d{1,9}[.)])/,Zg=Ve(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Yg).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),_c=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,YA=/^[^\n]+/,Ec=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ZA=Ve(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Ec).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),$A=Ve(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Yg).getRegex(),Es="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",wc=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,KA=Ve("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",wc).replace("tag",Es).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),$g=Ve(_c).replace("hr",Va).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Es).getRegex(),XA=Ve(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",$g).getRegex(),Ac={blockquote:XA,code:GA,def:ZA,fences:HA,heading:FA,hr:Va,html:KA,lheading:Zg,list:$A,newline:BA,paragraph:$g,table:Na,text:YA},fg=Ve("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Va).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Es).getRegex(),JA={...Ac,table:fg,paragraph:Ve(_c).replace("hr",Va).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",fg).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Es).getRegex()},QA={...Ac,html:Ve(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",wc).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Na,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ve(_c).replace("hr",Va).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Zg).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Kg=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,WA=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Xg=/^( {2,}|\\)\n(?!\s*$)/,jA=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Oa="\\p{P}\\p{S}",eM=Ve(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Oa).getRegex(),tM=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,nM=Ve(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Oa).getRegex(),iM=Ve("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Oa).getRegex(),oM=Ve("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Oa).getRegex(),aM=Ve(/\\([punct])/,"gu").replace(/punct/g,Oa).getRegex(),lM=Ve(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),sM=Ve(wc).replace("(?:-->|$)","-->").getRegex(),rM=Ve("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",sM).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),xs=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,uM=Ve(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",xs).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Jg=Ve(/^!?\[(label)\]\[(ref)\]/).replace("label",xs).replace("ref",Ec).getRegex(),Qg=Ve(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ec).getRegex(),cM=Ve("reflink|nolink(?!\\()","g").replace("reflink",Jg).replace("nolink",Qg).getRegex(),Mc={_backpedal:Na,anyPunctuation:aM,autolink:lM,blockSkip:tM,br:Xg,code:WA,del:Na,emStrongLDelim:nM,emStrongRDelimAst:iM,emStrongRDelimUnd:oM,escape:Kg,link:uM,nolink:Qg,punctuation:eM,reflink:Jg,reflinkSearch:cM,tag:rM,text:jA,url:Na},fM={...Mc,link:Ve(/^!?\[(label)\]\((.*?)\)/).replace("label",xs).getRegex(),reflink:Ve(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",xs).getRegex()},hc={...Mc,escape:Ve(Kg).replace("])","~|])").getRegex(),url:Ve(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},dM={...hc,br:Ve(Xg).replace("{2,}","*").getRegex(),text:Ve(hc.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ns={normal:Ac,gfm:JA,pedantic:QA},Ma={normal:Mc,gfm:hc,breaks:dM,pedantic:fM};class nn{constructor(e){Pe(this,"tokens");Pe(this,"options");Pe(this,"state");Pe(this,"tokenizer");Pe(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||bi,this.options.tokenizer=this.options.tokenizer||new Ts,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:ns.normal,inline:Ma.normal};this.options.pedantic?(t.block=ns.pedantic,t.inline=Ma.pedantic):this.options.gfm&&(t.block=ns.gfm,this.options.breaks?t.inline=Ma.breaks:t.inline=Ma.gfm),this.tokenizer.rules=t}static get rules(){return{block:ns,inline:Ma}}static lex(e,t){return new nn(t).lex(e)}static lexInline(e,t){return new nn(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const o=this.inlineQueue[t];this.inlineTokens(o.src,o.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],o=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(h,y,g)=>y+"    ".repeat(g.length));let l,u,p;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(h=>(l=h.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))){if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length),l.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length),u=t[t.length-1],u&&(u.type==="paragraph"||u.type==="text")?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue[this.inlineQueue.length-1].src=u.text):t.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length),u=t[t.length-1],u&&(u.type==="paragraph"||u.type==="text")?(u.raw+=`
`+l.raw,u.text+=`
`+l.raw,this.inlineQueue[this.inlineQueue.length-1].src=u.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(p=e,this.options.extensions&&this.options.extensions.startBlock){let h=1/0;const y=e.slice(1);let g;this.options.extensions.startBlock.forEach(v=>{g=v.call({lexer:this},y),typeof g=="number"&&g>=0&&(h=Math.min(h,g))}),h<1/0&&h>=0&&(p=e.substring(0,h+1))}if(this.state.top&&(l=this.tokenizer.paragraph(p))){u=t[t.length-1],o&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=u.text):t.push(l),o=p.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length),u=t[t.length-1],u&&u.type==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=u.text):t.push(l);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let o,l,u,p=e,h,y,g;if(this.tokens.links){const v=Object.keys(this.tokens.links);if(v.length>0)for(;(h=this.tokenizer.rules.inline.reflinkSearch.exec(p))!=null;)v.includes(h[0].slice(h[0].lastIndexOf("[")+1,-1))&&(p=p.slice(0,h.index)+"["+"a".repeat(h[0].length-2)+"]"+p.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(h=this.tokenizer.rules.inline.blockSkip.exec(p))!=null;)p=p.slice(0,h.index)+"["+"a".repeat(h[0].length-2)+"]"+p.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(h=this.tokenizer.rules.inline.anyPunctuation.exec(p))!=null;)p=p.slice(0,h.index)+"++"+p.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(y||(g=""),y=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(v=>(o=v.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))){if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),l=t[t.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length),l=t[t.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(e,p,g)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),t.push(o);continue}if(u=e,this.options.extensions&&this.options.extensions.startInline){let v=1/0;const x=e.slice(1);let S;this.options.extensions.startInline.forEach(w=>{S=w.call({lexer:this},x),typeof S=="number"&&S>=0&&(v=Math.min(v,S))}),v<1/0&&v>=0&&(u=e.substring(0,v+1))}if(o=this.tokenizer.inlineText(u)){e=e.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(g=o.raw.slice(-1)),y=!0,l=t[t.length-1],l&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(e){const v="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return t}}class Cs{constructor(e){Pe(this,"options");Pe(this,"parser");this.options=e||bi}space(e){return""}code({text:e,lang:t,escaped:o}){var p;const l=(p=(t||"").match(/^\S*/))==null?void 0:p[0],u=e.replace(/\n$/,"")+`
`;return l?'<pre><code class="language-'+It(l)+'">'+(o?u:It(u,!0))+`</code></pre>
`:"<pre><code>"+(o?u:It(u,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,o=e.start;let l="";for(let h=0;h<e.items.length;h++){const y=e.items[h];l+=this.listitem(y)}const u=t?"ol":"ul",p=t&&o!==1?' start="'+o+'"':"";return"<"+u+p+`>
`+l+"</"+u+`>
`}listitem(e){let t="";if(e.task){const o=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=o+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=o+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:o+" ",text:o+" "}):t+=o+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",o="";for(let u=0;u<e.header.length;u++)o+=this.tablecell(e.header[u]);t+=this.tablerow({text:o});let l="";for(let u=0;u<e.rows.length;u++){const p=e.rows[u];o="";for(let h=0;h<p.length;h++)o+=this.tablecell(p[h]);l+=this.tablerow({text:o})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+l+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),o=e.header?"th":"td";return(e.align?`<${o} align="${e.align}">`:`<${o}>`)+t+`</${o}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:o}){const l=this.parser.parseInline(o),u=rg(e);if(u===null)return l;e=u;let p='<a href="'+e+'"';return t&&(p+=' title="'+t+'"'),p+=">"+l+"</a>",p}image({href:e,title:t,text:o}){const l=rg(e);if(l===null)return o;e=l;let u=`<img src="${e}" alt="${o}"`;return t&&(u+=` title="${t}"`),u+=">",u}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class Rc{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class on{constructor(e){Pe(this,"options");Pe(this,"renderer");Pe(this,"textRenderer");this.options=e||bi,this.options.renderer=this.options.renderer||new Cs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Rc}static parse(e,t){return new on(t).parse(e)}static parseInline(e,t){return new on(t).parseInline(e)}parse(e,t=!0){let o="";for(let l=0;l<e.length;l++){const u=e[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const h=u,y=this.options.extensions.renderers[h.type].call({parser:this},h);if(y!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)){o+=y||"";continue}}const p=u;switch(p.type){case"space":{o+=this.renderer.space(p);continue}case"hr":{o+=this.renderer.hr(p);continue}case"heading":{o+=this.renderer.heading(p);continue}case"code":{o+=this.renderer.code(p);continue}case"table":{o+=this.renderer.table(p);continue}case"blockquote":{o+=this.renderer.blockquote(p);continue}case"list":{o+=this.renderer.list(p);continue}case"html":{o+=this.renderer.html(p);continue}case"paragraph":{o+=this.renderer.paragraph(p);continue}case"text":{let h=p,y=this.renderer.text(h);for(;l+1<e.length&&e[l+1].type==="text";)h=e[++l],y+=`
`+this.renderer.text(h);t?o+=this.renderer.paragraph({type:"paragraph",raw:y,text:y,tokens:[{type:"text",raw:y,text:y}]}):o+=y;continue}default:{const h='Token with "'+p.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return o}parseInline(e,t){t=t||this.renderer;let o="";for(let l=0;l<e.length;l++){const u=e[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const h=this.options.extensions.renderers[u.type].call({parser:this},u);if(h!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(u.type)){o+=h||"";continue}}const p=u;switch(p.type){case"escape":{o+=t.text(p);break}case"html":{o+=t.html(p);break}case"link":{o+=t.link(p);break}case"image":{o+=t.image(p);break}case"strong":{o+=t.strong(p);break}case"em":{o+=t.em(p);break}case"codespan":{o+=t.codespan(p);break}case"br":{o+=t.br(p);break}case"del":{o+=t.del(p);break}case"text":{o+=t.text(p);break}default:{const h='Token with "'+p.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return o}}class Ia{constructor(e){Pe(this,"options");this.options=e||bi}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}Pe(Ia,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var bn,Wg,mc,jg;class pM{constructor(...e){_h(this,bn);Pe(this,"defaults",bc());Pe(this,"options",this.setOptions);Pe(this,"parse",ba(this,bn,mc).call(this,nn.lex,on.parse));Pe(this,"parseInline",ba(this,bn,mc).call(this,nn.lexInline,on.parseInline));Pe(this,"Parser",on);Pe(this,"Renderer",Cs);Pe(this,"TextRenderer",Rc);Pe(this,"Lexer",nn);Pe(this,"Tokenizer",Ts);Pe(this,"Hooks",Ia);this.use(...e)}walkTokens(e,t){var l,u;let o=[];for(const p of e)switch(o=o.concat(t.call(this,p)),p.type){case"table":{const h=p;for(const y of h.header)o=o.concat(this.walkTokens(y.tokens,t));for(const y of h.rows)for(const g of y)o=o.concat(this.walkTokens(g.tokens,t));break}case"list":{const h=p;o=o.concat(this.walkTokens(h.items,t));break}default:{const h=p;(u=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&u[h.type]?this.defaults.extensions.childTokens[h.type].forEach(y=>{const g=h[y].flat(1/0);o=o.concat(this.walkTokens(g,t))}):h.tokens&&(o=o.concat(this.walkTokens(h.tokens,t)))}}return o}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(o=>{const l={...o};if(l.async=this.defaults.async||l.async||!1,o.extensions&&(o.extensions.forEach(u=>{if(!u.name)throw new Error("extension name required");if("renderer"in u){const p=t.renderers[u.name];p?t.renderers[u.name]=function(...h){let y=u.renderer.apply(this,h);return y===!1&&(y=p.apply(this,h)),y}:t.renderers[u.name]=u.renderer}if("tokenizer"in u){if(!u.level||u.level!=="block"&&u.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const p=t[u.level];p?p.unshift(u.tokenizer):t[u.level]=[u.tokenizer],u.start&&(u.level==="block"?t.startBlock?t.startBlock.push(u.start):t.startBlock=[u.start]:u.level==="inline"&&(t.startInline?t.startInline.push(u.start):t.startInline=[u.start]))}"childTokens"in u&&u.childTokens&&(t.childTokens[u.name]=u.childTokens)}),l.extensions=t),o.renderer){const u=this.defaults.renderer||new Cs(this.defaults);for(const p in o.renderer){if(!(p in u))throw new Error(`renderer '${p}' does not exist`);if(["options","parser"].includes(p))continue;const h=p;let y=o.renderer[h];o.useNewRenderer||(y=ba(this,bn,Wg).call(this,y,h,u));const g=u[h];u[h]=(...v)=>{let x=y.apply(u,v);return x===!1&&(x=g.apply(u,v)),x||""}}l.renderer=u}if(o.tokenizer){const u=this.defaults.tokenizer||new Ts(this.defaults);for(const p in o.tokenizer){if(!(p in u))throw new Error(`tokenizer '${p}' does not exist`);if(["options","rules","lexer"].includes(p))continue;const h=p,y=o.tokenizer[h],g=u[h];u[h]=(...v)=>{let x=y.apply(u,v);return x===!1&&(x=g.apply(u,v)),x}}l.tokenizer=u}if(o.hooks){const u=this.defaults.hooks||new Ia;for(const p in o.hooks){if(!(p in u))throw new Error(`hook '${p}' does not exist`);if(p==="options")continue;const h=p,y=o.hooks[h],g=u[h];Ia.passThroughHooks.has(p)?u[h]=v=>{if(this.defaults.async)return Promise.resolve(y.call(u,v)).then(S=>g.call(u,S));const x=y.call(u,v);return g.call(u,x)}:u[h]=(...v)=>{let x=y.apply(u,v);return x===!1&&(x=g.apply(u,v)),x}}l.hooks=u}if(o.walkTokens){const u=this.defaults.walkTokens,p=o.walkTokens;l.walkTokens=function(h){let y=[];return y.push(p.call(this,h)),u&&(y=y.concat(u.call(this,h))),y}}this.defaults={...this.defaults,...l}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return nn.lex(e,t??this.defaults)}parser(e,t){return on.parse(e,t??this.defaults)}}bn=new WeakSet,Wg=function(e,t,o){switch(t){case"heading":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,o.parser.parseInline(l.tokens),l.depth,VA(o.parser.parseInline(l.tokens,o.parser.textRenderer)))};case"code":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text,l.lang,!!l.escaped)};case"table":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);let u="",p="";for(let y=0;y<l.header.length;y++)p+=this.tablecell({text:l.header[y].text,tokens:l.header[y].tokens,header:!0,align:l.align[y]});u+=this.tablerow({text:p});let h="";for(let y=0;y<l.rows.length;y++){const g=l.rows[y];p="";for(let v=0;v<g.length;v++)p+=this.tablecell({text:g[v].text,tokens:g[v].tokens,header:!1,align:l.align[v]});h+=this.tablerow({text:p})}return e.call(this,u,h)};case"blockquote":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);const u=this.parser.parse(l.tokens);return e.call(this,u)};case"list":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);const u=l.ordered,p=l.start,h=l.loose;let y="";for(let g=0;g<l.items.length;g++){const v=l.items[g],x=v.checked,S=v.task;let w="";if(v.task){const R=this.checkbox({checked:!!x});h?v.tokens.length>0&&v.tokens[0].type==="paragraph"?(v.tokens[0].text=R+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&v.tokens[0].tokens[0].type==="text"&&(v.tokens[0].tokens[0].text=R+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:R+" "}):w+=R+" "}w+=this.parser.parse(v.tokens,h),y+=this.listitem({type:"list_item",raw:w,text:w,task:S,checked:!!x,loose:h,tokens:v.tokens})}return e.call(this,y,u,p)};case"html":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text,l.block)};case"paragraph":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"escape":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)};case"link":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.href,l.title,this.parser.parseInline(l.tokens))};case"image":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.href,l.title,l.text)};case"strong":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"em":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"codespan":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)};case"del":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"text":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)}}return e},mc=function(e,t){return(o,l)=>{const u={...l},p={...this.defaults,...u};this.defaults.async===!0&&u.async===!1&&(p.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),p.async=!0);const h=ba(this,bn,jg).call(this,!!p.silent,!!p.async);if(typeof o>"u"||o===null)return h(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return h(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));if(p.hooks&&(p.hooks.options=p),p.async)return Promise.resolve(p.hooks?p.hooks.preprocess(o):o).then(y=>e(y,p)).then(y=>p.hooks?p.hooks.processAllTokens(y):y).then(y=>p.walkTokens?Promise.all(this.walkTokens(y,p.walkTokens)).then(()=>y):y).then(y=>t(y,p)).then(y=>p.hooks?p.hooks.postprocess(y):y).catch(h);try{p.hooks&&(o=p.hooks.preprocess(o));let y=e(o,p);p.hooks&&(y=p.hooks.processAllTokens(y)),p.walkTokens&&this.walkTokens(y,p.walkTokens);let g=t(y,p);return p.hooks&&(g=p.hooks.postprocess(g)),g}catch(y){return h(y)}}},jg=function(e,t){return o=>{if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const l="<p>An error occurred:</p><pre>"+It(o.message+"",!0)+"</pre>";return t?Promise.resolve(l):l}if(t)return Promise.reject(o);throw o}};const Si=new pM;function Ie(s,e){return Si.parse(s,e)}Ie.options=Ie.setOptions=function(s){return Si.setOptions(s),Ie.defaults=Si.defaults,Gg(Ie.defaults),Ie};Ie.getDefaults=bc;Ie.defaults=bi;Ie.use=function(...s){return Si.use(...s),Ie.defaults=Si.defaults,Gg(Ie.defaults),Ie};Ie.walkTokens=function(s,e){return Si.walkTokens(s,e)};Ie.parseInline=Si.parseInline;Ie.Parser=on;Ie.parser=on.parse;Ie.Renderer=Cs;Ie.TextRenderer=Rc;Ie.Lexer=nn;Ie.lexer=nn.lex;Ie.Tokenizer=Ts;Ie.Hooks=Ia;Ie.parse=Ie;Ie.options;Ie.setOptions;Ie.use;Ie.walkTokens;Ie.parseInline;on.parse;nn.lex;const hM=s=>{const e=[],t=/```(\w*)\n([\s\S]*?)\n```/g;let o=0,l;for(;(l=t.exec(s))!==null;)l.index>o&&e.push({type:"text",content:s.substring(o,l.index)}),e.push({type:"code",language:l[1]||"plaintext",content:l[2].trim()}),o=t.lastIndex;return o<s.length&&e.push({type:"text",content:s.substring(o)}),e},mM=({module:s,isApiKeyMissing:e,onQuizComplete:t})=>{const[o,l]=Me.useState({image:null,isLoading:!1,error:null}),u=async()=>{if(!s||e){l({image:null,isLoading:!1,error:e?"Cannot generate diagram: Gemini API Key is missing.":"Module data is missing."});return}l({image:null,isLoading:!0,error:null});const h=`Create a clear and visually informative diagram to explain the core concepts of: "${s.title}". 
    The diagram should be suitable for a technical learning platform about Solidity and blockchain. 
    Key aspects to illustrate include: "${s.summary}". 
    Relevant keywords for context: ${s.keywords.join(", ")}. 
    Style: Use a clean, modern, flat design. Prefer interconnected nodes, flowcharts, or conceptual maps. Avoid overly cartoonish or overly complex imagery. Ensure text within the diagram (if any) is legible. Output as a PNG.`,y=await NA(h);y.base64Image?l({image:y.base64Image,isLoading:!1,error:null}):l({image:null,isLoading:!1,error:y.error||"Failed to generate diagram."})};if(Me.useEffect(()=>{l({image:null,isLoading:!1,error:null})},[s]),!s){let h="Select a module from the sidebar to start your learning journey.";return e&&(h="Select a module from the sidebar to view its content. AI features and automatic module loading are unavailable until the Gemini API Key is configured."),A.jsxs("div",{className:"p-8 text-center text-brand-text-muted",children:[A.jsx("h2",{className:"text-2xl font-semibold mb-4 text-brand-text-primary",children:"Welcome to Solidity DevPath!"}),A.jsx("p",{className:"text-lg mb-6",children:h}),A.jsx("img",{src:"https://images.unsplash.com/photo-1639322537228-f710d846310a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8YmxvY2tjaGFpbnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=600&q=60",alt:"Blockchain learning placeholder",className:"mt-8 rounded-lg shadow-xl mx-auto opacity-70 max-w-md w-full h-auto"}),A.jsxs("p",{className:"text-xs text-brand-text-muted text-center mt-2 opacity-60",children:["Photo by"," ",A.jsx("a",{href:"https://unsplash.com/@eaterscollective",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-brand-accent transition-colors",children:"Eaters Collective"})," ","on"," ",A.jsx("a",{href:"https://unsplash.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-brand-accent transition-colors",children:"Unsplash"})]})]})}const p=hM(s.content);return A.jsxs("article",{className:"p-6 md:p-8 bg-brand-surface-2 rounded-lg shadow-md text-brand-text-secondary space-y-8",children:[A.jsx("header",{className:"pb-4 border-b border-brand-bg-medium/60",children:A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-brand-primary mb-1",children:s.title}),A.jsxs("p",{className:"text-sm text-brand-text-muted italic",children:[s.category," - ",s.level]})]}),A.jsx("span",{className:`text-xs font-semibold px-3 py-1 rounded-full h-fit
                ${s.level==="Beginner"?"bg-green-600/80 text-green-100":s.level==="Intermediate"?"bg-yellow-600/80 text-yellow-100":s.level==="Advanced"?"bg-red-600/80 text-red-100":s.level==="Master"?"bg-purple-600/80 text-purple-100":"bg-gray-600/80 text-gray-100"}`,children:s.level})]})}),A.jsxs("section",{children:[A.jsx("h2",{className:"text-xl font-semibold text-brand-text-primary mb-2",children:"Summary"}),A.jsx("p",{className:"text-brand-text-secondary leading-relaxed",children:s.summary})]}),!e&&A.jsxs("section",{className:"p-4 border border-brand-bg-light/50 rounded-lg bg-brand-surface-1 shadow",children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx(vs,{className:"w-6 h-6 text-brand-accent"}),A.jsx("h2",{className:"text-lg font-semibold text-brand-accent",children:"Visual Explanation"})]}),A.jsxs("button",{onClick:u,disabled:o.isLoading||e,className:"px-4 py-2 bg-brand-primary text-white text-sm font-medium rounded-md hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-brand-accent disabled:opacity-60 disabled:cursor-not-allowed transition-colors",children:[o.isLoading?A.jsx(ys,{className:"w-5 h-5 mr-2 inline"}):null,o.isLoading?"Generating...":o.image?"Re-generate Diagram":"Generate Diagram"]})]}),o.isLoading&&A.jsxs("div",{className:"flex items-center justify-center h-48 bg-brand-bg-medium rounded-md p-4",children:[A.jsx(ys,{className:"w-10 h-10 text-brand-accent"}),A.jsx("p",{className:"ml-3 text-brand-text-muted",children:"Generating diagram, please wait..."})]}),o.error&&!o.isLoading&&A.jsxs("div",{className:"p-3 my-2 bg-red-700/20 border border-red-600/50 text-red-200 rounded-md text-sm",children:[A.jsx("p",{className:"font-semibold",children:"Error generating diagram:"}),A.jsx("p",{children:o.error})]}),o.image&&!o.isLoading&&!o.error&&A.jsx("div",{className:"mt-2 p-2 border border-brand-bg-light/50 rounded-md bg-brand-bg-dark flex justify-center items-center",children:A.jsx("img",{src:o.image,alt:`AI-generated diagram for ${s.title}`,className:"max-w-full h-auto rounded-md shadow-lg"})}),e&&A.jsx("p",{className:"text-xs text-brand-text-muted mt-2",children:"Diagram generation is disabled. Please configure your Gemini API Key."})]}),A.jsxs("section",{className:"space-y-4",children:[A.jsx("h2",{className:"text-xl font-semibold text-brand-text-primary mb-3",children:"Details"}),p.map((h,y)=>h.type==="code"?A.jsxs("div",{className:"relative group bg-brand-bg-dark p-4 rounded-md shadow-lg my-4",children:[A.jsx("div",{className:"absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition-opacity duration-200",children:A.jsx(HT,{textToCopy:h.content})}),A.jsx("pre",{className:"text-sm text-gray-300 overflow-x-auto font-mono whitespace-pre-wrap leading-relaxed",children:A.jsx("code",{children:h.content})}),h.language&&h.language!=="plaintext"&&A.jsx("span",{className:"absolute bottom-2 right-2 text-xs text-brand-text-muted opacity-70",children:h.language})]},y):A.jsx("div",{className:"prose prose-sm md:prose-base max-w-none",dangerouslySetInnerHTML:{__html:Ie.parse(h.content)}},y))]}),s.videoEmbedUrl&&A.jsxs("section",{children:[A.jsx("h2",{className:"text-xl font-semibold text-brand-text-primary mb-3",children:"Watch & Learn"}),A.jsx("div",{className:"aspect-w-16 aspect-h-9 rounded-lg overflow-hidden shadow-md",children:A.jsx("iframe",{src:s.videoEmbedUrl,title:`${s.title} Video Tutorial`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})]}),s.quiz&&A.jsxs("section",{children:[A.jsx("h2",{className:"text-xl font-semibold text-brand-text-primary mb-4",children:"Test Your Knowledge"}),A.jsx(PT,{quizData:s.quiz,moduleId:s.id,onQuizComplete:t})]}),s.keywords&&s.keywords.length>0&&A.jsxs("footer",{className:"pt-6 border-t border-brand-bg-medium/60",children:[A.jsx("h3",{className:"text-sm font-semibold text-brand-text-primary mb-2",children:"Keywords:"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:s.keywords.map(h=>A.jsx("span",{className:"px-3 py-1 bg-brand-bg-medium text-brand-accent text-xs font-medium rounded-full",children:h},h))})]})]})};var pt=(s=>(s.USER="user",s.MODEL="model",s.SYSTEM="system",s.ERROR="error",s))(pt||{});const gM=({className:s="w-5 h-5"})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:s,children:A.jsx("path",{d:"M3.105 3.105a1.5 1.5 0 011.995-.086L16.25 9.04l.01.004a1.5 1.5 0 01.84 1.39L17.082 12a1.5 1.5 0 01-1.568 1.448L6.833 15.19l-.005.001a1.5 1.5 0 01-1.436-2.59L9.5 10l-4.102-2.608a1.5 1.5 0 01-.293-2.287z"})}),yM=({className:s="w-6 h-6"})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),vM=({chatMessages:s,onSendMessage:e,isLoading:t,currentModuleTitle:o})=>{const[l,u]=Me.useState(""),p=Me.useRef(null);Me.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[s]);const h=g=>{g.preventDefault(),l.trim()&&!t&&(e(l.trim()),u(""))},y=g=>g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return A.jsxs("div",{className:"flex flex-col h-full bg-brand-surface-2 rounded-lg shadow-lg overflow-hidden",children:[A.jsxs("header",{className:"p-4 border-b border-brand-bg-light/50 bg-brand-surface-1",children:[A.jsx("h2",{className:"text-lg font-semibold text-brand-accent",children:"AI Learning Assistant"}),o&&A.jsxs("p",{className:"text-xs text-brand-text-muted",children:["Focusing on: ",o]})]}),A.jsxs("div",{ref:p,className:"flex-grow p-4 space-y-4 overflow-y-auto bg-brand-surface-1/50",children:[s.map(g=>A.jsx("div",{className:`flex ${g.role===pt.USER?"justify-end":"justify-start"}`,children:A.jsxs("div",{className:`flex items-start max-w-xs md:max-w-md lg:max-w-lg xl:max-w-xl break-words ${g.role===pt.USER?"flex-row-reverse":""}`,children:[A.jsx("div",{className:`p-2 rounded-full text-white self-start mx-2 shrink-0 ${g.role===pt.USER?"bg-brand-secondary":"bg-brand-accent"}`,children:g.role===pt.USER?A.jsx(yM,{className:"w-5 h-5"}):A.jsx(vs,{className:"w-5 h-5"})}),A.jsxs("div",{className:`px-4 py-3 rounded-lg shadow ${g.role===pt.USER?"bg-brand-secondary text-white rounded-br-none":g.role===pt.ERROR?"bg-red-600 text-white rounded-bl-none":"bg-brand-bg-light text-brand-text-primary rounded-bl-none"}`,children:[g.text.split(/(\`\`\`[\w\s]*\n[\s\S]*?\n\`\`\`)/g).map((v,x)=>{if(v.startsWith("```")){const S=v.replace(/```[\w\s]*\n?/,"").replace(/\n?```$/,"");return A.jsx("pre",{className:"bg-brand-bg-dark text-brand-text-secondary p-3 my-2 rounded-md text-sm overflow-x-auto whitespace-pre-wrap font-mono",children:S},x)}return A.jsx("span",{className:"whitespace-pre-wrap",children:v},x)}),A.jsx("p",{className:`text-xs mt-2 ${g.role===pt.USER?"text-violet-200 text-right":"text-indigo-200 text-left"}`,children:y(g.timestamp)})]})]})},g.id)),t&&A.jsx("div",{className:"flex justify-start",children:A.jsxs("div",{className:"flex items-start max-w-xs",children:[A.jsx("div",{className:"p-2 rounded-full bg-brand-accent text-white self-start mx-2 shrink-0",children:A.jsx(vs,{className:"w-5 h-5"})}),A.jsx("div",{className:"px-4 py-3 rounded-lg shadow bg-brand-bg-light text-brand-text-primary rounded-bl-none",children:A.jsx(ys,{className:"w-5 h-5 text-brand-accent"})})]})})]}),A.jsx("form",{onSubmit:h,className:"p-4 border-t border-brand-bg-light/50 bg-brand-surface-1",children:A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("input",{type:"text",value:l,onChange:g=>u(g.target.value),placeholder:t?"Assistant is typing...":o?`Ask about ${o}...`:"Ask anything...",className:"flex-grow p-3 bg-brand-bg-medium border border-brand-bg-light text-brand-text-primary placeholder-brand-text-muted rounded-lg focus:ring-2 focus:ring-brand-accent focus:border-transparent outline-none transition-shadow",disabled:t,"aria-label":"Chat message input"}),A.jsx("button",{type:"submit",disabled:t||!l.trim(),className:"p-3 bg-brand-primary text-white rounded-lg hover:bg-violet-800 focus:ring-2 focus:ring-brand-accent focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center","aria-label":"Send message",children:t?A.jsx(ys,{className:"w-5 h-5"}):A.jsx(gM,{className:"w-5 h-5"})})]})})]})},TM=s=>{switch(s){case"Beginner":return"bg-green-500/80 text-green-50";case"Intermediate":return"bg-yellow-500/80 text-yellow-50";case"Advanced":return"bg-red-500/80 text-red-50";case"Master":return"bg-purple-500/80 text-purple-50";default:return"bg-gray-500/80 text-gray-50"}},xM=({completedModuleIds:s,allModules:e,onSwitchToModulesView:t})=>{const o=e.filter(p=>s.includes(p.id)),l={},u=["Beginner","Intermediate","Advanced","Master"];return o.forEach(p=>{l[p.level]||(l[p.level]=[]),l[p.level].push(p)}),A.jsxs("div",{className:"h-full flex flex-col space-y-6",children:[A.jsxs("header",{className:"flex justify-between items-center pb-4 border-b border-brand-bg-light/50",children:[A.jsx("h1",{className:"text-3xl font-bold text-brand-accent",children:"My Learning Achievements"}),A.jsx("button",{onClick:t,className:"px-4 py-2 bg-brand-primary hover:bg-violet-700 text-white text-sm font-medium rounded-md transition-colors",children:" Back to Learning"})]}),o.length===0?A.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center text-brand-text-muted p-8",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mb-4 text-brand-bg-light",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m6 3H9m3-6h6m-1.5 0h.01"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.428 15.428a1 1 0 00-1.414 0l-3.04 3.04a1 1 0 000 1.414l.707.707a1 1 0 001.414 0l3.04-3.04a1 1 0 000-1.414l-.707-.707z"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.572 8.572a1 1 0 000 1.414l3.04 3.04a1 1 0 001.414 0l.707-.707a1 1 0 000-1.414l-3.04-3.04a1 1 0 00-1.414 0l-.707.707z"})]}),A.jsx("h2",{className:"text-2xl font-semibold text-brand-text-primary mb-2",children:"No Achievements Yet!"}),A.jsx("p",{className:"text-lg",children:"Start learning and complete module quizzes to see your progress here."})]}):A.jsx("div",{className:"space-y-8",children:u.map(p=>l[p]&&l[p].length>0&&A.jsxs("section",{children:[A.jsxs("h2",{className:`text-xl font-semibold text-brand-text-primary mb-3 pb-1 border-b border-brand-bg-light/20 ${p==="Beginner"?"text-green-300":p==="Intermediate"?"text-yellow-300":p==="Advanced"?"text-red-300":p==="Master"?"text-purple-300":""}`,children:[p," Modules Completed"]}),A.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l[p].map(h=>A.jsxs("li",{className:"bg-brand-surface-1 p-4 rounded-lg shadow-md border border-brand-bg-light/30 hover:shadow-xl transition-shadow duration-200 flex flex-col justify-between",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsx("h3",{className:"text-lg font-semibold text-brand-accent",children:h.title}),A.jsx(hg,{className:"w-6 h-6 text-green-400 shrink-0"})]}),A.jsxs("p",{className:"text-xs text-brand-text-muted mb-1",children:["Category: ",h.category]})]}),A.jsx("div",{className:"mt-3 pt-3 border-t border-brand-bg-light/20 flex justify-end",children:A.jsx("span",{className:`text-xs font-semibold px-3 py-1 rounded-full ${TM(h.level)}`,children:h.level})})]},h.id))})]},p))})]})},is=[{id:"solidity-intro",title:"Introduction to Solidity",category:"Solidity Basics",level:"Beginner",summary:'Understand the fundamentals of Solidity, the primary language for Ethereum smart contracts, its key characteristics, and see a basic "Hello World" example.',content:`Solidity is an object-oriented, high-level language for implementing smart contracts. Smart contracts are programs which govern the behaviour of accounts within the Ethereum state. It was influenced by C++, Python, and JavaScript and is designed to target the Ethereum Virtual Machine (EVM).

### Key Characteristics:
*   **Statically-typed:** Variable types must be specified at compile time (e.g., \`uint256\`, \`address\`, \`string\`). This helps in catching errors early.
*   **Object-Oriented:** Supports concepts like contracts (similar to classes), inheritance, and user-defined types (structs, enums).
*   **High-Level:** Abstracts away many of the lower-level details of the EVM, making it more developer-friendly.
*   **EVM Target:** Solidity code is compiled into bytecode that can be executed on the Ethereum Virtual Machine.
*   **Case-Sensitive:** Like JavaScript and C++.

### Why Solidity?
*   **Dominant Language:** It's the most popular and widely adopted language for smart contract development on Ethereum and other EVM-compatible blockchains (e.g., Polygon, Binance Smart Chain, Avalanche).
*   **Rich Ecosystem:** Large community support, extensive libraries (like OpenZeppelin), and mature development tools (Hardhat, Foundry, Remix).
*   **Designed for Contracts:** Includes features specifically for smart contract development, like modifiers, events, and special global variables (\`msg.sender\`, \`block.timestamp\`).

### Basic "Hello World" Contract:
The first line, \`// SPDX-License-Identifier: MIT\`, is a license identifier. It's good practice to include this to specify how your code can be used.
The second line, \`pragma solidity ^0.8.20;\`, tells the compiler which version of Solidity to use. The caret (\`^\`) means the code is compatible with versions from 0.8.20 up to (but not including) 0.9.0.

\`\`\`solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20; // Specifies the compiler version

// Defines a contract named 'HelloWorld'
contract HelloWorld {
    // A state variable to store a string. It's public, so Solidity automatically creates a getter function for it.
    string public greet = "Hello, Solidity learners!";

    // A public function that allows anyone to update the 'greet' state variable.
    // The '_newGreeting' parameter is of type string and stored in 'memory'.
    // 'memory' is used for variables whose lifetime is limited to a function call.
    function updateGreeting(string memory _newGreeting) public {
        greet = _newGreeting;
    }

    // A public view function to retrieve the current greeting.
    // 'view' functions do not modify the state of the contract.
    // 'returns (string memory)' specifies that it returns a string stored in memory.
    function getGreeting() public view returns (string memory) {
        return greet;
    }
}
\`\`\`

### Understanding the Example:
*   **\`contract HelloWorld { ... }\`**: This declares a contract, which is a collection of code (its functions) and data (its state) that resides at a specific address on the Ethereum blockchain.
*   **\`string public greet = "Hello, Solidity learners!";\`**: This is a **state variable**. Its value is permanently stored in the contract's storage on the blockchain. The \`public\` keyword automatically creates a "getter" function, so you can call \`greet()\` from outside the contract to read its value.
*   **\`function updateGreeting(string memory _newGreeting) public { ... }\`**: This is a function that modifies the state variable \`greet\`.
    *   \`string memory _newGreeting\`: Declares a parameter \`_newGreeting\` of type \`string\`. The \`memory\` keyword means this data is temporary and won't be saved to storage directly (unless assigned to a state variable).
    *   \`public\`: Makes the function callable from outside the contract and by other contracts.
*   **\`function getGreeting() public view returns (string memory)\`**: This is a read-only function.
    *   \`view\`: Indicates that the function does not modify the contract's state. Calling view functions does not cost gas if called externally (not from another contract transaction).
    *   \`returns (string memory)\`: Specifies that this function returns a string stored in memory.

This simple contract demonstrates the basic syntax for defining state variables and functions in Solidity. As you progress, you'll learn about more complex data types, control structures, inheritance, and security considerations.
    `,keywords:["solidity","smart contracts","ethereum","introduction","evm","blockchain programming","hello world"],geminiPromptSeed:"Explain the core concepts of Solidity for a beginner, focusing on its purpose in blockchain development, its key characteristics, and walk through a simple 'HelloWorld' contract line by line, explaining state variables, functions, visibility (public), and data locations (memory).",videoEmbedUrl:"https://www.youtube.com/embed/M576WGiDBdQ",quiz:{title:"Solidity Fundamentals Quiz",questions:[{id:"q1-solidity-type",questionText:"Is Solidity a statically-typed or dynamically-typed language?",options:[{id:"q1o1",text:"Statically-typed"},{id:"q1o2",text:"Dynamically-typed"}],correctOptionId:"q1o1",explanation:"Solidity is statically-typed, meaning variable types must be declared at compile time. This helps catch errors early."},{id:"q2-solidity-evm",questionText:"What virtual machine does Solidity code primarily target for execution?",options:[{id:"q2o1",text:"Java Virtual Machine (JVM)"},{id:"q2o2",text:"Ethereum Virtual Machine (EVM)"},{id:"q2o3",text:".NET CLR"}],correctOptionId:"q2o2",explanation:"Solidity compiles to bytecode that runs on the Ethereum Virtual Machine (EVM), the runtime environment for smart contracts on Ethereum."},{id:"q3-solidity-pragma",questionText:"What is the purpose of the 'pragma solidity' directive in a Solidity file?",options:[{id:"q3o1",text:"To import libraries."},{id:"q3o2",text:"To declare the contract's name."},{id:"q3o3",text:"To specify the compatible Solidity compiler version(s)."}],correctOptionId:"q3o3",explanation:"The 'pragma solidity' directive specifies the version(s) of the Solidity compiler that the source code is written for, ensuring compatibility."}]}},{id:"contract-structure",title:"Smart Contract Structure",category:"Solidity Basics",level:"Beginner",summary:"Learn about the typical structure of a Solidity smart contract, including license identifiers, pragma directives, imports, and the core contract definition with its components like state variables, functions, events, and modifiers.",content:`A Solidity smart contract is typically organized into several distinct parts. Understanding this structure is crucial for writing clear, maintainable, and secure contracts.

### 1. SPDX License Identifier (Recommended)
   \`// SPDX-License-Identifier: MIT\`
   *   **Purpose:** Specifies the license under which the contract's source code is released (e.g., MIT, GPL-3.0). This is not enforced by the compiler but is a best practice for open-source projects to clarify usage rights.
   *   **Placement:** Usually the very first line of the Solidity file.

### 2. Pragma Directive
   \`pragma solidity ^0.8.20;\`
   *   **Purpose:** Declares the Solidity compiler version(s) the source code is compatible with.
        *   \`^0.8.20\`: Means the code is compatible with compiler versions from 0.8.20 up to (but not including) 0.9.0.
        *   \`>=0.8.0 <0.9.0\`: Another way to specify a range.
   *   **Importance:** Ensures the code is compiled with a compiler version that understands its syntax and features, preventing unexpected behavior or compilation errors due to version incompatibilities.

### 3. Import Statements (Optional)
   \`import "./MyLibrary.sol";\`
   \`import "@openzeppelin/contracts/utils/Context.sol";\`
   *   **Purpose:** Allows you to use code from other Solidity files (local or from installed libraries like OpenZeppelin). This promotes code reusability and modularity.
   *   **Types of Imports:**
        *   Local files: \`import "./AnotherContract.sol";\`
        *   NPM packages: \`import "@openzeppelin/contracts/access/Ownable.sol";\` (requires installation via npm/yarn).
        *   Importing specific symbols: \`import {SpecificFunction, SpecificStruct} from "./MyLibrary.sol";\`
        *   Aliasing imports: \`import "./MyLibrary.sol" as Lib;\`

### 4. Contract Definition
   This is the core of your smart contract.
   \`contract MyContract { ... }\`
   or for inheritance:
   \`import "@openzeppelin/contracts/access/Ownable.sol";\`
   \`contract MyToken is Ownable { ... }\`

   Inside the contract block, you define its members:

   **a) State Variables:**
      Variables whose values are permanently stored in the contract's storage on the blockchain.
      \`\`\`solidity
      uint256 public totalSupply;
      address public owner;
      mapping(address => uint256) public balances;
      string private secretMessage;
      \`\`\`
      *   They define the state of the contract.
      *   Modifying them costs gas.
      *   Visibility keywords (\`public\`, \`internal\`, \`private\`) control accessibility. \`public\` automatically creates a getter function.

   **b) Structs (User-Defined Types):**
      Allow you to create more complex data types by grouping several variables.
      \`\`\`solidity
      struct Voter {
          uint weight;
          bool voted;
          address delegate;
          uint vote;
      }
      mapping(address => Voter) public voters;
      \`\`\`

   **c) Enums (User-Defined Types):**
      Used to create custom types with a finite set of constant values.
      \`\`\`solidity
      enum State { Created, Locked, Inactive }
      State public currentState;
      \`\`\`

   **d) Events:**
      A way for smart contracts to communicate with the outside world (e.g., frontend applications) that something significant has happened. Events are logged on the blockchain and can be listened to.
      \`\`\`solidity
      event Transfer(address indexed _from, address indexed _to, uint256 _value);
      event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);
      \`\`\`
      *   \`indexed\` parameters can be filtered by listeners.

   **e) Modifiers:**
      Reusable pieces of code that can be used to change the behavior of functions, often for validation or access control, before the function body is executed.
      \`\`\`solidity
      modifier onlyOwner() {
          require(msg.sender == owner, "Not the owner");
          _; // Indicates where the modified function's code will be inserted.
      }

      function criticalAction() public onlyOwner {
          // ... logic accessible only by the owner
      }
      \`\`\`

   **f) Constructor (Optional):**
      A special function that is executed only once when the contract is deployed. Often used to initialize state variables. It has the same name as the contract or can be declared with the \`constructor\` keyword.
      \`\`\`solidity
      constructor(uint256 _initialSupply) {
          owner = msg.sender;
          totalSupply = _initialSupply;
          balances[msg.sender] = _initialSupply;
      }
      \`\`\`

   **g) Functions:**
      Define the executable units of code within a contract. They determine how the contract behaves and how users interact with it.
      \`\`\`solidity
      function transfer(address _to, uint256 _amount) public returns (bool success) {
          require(balances[msg.sender] >= _amount, "Insufficient balance");
          balances[msg.sender] -= _amount;
          balances[_to] += _amount;
          emit Transfer(msg.sender, _to, _amount);
          return true;
      }

      function getBalance(address _account) public view returns (uint256) {
          return balances[_account];
      }
      \`\`\`
      *   Functions have visibility (\`public\`, \`private\`, \`internal\`, \`external\`).
      *   They can modify state (default), be \`view\` (read-only), or \`pure\` (neither reads from nor writes to state).
      *   They can accept parameters and return values.

### Example Illustrating Structure:
\`\`\`solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20;

import "@openzeppelin/contracts/access/Ownable.sol"; // Example import

// This contract demonstrates a basic structure.
contract StructuredContract is Ownable { // Inheritance

    // State Variables
    uint256 public value;
    mapping(address => uint256) public userValues;

    // Struct
    struct Item {
        string name;
        uint256 price;
    }
    Item public featuredItem;

    // Event
    event ValueSet(address indexed user, uint256 newValue);

    // Modifier (using one from Ownable, but could define custom ones)
    // e.g., modifier costs(uint _amount) { require(msg.value >= _amount); _; }

    // Constructor
    constructor(uint256 _initialValue, string memory _itemName, uint256 _itemPrice) Ownable(msg.sender) {
        value = _initialValue;
        featuredItem = Item(_itemName, _itemPrice);
        // Ownable(msg.sender) initializes the owner from OpenZeppelin's Ownable contract
    }

    // Function
    function setValue(uint256 _newValue) public {
        value = _newValue;
        userValues[msg.sender] = _newValue;
        emit ValueSet(msg.sender, _newValue);
    }

    function getValue() public view returns (uint256) {
        return value;
    }

    function getFeaturedItemPrice() public view returns (uint256) {
        return featuredItem.price;
    }

    // Function using a modifier from Ownable
    function changeFeaturedItemName(string memory _newName) public onlyOwner {
        featuredItem.name = _newName;
    }
}
\`\`\`
Understanding these components and their typical arrangement is foundational to writing well-organized and effective Solidity smart contracts.
    `,keywords:["solidity","structure","contract","state variables","functions","events","modifiers","constructor","pragma","import","spdx"],geminiPromptSeed:"Describe the standard structure of a Solidity smart contract, detailing each common component like SPDX license, pragma, imports, state variables, structs, enums, events, modifiers, constructor, and functions. Provide simple examples for each component within a contract structure.",videoEmbedUrl:"https://www.youtube.com/embed/YSst2j9u164",quiz:{title:"Contract Structure Quiz",questions:[{id:"q1-struct-spdx",questionText:"What is the primary purpose of the SPDX License Identifier in a Solidity file?",options:[{id:"q1o1",text:"To specify the Solidity compiler version."},{id:"q1o2",text:"To declare the contract's name."},{id:"q1o3",text:"To indicate the software license under which the code is released."}],correctOptionId:"q1o3",explanation:"The SPDX License Identifier (e.g., // SPDX-License-Identifier: MIT) specifies the open-source license, clarifying how others can use the code."},{id:"q2-struct-constructor",questionText:"When is the constructor of a Solidity smart contract executed?",options:[{id:"q2o1",text:"Every time a function is called."},{id:"q2o2",text:"Only once, when the contract is deployed."},{id:"q2o3",text:"Whenever a state variable is updated."}],correctOptionId:"q2o2",explanation:"The constructor is a special function that runs only once during the contract's deployment, typically for initialization."},{id:"q3-struct-event",questionText:"What is a primary use of 'events' in Solidity?",options:[{id:"q3o1",text:"To perform complex mathematical calculations."},{id:"q3o2",text:"To store large amounts of data permanently on the blockchain."},{id:"q3o3",text:"To log significant occurrences and communicate them to external applications."}],correctOptionId:"q3o3",explanation:"Events are used to emit logs to the blockchain, which external applications (like UIs) can listen to, to be notified of contract activities (e.g., a token transfer)."}]}},{id:"dev-tools",title:"Development Tools Overview",category:"Development Environment",level:"Beginner",summary:"Get an overview of popular tools for Solidity development like Remix, Hardhat, Foundry, and essential JavaScript libraries like Ethers.js and Web3.js for dApp interaction.",content:`Efficient Solidity development hinges on using the right tools. These tools help you write, test, deploy, and interact with your smart contracts. Here's an overview of some essential ones:

### 1. Integrated Development Environments (IDEs) & Frameworks

**a) Remix IDE**
*   **What it is:** A powerful, open-source, browser-based IDE for Solidity development.
*   **Key Features:**
    *   Code editor with syntax highlighting and linting.
    *   Built-in Solidity compiler.
    *   Debugger to step through code execution.
    *   Deployment to various networks (simulated JavaScript VM, testnets, mainnet via MetaMask).
    *   Plugin architecture for extended functionality (e.g., static analysis, gas profiler).
*   **Pros for Beginners:**
    *   **Easy to Start:** No local setup required, just open it in your browser.
    *   **Great for Learning:** Excellent for writing your first contracts and understanding core concepts.
    *   **Quick Prototyping:** Rapidly test ideas and small contracts.
*   **Usage Example:** You can write, compile, deploy a simple contract like \`HelloWorld\`, and interact with its functions (\`updateGreeting\`, \`getGreeting\`) all within the Remix interface.

**b) Hardhat**
*   **What it is:** A flexible and extensible Ethereum development environment based on JavaScript and Node.js.
*   **Key Features:**
    *   **Project Setup:** Easy project scaffolding (\`npx hardhat\`).
    *   **Compilation:** Seamlessly compiles Solidity code (\`npx hardhat compile\`).
    *   **Testing:** Robust testing framework using JavaScript/TypeScript (with libraries like Mocha, Chai, and Ethers.js for contract interaction). You write tests in files like \`test/my-contract-test.js\`.
    *   **Deployment Scripting:** Write scripts (e.g., \`scripts/deploy.js\`) to deploy your contracts to any network.
    *   **Hardhat Network:** A local Ethereum network designed for development. It mimics the behavior of a real network but runs locally, allowing for instant transaction mining and easy debugging (e.g., \`console.log\` in Solidity).
    *   **Mainnet Forking:** Test your contracts against the live state of the Ethereum mainnet locally.
    *   **Extensive Plugin Ecosystem:** Many plugins for additional functionalities (e.g., Etherscan verification, gas reporting, contract sizing).
*   **Workflow Example:**
    1.  \`mkdir MyHardhatProject && cd MyHardhatProject\`
    2.  \`npm init -y\`
    3.  \`npm install --save-dev hardhat @nomicfoundation/hardhat-toolbox @nomicfoundation/hardhat-ethers ethers\`
    4.  \`npx hardhat\` (select "Create a JavaScript project")
    5.  Write your contract in \`contracts/MyContract.sol\`.
    6.  Write tests in \`test/MyContract.test.js\`.
    7.  \`npx hardhat test\`
    8.  Write deployment script in \`scripts/deploy.js\`.
    9.  \`npx hardhat run scripts/deploy.js --network localhost\` (after running \`npx hardhat node\`)

**c) Foundry**
*   **What it is:** A fast, portable, and modular toolkit for Ethereum application development, written in Rust.
*   **Core Components:**
    *   **Forge:** A testing framework that allows you to write your tests directly in Solidity.
    *   **Cast:** A command-line interface (CLI) tool for performing Ethereum RPC calls.
    *   **Anvil:** A local testnet node, similar to Hardhat Network.
    *   **Chisel:** A Solidity REPL (Read-Eval-Print Loop).
*   **Key Features:**
    *   **Solidity-Native Testing:** Write tests in \`.t.sol\` files using Solidity.
    *   **Performance:** Known for its speed in compilation and test execution.
    *   **Fuzz Testing:** Built-in support for fuzz testing.
*   **Workflow Example:**
    1.  Install Foundry (see official docs).
    2.  \`forge init MyFoundryProject && cd MyFoundryProject\`
    3.  Write your contract in \`src/MyContract.sol\`.
    4.  Write tests in \`test/MyContract.t.sol\`.
    5.  \`forge test\`
    6.  \`forge script script/MyContract.s.sol --rpc-url <your_rpc_url> --broadcast\` to deploy.

### 2. JavaScript Libraries for Ethereum Interaction
These libraries allow your frontend applications (or backend Node.js services) to communicate with the Ethereum blockchain and smart contracts.

**a) Ethers.js**
*   **What it is:** A complete and compact library for interacting with Ethereum.
*   **Key Features:** Wallet management, contract interaction, sending transactions, event handling.
*   **Usage Example (Frontend with MetaMask):**
    \`\`\`javascript
    import { ethers } from 'ethers';

    async function interactWithContract() {
        if (window.ethereum) {
            const provider = new ethers.BrowserProvider(window.ethereum);
            await provider.send("eth_requestAccounts", []); // Request account access
            const signer = await provider.getSigner();

            const contractAddress = "0xYourContractAddress";
            const contractABI = [ /* Your Contract ABI */ ];
            const contract = new ethers.Contract(contractAddress, contractABI, signer);

            // Read data
            const greeting = await contract.getGreeting();
            console.log("Current greeting:", greeting);

            // Send transaction
            const tx = await contract.updateGreeting("Hello from Ethers!");
            await tx.wait(); // Wait for transaction to be mined
            console.log("Greeting updated!");
        } else {
            console.error("MetaMask not detected!");
        }
    }
    \`\`\`

**b) Web3.js**
*   **What it is:** The original Ethereum JavaScript API.
*   **Key Features:** Similar to Ethers.js.
*   **Usage Example (Frontend with MetaMask):**
    \`\`\`javascript
    import Web3 from 'web3';

    async function interactWithContractWeb3() {
        if (window.ethereum) {
            const web3 = new Web3(window.ethereum);
            await window.ethereum.request({ method: 'eth_requestAccounts' });
            const accounts = await web3.eth.getAccounts();
            const userAddress = accounts[0];

            const contractAddress = "0xYourContractAddress";
            const contractABI = [ /* Your Contract ABI */ ];
            const contract = new web3.eth.Contract(contractABI, contractAddress);

            // Read data
            const greeting = await contract.methods.getGreeting().call();
            console.log("Current greeting:", greeting);

            // Send transaction
            await contract.methods.updateGreeting("Hello from Web3.js!").send({ from: userAddress });
            console.log("Greeting updated!");
        } else {
            console.error("MetaMask not detected!");
        }
    }
    \`\`\`

### 3. Other Notable Mentions
*   **Visual Studio Code (VS Code) with Solidity Extensions:** Extensions like "Solidity" by Nomic Foundation or "Solidity + Hardhat" by Juan Blanco provide syntax highlighting, linting, and framework integration.
*   **Truffle Suite:** Historically significant, includes Truffle (development environment), Ganache (local blockchain), and Drizzle (frontend library).

Choosing the right tools depends on your project's needs and preferences. Remix is great for starting, while Hardhat or Foundry are preferred for larger projects. Ethers.js is a common choice for modern dApp frontends.
    `,keywords:["hardhat","foundry","remix ide","ethers.js","web3.js","tools","framework","javascript","solidity testing","deployment","local network","smart contract development","dapp development","vs code extension","truffle","ganache"],geminiPromptSeed:"Provide a comprehensive overview of essential development tools for Solidity, including Remix IDE, Hardhat, Foundry, Ethers.js, and Web3.js. Explain their primary uses, key features, example workflows or code snippets for interaction, and benefits for smart contract development.",videoEmbedUrl:"https://www.youtube.com/embed/ZnrfkG9aW3c",quiz:{title:"Development Tools Quiz",questions:[{id:"q1-devtools-remix",questionText:"Which development tool is browser-based and excellent for beginners to quickly write and test simple Solidity contracts without local setup?",options:[{id:"q1o1",text:"Hardhat"},{id:"q1o2",text:"Foundry"},{id:"q1o3",text:"Remix IDE"}],correctOptionId:"q1o3",explanation:"Remix IDE is a browser-based IDE that's very convenient for beginners as it requires no local installation to start coding and testing Solidity."},{id:"q2-devtools-hardhatfoundry",questionText:"Which of these development frameworks allows writing tests for Solidity contracts directly in Solidity itself?",options:[{id:"q2o1",text:"Hardhat (primarily with JavaScript/TypeScript)"},{id:"q2o2",text:"Foundry (using Forge)"},{id:"q2o3",text:"Remix IDE (for basic interactions)"}],correctOptionId:"q2o2",explanation:"Foundry, with its component Forge, allows developers to write their smart contract tests in Solidity, which is a key differentiator."},{id:"q3-devtools-ethers",questionText:"What is a primary purpose of JavaScript libraries like Ethers.js or Web3.js in dApp development?",options:[{id:"q3o1",text:"To compile Solidity code into bytecode."},{id:"q3o2",text:"To enable frontend applications to interact with smart contracts on the Ethereum blockchain."},{id:"q3o3",text:"To provide a local blockchain environment for testing."}],correctOptionId:"q3o2",explanation:"Ethers.js and Web3.js are JavaScript libraries that allow web applications (frontends) to connect to Ethereum nodes, read blockchain data, and send transactions to interact with smart contracts."}]}},{id:"erc20-tokens",title:"ERC20 Token Standard",category:"Token Standards",level:"Intermediate",summary:"Learn about the ERC20 standard for fungible tokens on Ethereum, its interface (functions and events), and see an example implementation using OpenZeppelin.",content:`The ERC20 token standard is a widely adopted interface that allows for the implementation of fungible tokens on the Ethereum blockchain. Fungible tokens are interchangeable  one token is equivalent to any other token of the same type (e.g., one US dollar bill is the same as another).

### Importance of ERC20:
*   **Interoperability:** Wallets, exchanges, and other decentralized applications (dApps) can support any ERC20 token by interacting with a common set of functions and events. This greatly simplifies integration.
*   **Standardization:** Provides a clear blueprint for token creators, reducing complexity and potential errors.
*   **Ecosystem Growth:** Has been fundamental to the growth of ICOs (Initial Coin Offerings), DeFi (Decentralized Finance), and many other blockchain applications.

### ERC20 Interface:
The standard defines a set of mandatory and optional functions and events that a compliant contract must implement.

**Mandatory Functions:**
*   \`name() public view returns (string memory)\`: Returns the name of the token (e.g., "MyToken"). (Technically optional in EIP-20, but universally expected).
*   \`symbol() public view returns (string memory)\`: Returns the symbol of the token (e.g., "MTK"). (Technically optional in EIP-20, but universally expected).
*   \`decimals() public view returns (uint8)\`: Returns the number of decimals the token uses (e.g., 18 for Ether). (Technically optional in EIP-20, but universally expected for divisibility).
*   \`totalSupply() public view returns (uint256)\`: Returns the total token supply.
*   \`balanceOf(address account) public view returns (uint256)\`: Returns the token balance of a specific account.
*   \`transfer(address recipient, uint256 amount) public returns (bool)\`: Transfers \`amount\` tokens to \`recipient\` from the caller's account. Must emit the \`Transfer\` event.
*   \`approve(address spender, uint256 amount) public returns (bool)\`: Allows \`spender\` to withdraw from the caller's account multiple times, up to the \`amount\`. Must emit the \`Approval\` event.
*   \`allowance(address owner, address spender) public view returns (uint256)\`: Returns the remaining amount that \`spender\` is allowed to withdraw from \`owner\`.
*   \`transferFrom(address sender, address recipient, uint256 amount) public returns (bool)\`: Transfers \`amount\` tokens from \`sender\` to \`recipient\`, provided the caller has been approved to spend on behalf of \`sender\`. Must emit the \`Transfer\` event.

**Mandatory Events:**
*   \`Transfer(address indexed from, address indexed to, uint256 value)\`: Must be emitted when tokens are transferred, including zero value transfers and minting/burning.
*   \`Approval(address indexed owner, address indexed spender, uint256 value)\`: Must be emitted on any successful call to \`approve\`.

### Example ERC20 Implementation using OpenZeppelin:
OpenZeppelin Contracts provide secure, audited, and community-vetted implementations of common standards like ERC20. It's highly recommended to use them rather than writing an ERC20 from scratch.

\`\`\`solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20;

import "@openzeppelin/contracts/token/ERC20/ERC20.sol";
import "@openzeppelin/contracts/access/Ownable.sol"; // Optional: for minting control

// MyCustomToken inherits from OpenZeppelin's ERC20 contract
contract MyCustomToken is ERC20, Ownable {
    // Constructor:
    // - "My Custom Token" is the token name.
    // - "MCT" is the token symbol.
    // - Ownable(initialOwner) sets the deployer as the owner.
    constructor(address initialOwner) ERC20("My Custom Token", "MCT") Ownable(initialOwner) {
        // Mint initial supply to the contract deployer (owner)
        // The ERC20 constructor from OpenZeppelin doesn't mint tokens automatically.
        // Decimals are 18 by default in OpenZeppelin's ERC20.
        // To mint 1,000,000 tokens with 18 decimals: 1_000_000 * (10**18)
        _mint(initialOwner, 1000000 * (10**uint256(decimals())));
    }

    // Optional: Function to allow the owner to mint more tokens
    function mint(address to, uint256 amount) public onlyOwner {
        _mint(to, amount);
    }

    // Optional: Function to allow users to burn their own tokens
    function burn(uint256 amount) public {
        _burn(msg.sender, amount);
    }

    // Optional: Function to allow an approved spender or owner to burn tokens from an account
    // Requires allowance if msg.sender is not the account owner.
    function burnFrom(address account, uint256 amount) public {
        // OpenZeppelin's _burn handles this if called by an operator for account.
        // For simplicity, we can restrict this or use OpenZeppelin's ERC20Burnable extension.
        // Here, we'll assume _burn is called correctly based on context (e.g., user burns their own, or owner burns).
        // A more robust burnFrom would check allowance if msg.sender != account.
        // However, OpenZeppelin's internal _spendAllowance function is not directly accessible for this logic without modification or using ERC20Burnable.
        // The ERC20Burnable extension is better for this.

        // For this example, let's use the simpler \`_burn\` if the caller is the account holder or has sufficient allowance.
        // A full \`burnFrom\` would involve decreasing allowance manually if OpenZeppelin's ERC20Burnable.sol is not used.
        if (msg.sender != account) {
            uint256 currentAllowance = allowance(account, msg.sender);
            require(currentAllowance >= amount, "ERC20: burn amount exceeds allowance");
            _approve(account, msg.sender, currentAllowance - amount); // Manually decrease allowance
        }
        _burn(account, amount);
    }

    // OpenZeppelin's ERC20 contract already implements all mandatory functions and events.
    // It also includes internal functions like _mint, _burn, _approve, _transfer.
    // The 'decimals()' function in OpenZeppelin's ERC20 defaults to 18.
    // You can override it in your contract if needed:
    // function decimals() public view virtual override returns (uint8) {
    //     return 6; // Example: USDC uses 6 decimals
    // }
}
\`\`\`

### Key Considerations:
*   **Gas Costs:** Interactions with ERC20 tokens cost gas. Complex logic can increase these costs.
*   **Security:** While the standard is well-defined, implementation errors can lead to vulnerabilities. Always use audited libraries like OpenZeppelin when possible.
*   **Extensions:** Many ERC20 extensions exist, like \`ERC20Burnable\`, \`ERC20Pausable\`, \`ERC20Votes\`, etc., provided by OpenZeppelin, which add more functionality.

Understanding ERC20 is fundamental for anyone working with tokens on Ethereum or EVM-compatible chains.
    `,keywords:["erc20","token standard","fungible token","ethereum","openzeppelin","smart contract","interface","balanceof","transfer","approve","transferfrom"],geminiPromptSeed:"Explain the ERC20 token standard in detail. What is its purpose? List and describe all mandatory functions and events. Provide a simple Solidity example of an ERC20 token using OpenZeppelin, including minting initial supply.",videoEmbedUrl:"https://www.youtube.com/embed/8f1w2nbjj1c",quiz:{title:"ERC20 Token Quiz",questions:[{id:"q1-erc20-fungible",questionText:"Are ERC20 tokens typically fungible or non-fungible?",options:[{id:"q1o1",text:"Fungible (interchangeable)"},{id:"q1o2",text:"Non-fungible (unique)"}],correctOptionId:"q1o1",explanation:"ERC20 tokens are fungible, meaning each token of a particular contract is identical and interchangeable with any other token of that same contract."},{id:"q2-erc20-transferfrom",questionText:"Which ERC20 function is used to allow a third party (spender) to transfer tokens on behalf of a token owner?",options:[{id:"q2o1",text:"transfer()"},{id:"q2o2",text:"approve()"},{id:"q2o3",text:"transferFrom()"}],correctOptionId:"q2o3",explanation:"The `transferFrom()` function allows a spender (who has been previously approved via `approve()`) to transfer tokens from an owner's account to a recipient."},{id:"q3-erc20-event",questionText:"What event MUST be emitted when tokens are successfully transferred using `transfer()` or `transferFrom()`?",options:[{id:"q3o1",text:"Approval(address indexed owner, address indexed spender, uint256 value)"},{id:"q3o2",text:"Transfer(address indexed from, address indexed to, uint256 value)"},{id:"q3o3",text:"Minted(address indexed to, uint256 value)"}],correctOptionId:"q3o2",explanation:"The `Transfer` event must be emitted for all token transfers, including minting (where `from` is the zero address) and burning (where `to` is the zero address)."}]}},{id:"nft-erc721",title:"NFTs and ERC721 Standard",category:"Token Standards",level:"Intermediate",summary:"Explore Non-Fungible Tokens (NFTs) and the ERC721 standard, which defines unique, distinguishable tokens. Understand its interface and see an example using OpenZeppelin.",content:`ERC721 is a standard interface for Non-Fungible Tokens (NFTs) on the Ethereum blockchain. Unlike ERC20 tokens where each token is identical (fungible), each ERC721 token is unique and has a distinct identifier (\`tokenId\`). This makes them suitable for representing ownership of unique digital or physical assets.

### What are NFTs?
*   **Unique:** Each token has a unique ID and potentially unique metadata (attributes, images, etc.).
*   **Indivisible:** Typically, an ERC721 token cannot be divided into smaller parts (though ERC1155 offers semi-fungibility).
*   **Ownable:** Each token has a specific owner.
*   **Transferable:** Ownership can be transferred from one account to another.
*   **Use Cases:** Digital art, collectibles, game items, domain names, event tickets, real estate deeds, intellectual property rights.

### ERC721 Interface:
The ERC721 standard defines several functions and events:

**Key Functions:**
*   \`balanceOf(address owner) public view returns (uint256 balance)\`: Returns the number of NFTs owned by a specific \`owner\`.
*   \`ownerOf(uint256 tokenId) public view returns (address owner)\`: Returns the owner of a specific \`tokenId\`. Throws if \`tokenId\` is not a valid NFT.
*   \`safeTransferFrom(address from, address to, uint256 tokenId, bytes calldata data) external payable\`: Transfers ownership of \`tokenId\` from \`from\` to \`to\`. Includes a check to ensure the recipient can receive NFTs safely (if it's a contract).
*   \`safeTransferFrom(address from, address to, uint256 tokenId) external payable\`: Simpler version of the above.
*   \`transferFrom(address from, address to, uint256 tokenId) external payable\`: Transfers ownership. Less safe than \`safeTransferFrom\` as it doesn't check if the recipient contract can handle NFTs.
*   \`approve(address to, uint256 tokenId) external payable\`: Approves an \`address\` (\`to\`) to operate on a specific \`tokenId\` on behalf of the owner. Only one address can be approved per token at a time.
*   \`getApproved(uint256 tokenId) external view returns (address operator)\`: Returns the approved address for a single \`tokenId\`.
*   \`setApprovalForAll(address operator, bool approved) external\`: Approves or revokes an \`operator\` to manage *all* of the owner's NFTs. Useful for marketplaces.
*   \`isApprovedForAll(address owner, address operator) external view returns (bool)\`: Checks if an \`operator\` is approved to manage all NFTs for an \`owner\`.
*   \`supportsInterface(bytes4 interfaceId) external view returns (bool)\`: Used for interface detection (e.g., to check if a contract implements ERC721 or ERC165).

**Key Events:**
*   \`Transfer(address indexed from, address indexed to, uint256 indexed tokenId)\`: Emitted when ownership of an NFT changes for any reason (minting, burning, transfer).
*   \`Approval(address indexed owner, address indexed approved, uint256 indexed tokenId)\`: Emitted when an address is approved to operate on a specific \`tokenId\`.
*   \`ApprovalForAll(address indexed owner, address indexed operator, bool approved)\`: Emitted when an operator is approved or unapproved to manage all NFTs for an owner.

### ERC721 Metadata Extension (Optional but Common):
*   \`name() external view returns (string memory _name)\`: Returns the name of the NFT collection (e.g., "My Awesome NFTs").
*   \`symbol() external view returns (string memory _symbol)\`: Returns the symbol for the NFT collection (e.g., "MANFT").
*   \`tokenURI(uint256 tokenId) external view returns (string memory)\`: Returns a URI (Uniform Resource Identifier) pointing to a JSON file that contains the metadata for a specific \`tokenId\` (name, description, image, attributes, etc.). This JSON usually follows a standard schema.

### Example ERC721 Implementation using OpenZeppelin:
\`\`\`solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20;

import "@openzeppelin/contracts/token/ERC721/ERC721.sol";
import "@openzeppelin/contracts/access/Ownable.sol";
import "@openzeppelin/contracts/utils/Counters.sol"; // For safely incrementing token IDs

// MyCollectible inherits from OpenZeppelin's ERC721 contract
contract MyCollectible is ERC721, Ownable {
    using Counters for Counters.Counter;
    Counters.Counter private _tokenIdCounter; // To keep track of the next token ID to mint

    // Mapping from token ID to its metadata URI (optional if all tokens share a base URI)
    mapping(uint256 => string) private _tokenURIs;

    // Base URI for metadata if all tokens follow a pattern (e.g., "https://api.example.com/nft/")
    // string private _baseURIextended; // OpenZeppelin has _baseURI internal function now

    constructor(address initialOwner) ERC721("My Collectible", "MCO") Ownable(initialOwner) {
        // ERC721 constructor takes name and symbol
        // Ownable constructor takes the initial owner address
    }

    // Function to set the base URI for token metadata.
    // OpenZeppelin's ERC721 has an internal _setBaseURI function.
    // We can expose it via an onlyOwner function if needed or set it in constructor.
    // function setBaseURI(string memory baseURI_) public onlyOwner {
    //     _setBaseURI(baseURI_);
    // }

    // Function to mint a new NFT.
    // It assigns the NFT to 'to' and sets its metadata URI.
    function safeMint(address to, string memory uri) public onlyOwner {
        uint256 tokenId = _tokenIdCounter.current();
        _tokenIdCounter.increment();
        _safeMint(to, tokenId); // Mints the NFT and assigns ownership
        _setTokenURI(tokenId, uri); // Sets the metadata URI for this specific token
    }

    // Helper function to set the token URI, usually internal or owner-only
    // OpenZeppelin's ERC721 already provides _setTokenURI internal function.
    // This is just for demonstration of how one might extend.
    function _setTokenURI(uint256 tokenId, string memory _uri) internal virtual {
        require(_exists(tokenId), "ERC721URIStorage: URI set of nonexistent token");
        _tokenURIs[tokenId] = _uri;
    }
    
    // Override to construct the token URI. Often combines a base URI with the token ID.
    // OpenZeppelin ERC721 provides a default implementation that uses an internal _baseURI().
    // If you store full URIs per token as in _tokenURIs:
    function tokenURI(uint256 tokenId) public view virtual override returns (string memory) {
        require(_exists(tokenId), "ERC721Metadata: URI query for nonexistent token");

        string memory _uri = _tokenURIs[tokenId];
        if (bytes(_uri).length > 0) {
            return _uri; // Return specific URI if set
        }
        
        // If no specific URI, try to use OpenZeppelin's base URI logic (if base URI is set)
        string memory base = super.tokenURI(tokenId); 
        if (bytes(base).length > 0 && keccak256(abi.encodePacked(base)) != keccak256(abi.encodePacked(""))) { 
            return base;
        }

        return ""; // Default to empty if no specific URI and no base URI logic produced anything.
    }

}
\`\`\`

### Key Differences from ERC20:
*   **Uniqueness:** ERC721 tokens are unique; ERC20 tokens are interchangeable.
*   **Identifiers:** ERC721 uses \`tokenId\` to distinguish tokens; ERC20 balances are just amounts.
*   **No \`decimals\`:** Uniqueness means divisibility isn't a concept for individual ERC721 tokens.

ERC721 has powered the explosion of digital collectibles and art on the blockchain, creating new forms of ownership and value.
    `,keywords:["nft","erc721","non-fungible token","collectibles","digital art","token standard","ethereum","openzeppelin","tokenuri","ownerof","safetransferfrom"],geminiPromptSeed:"Explain the ERC721 standard for NFTs. What are its key characteristics, functions (like ownerOf, safeTransferFrom, tokenURI), and events? How does it differ from ERC20? Provide a simple Solidity example using OpenZeppelin for an NFT contract with minting.",videoEmbedUrl:"https://www.youtube.com/embed/YT3LxlqC3oA",quiz:{title:"ERC721 NFT Quiz",questions:[{id:"q1-erc721-unique",questionText:"What is the defining characteristic of an ERC721 token compared to an ERC20 token?",options:[{id:"q1o1",text:"It has more decimals for precision."},{id:"q1o2",text:"Each token is unique and distinguishable by a tokenId."},{id:"q1o3",text:"It can only be transferred by the contract owner."}],correctOptionId:"q1o2",explanation:"ERC721 tokens are non-fungible, meaning each token has a unique ID (tokenId) and is distinct from other tokens of the same contract."},{id:"q2-erc721-tokenuri",questionText:"What is the primary purpose of the `tokenURI(uint256 tokenId)` function in the ERC721 metadata extension?",options:[{id:"q2o1",text:"To set the price of the NFT."},{id:"q2o2",text:"To transfer the NFT to a new owner."},{id:"q2o3",text:"To return a link to a JSON file containing the NFT's metadata (name, image, attributes, etc.)."}],correctOptionId:"q2o3",explanation:"The `tokenURI` function returns a URI (often an HTTP(S) or IPFS link) that points to a JSON object describing the specific NFT's attributes, including its image."},{id:"q3-erc721-ownerof",questionText:"Which ERC721 function would you call to find out who owns a specific NFT with a given `tokenId`?",options:[{id:"q3o1",text:"balanceOf(address owner)"},{id:"q3o2",text:"getApproved(uint256 tokenId)"},{id:"q3o3",text:"ownerOf(uint256 tokenId)"}],correctOptionId:"q3o3",explanation:"`ownerOf(tokenId)` is the standard ERC721 function that returns the address of the current owner of the specified NFT."}]}},{id:"gas-optimization",title:"Gas Optimization Techniques",category:"Advanced Solidity",level:"Advanced",summary:"Learn techniques to write gas-efficient Solidity code, crucial for reducing transaction costs on Ethereum. Covers data packing, minimizing storage operations, loop optimization, and more.",content:`Gas is the fuel for the Ethereum network. Every operation, from a simple transfer to complex contract interactions, consumes gas. Users pay gas fees (in ETH) for their transactions. Writing gas-efficient smart contracts is crucial because:
*   **Reduces Costs:** Lower gas consumption means cheaper transactions for users.
*   **Improves User Experience:** Faster confirmations (as lower gas txns might be less attractive to miners, but well-optimized code uses less overall, so complex txns are still viable).
*   **Avoids Block Gas Limit:** Complex transactions that consume too much gas might exceed the block gas limit and fail.

### Key Gas Optimization Techniques:

**1. Minimize Storage Reads and Writes (SSTORE and SLOAD):**
   *   \`SSTORE\` (writing to storage) is one of the most expensive operations. \`SLOAD\` (reading from storage) is also costly.
   *   **Technique:**
        *   Cache storage variables in memory variables if accessed multiple times within a function.
        *   Update multiple state variables in a packed way if possible.
        *   Avoid unnecessary state changes.
   \`\`\`solidity
   // Inefficient: Multiple SLOADs
   // uint256 stateVar1; 
   // uint256 stateVar2;
   // function calculateSum() public view returns (uint) {
   //     return stateVar1 + stateVar2 + stateVar1; // stateVar1 loaded twice
   // }

   // Efficient: Cache in memory
   // uint256 stateVar1; 
   // uint256 stateVar2;
   function calculateSumEfficient(uint256 stateVar1, uint256 stateVar2) public pure returns (uint) { // Assuming stateVar1, stateVar2 passed or are constants
       uint256 localStateVar1 = stateVar1; // If stateVar1 is a state variable, this SLOADs it.
       return localStateVar1 + stateVar2 + localStateVar1; // Uses memory variable
   }

   // Inefficient: Multiple SSTOREs
   // uint256 stateVarA;
   // uint256 stateVarB;
   // function updateValues(uint valA, uint valB) public {
   //     stateVarA = valA; // SSTORE
   //     stateVarB = valB; // SSTORE
   // }

   // Efficient (if logic allows, may not always be better or possible):
   // Sometimes just unavoidable if they are independent.
   // But if they are part of a struct, update struct in memory then SSTORE once.
   struct MyData { uint a; uint b; }
   MyData public myData; // State variable
   function updateMyData(uint valA, uint valB) public {
       MyData memory localData = myData; // SLOAD entire struct
       localData.a = valA;
       localData.b = valB;
       myData = localData; // Single SSTORE for the struct
   }
   \`\`\`

**2. Data Packing in Storage:**
   *   Solidity lays out state variables in storage slots of 32 bytes (256 bits). If multiple variables can fit into a single slot, the compiler will try to pack them. This can save \`SSTORE\` and \`SLOAD\` operations.
   *   **Technique:** Declare smaller data types consecutively. Order matters.
   \`\`\`solidity
   // Less efficient packing (potentially 3 slots)
   // contract Unpacked {
   //    uint64 a;
   //    uint256 b; // Will likely start a new slot
   //    uint64 c;
   // }


   // More efficient packing (b, a, c might fit in 2 slots if b is last, or a,c, then b in its own)
   // Best: a, c together, then b.
   // contract BetterPacked {
   //    uint64 a;  // Slot 0, offset 0
   //    uint64 c;  // Slot 0, offset 8 (bytes)
   //    uint256 b; // Slot 1 (starts new slot)
   // }


   // Optimal for packing a & c (1 slot used by a & c)
   contract Packed {
       uint128 val1; // Slot 0, first 128 bits
       uint128 val2; // Slot 0, next 128 bits
       // uint64 val3; // If added, would still be in Slot 0
   }
   \`\`\`

**3. Use Appropriate Data Types:**
   *   Using smaller integer types (e.g., \`uint128\`, \`uint64\`) can save storage if they fit your data range AND can be packed (see above).
   *   However, the EVM operates on 256-bit words. Using types smaller than 256 bits for calculations *within functions (memory/stack variables)* might incur extra gas for conversion unless the optimizer handles it well. For storage, packing is the primary benefit.
   *   \`bytes32\` is generally more gas-efficient than \`string\` or \`bytes\` for fixed-size data that fits.

**4. Optimize Loops:**
   *   Loops can be very gas-intensive, especially if they iterate many times or perform storage operations inside.
   *   **Techniques:**
        *   Minimize operations inside loops.
        *   Avoid loops over unbounded arrays if possible, or limit iteration count.
        *   Cache array length if accessed multiple times: \`uint len = myArray.length;\`
   \`\`\`solidity
   // Potentially expensive if data.length is large and data is storage array
   // function sumArray(uint[] storage data) public view returns (uint total) {
   //     for (uint i = 0; i < data.length; i++) { // data.length SLOADed each iteration
   //         total += data[i]; // data[i] SLOADed each iteration
   //     }
   // }

   // More efficient loop
   function sumArrayEfficient(uint[] memory data) public pure returns (uint total) {
       // Pass array as memory if it's input and not modified state
       uint len = data.length; // Cache length
       for (uint i = 0; i < len; i++) {
           total += data[i]; // If 'data' is memory, this is MLOAD, cheaper than SLOAD
       }
   }
   \`\`\`

**5. Short-Circuiting in Conditionals:**
   *   Use \`||\` (OR) and \`&&\` (AND) operators effectively. If the first condition in an \`OR\` is true, the second isn't evaluated. If the first in an \`AND\` is false, the second isn't evaluated.
   *   Place cheaper conditions first if possible.

**6. Use Modifiers Wisely:**
   *   Modifiers add to the bytecode size and execution cost. Use them for common checks, but be mindful if a check is very simple and only used once; inlining it might be cheaper. Profile to be sure.

**7. Function Visibility and Mutability:**
   *   Declare functions with the most restrictive visibility (\`private\`, \`internal\`, \`external\`, \`public\`) that serves their purpose. \`external\` can be cheaper than \`public\` if the function is only called externally because arguments are not copied to memory.
   *   Use \`view\` for functions that only read state and \`pure\` for functions that neither read nor write state. These don't cost gas if called externally (off-chain).

**8. Avoid Unnecessary Libraries or Complex Logic:**
   *   If a simple operation can be done directly, it might be cheaper than calling a library function that has overhead. However, for complex and security-critical operations (like math), well-audited libraries (e.g., OpenZeppelin's SafeMath/Math) are preferred despite minor gas overhead. (Note: Solidity 0.8+ has built-in overflow/underflow checks.)

**9. Deleting Storage Variables (Refunds):**
   *   Using \`delete myVariable;\` or setting a variable to its default zero value (e.g., \`myUint = 0;\`) can trigger a gas refund (up to a certain limit per transaction). This is part of EIP-1087.
   *   This is more relevant for cleaning up storage that's no longer needed.

**10. Use \`calldata\` for External Function Parameters:**
    *   For \`external\` functions, use \`calldata\` for reference-type parameters (arrays, structs, strings, bytes) instead of \`memory\`. \`calldata\` is read-only, non-modifiable, and avoids copying data, making it cheaper.
    \`\`\`solidity
    function processDataExternal(uint[] calldata _inputArray) external pure returns (uint) {
        // _inputArray is read-only and not copied to memory
        uint sum = 0;
        for (uint i = 0; i < _inputArray.length; i++) {
            sum += _inputArray[i];
        }
        return sum;
    }
    \`\`\`

**Tools for Gas Profiling:**
*   **Hardhat Gas Reporter:** Plugin for Hardhat that reports gas usage per function call in tests.
*   **Foundry Gas Snapshots:** Forge can generate gas snapshots during tests.
*   **Remix IDE:** Shows gas estimates before sending transactions.

Gas optimization is an ongoing process of learning and applying best practices. Always test and profile your contracts to identify bottlenecks.
    `,keywords:["gas","optimization","ethereum","smart contracts","efficiency","sstore","sload","data packing","loops","calldata","gas profiler","solidity performance"],geminiPromptSeed:"List and explain at least 5 key gas optimization techniques in Solidity. For each technique, provide a brief code example illustrating an inefficient way and a more gas-efficient way to achieve a similar outcome. Discuss why minimizing storage operations is crucial.",videoEmbedUrl:"https://www.youtube.com/embed/V2kXgHUBgcs",quiz:{title:"Gas Optimization Quiz",questions:[{id:"q1-gas-sstore",questionText:"Which of the following operations is generally one of the most expensive in terms of gas cost in Solidity?",options:[{id:"q1o1",text:"Reading a memory variable."},{id:"q1o2",text:"Performing an arithmetic operation (e.g., addition)."},{id:"q1o3",text:"Writing to a state variable (SSTORE)."}],correctOptionId:"q1o3",explanation:"SSTORE, which writes data to contract storage, is one of the most gas-intensive operations. Minimizing storage writes is key to optimization."},{id:"q2-gas-packing",questionText:"What is 'data packing' in Solidity storage optimization?",options:[{id:"q2o1",text:"Compressing function arguments before sending a transaction."},{id:"q2o2",text:"Arranging multiple smaller state variables to fit into a single 256-bit storage slot."},{id:"q2o3",text:"Using only `uint256` for all variables to simplify EVM operations."}],correctOptionId:"q2o2",explanation:"Data packing involves ordering state variables (especially smaller types like uint128, uint64) so that the Solidity compiler can fit multiple variables into a single 32-byte storage slot, saving gas on SLOAD and SSTORE operations."},{id:"q3-gas-calldata",questionText:"For `external` functions in Solidity, what is the benefit of using `calldata` instead of `memory` for array or struct parameters?",options:[{id:"q3o1",text:"`calldata` allows the function to modify the input array/struct directly."},{id:"q3o2",text:"`calldata` is generally cheaper because it avoids copying the data from transaction payload to memory."},{id:"q3o3",text:"`calldata` provides more storage space for the parameters."}],correctOptionId:"q3o2",explanation:"`calldata` is a read-only data location for function arguments passed in external calls. It's more gas-efficient for reference types because it avoids an explicit copy to memory."}]}},{id:"security-best-practices",title:"Smart Contract Security",category:"Advanced Solidity",level:"Advanced",summary:"Understand common smart contract vulnerabilities like reentrancy, integer overflows, front-running, and learn best practices such as using audited libraries, the Checks-Effects-Interactions pattern, and thorough testing to write secure contracts.",content:`Smart contract security is paramount in blockchain development. Vulnerabilities can lead to significant financial losses and loss of trust. A defense-in-depth approach, combining best practices, audits, and thorough testing, is essential.

### Common Smart Contract Vulnerabilities:

**1. Reentrancy Attacks:**
   *   **Description:** Occurs when an external contract call is made before an internal state change is finalized. The external contract can then call back ("re-enter") the original contract before its state is updated, potentially draining funds or manipulating logic.
   *   **Example (Conceptual):**
     \`\`\`solidity
     // Vulnerable contract
     // mapping(address => uint) public balances;
     // function withdraw() public {
     //     uint amount = balances[msg.sender];
     //     require(amount > 0);
     //     (bool success, ) = msg.sender.call{value: amount}(""); // External call
     //     require(success, "Transfer failed.");
     //     balances[msg.sender] = 0; // State change AFTER external call - VULNERABLE!
     // }
     \`\`\`
     An attacker's contract, upon receiving ETH via \`.call\`, could immediately call \`withdraw()\` again before \`balances[msg.sender]\` is set to 0.
   *   **Mitigation:**
        *   **Checks-Effects-Interactions Pattern:** Perform checks (e.g., \`require\`), then make state changes (effects), and *then* interact with external contracts.
        *   **Reentrancy Guard (Mutex):** Use a modifier (like OpenZeppelin's \`ReentrancyGuard\`) to prevent a function from being re-entered while it's already executing.
     \`\`\`solidity
     // Patched with Checks-Effects-Interactions
     // mapping(address => uint) public balances; // Assume this exists
     // function withdrawSafe() public {
     //     uint amount = balances[msg.sender];
     //     require(amount > 0, "No balance");
     //     balances[msg.sender] = 0; // Effect: State change BEFORE external call
     //     (bool success, ) = msg.sender.call{value: amount}("");
     //     require(success, "Transfer failed.");
     //     // If transfer fails, consider reverting the state change or other error handling
     // }
     \`\`\`

**2. Integer Overflow and Underflow:**
   *   **Description:** Occurs when an arithmetic operation results in a number that is outside the range of the variable's data type (e.g., \`uint8\` can hold 0-255; 255 + 1 would wrap to 0 without checks).
   *   **Mitigation:**
        *   **Solidity 0.8.0+:** Built-in overflow/underflow checks. Operations will revert by default. This is a major security improvement.
        *   **Older Solidity Versions (<0.8.0):** Use SafeMath libraries (like OpenZeppelin's \`SafeMath\`) which provide functions (\`add\`, \`sub\`, \`mul\`, \`div\`) that check for overflows/underflows.

**3. Front-Running (Transaction-Ordering Dependence):**
   *   **Description:** An attacker observes a transaction in the mempool (where pending transactions wait to be mined) and submits their own transaction with a higher gas price to get it mined first, thereby exploiting the original transaction's intent.
   *   **Example:** A decentralized exchange where an attacker sees a large buy order and places their buy order just before it, then sells after the original order pushes up the price.
   *   **Mitigation:**
        *   **Commit-Reveal Schemes:** Users first submit a hash of their intended action (commit), then later reveal the actual action.
        *   **Batching Transactions:** Aggregate multiple actions into one.
        *   **Setting Slippage Limits:** In DEXs, users can specify the maximum price change they are willing to tolerate.
        *   Not always fully preventable but can be made harder or less profitable.

**4. Oracle Manipulation:**
   *   **Description:** If a smart contract relies on external data (e.g., price feeds) from an oracle, and that oracle can be manipulated or provides inaccurate data, the contract's logic can be exploited.
   *   **Mitigation:**
        *   **Use Decentralized Oracles:** Rely on oracles that aggregate data from multiple sources (e.g., Chainlink).
        *   **Time-Weighted Average Prices (TWAP):** Use TWAPs instead of spot prices for critical operations to smooth out short-term manipulations.
        *   **Implement Sanity Checks:** Validate oracle data against reasonable bounds.

**5. Gas Limit Issues / Denial of Service (DoS):**
   *   **Description:**
        *   **Block Gas Limit DoS:** Operations on unbounded arrays or complex logic that can be made to consume excessive gas by an attacker, potentially hitting the block gas limit and causing transactions to fail.
        *   **Unexpected Revert DoS:** A contract relies on an external call that an attacker can cause to revert, thereby blocking further execution of the original contract's function.
   *   **Mitigation:**
        *   Avoid loops over arrays that can be artificially inflated by users.
        *   Favor pull-over-push patterns for payments (users withdraw funds rather than the contract sending to many).
        *   Ensure external calls are to trusted contracts or handle potential reverts gracefully.

**6. Timestamp Dependence:**
   *   **Description:** Relying on \`block.timestamp\` for critical logic can be risky as miners have some (limited) ability to manipulate it.
   *   **Mitigation:**
        *   Do not use \`block.timestamp\` for generating randomness or as the sole condition for critical state changes.
        *   Use it for longer-term conditions where a few seconds/minutes of variance don't matter.

**7. Short Address Attack (Less common now with better libraries):**
   *   **Description:** If a function takes an \`address\` and a \`uint\` (e.g., in ERC20 \`transfer(address to, uint256 amount)\`), and an attacker provides an address that's shorter than 20 bytes, the EVM might pad the address with zeros from the following \`amount\` parameter, leading to incorrect behavior.
   *   **Mitigation:** Modern wallets and libraries usually validate address lengths. Ensure your contract or frontend validates inputs.

### Security Best Practices:

1.  **Use Audited Libraries:** Leverage well-tested and audited libraries like OpenZeppelin Contracts for common functionalities (ERC20, ERC721, Ownable, ReentrancyGuard, SafeMath).
2.  **Checks-Effects-Interactions Pattern:** Always validate conditions, then update internal state, and *only then* interact with external contracts.
3.  **Thorough Testing:** Write comprehensive unit tests, integration tests, and consider fuzz testing and formal verification for critical contracts.
4.  **Code Reviews & Audits:** Have multiple developers review the code. For high-value contracts, obtain professional third-party security audits.
5.  **Keep it Simple (KISS Principle):** Complex code is harder to reason about and more prone to bugs.
6.  **Fail Safely:** Ensure contracts behave predictably and safely even when encountering errors or unexpected inputs (e.g., by reverting).
7.  **Manage Access Control:** Use patterns like \`Ownable\` or role-based access control to restrict sensitive functions.
8.  **Stay Updated:** Follow security advisories, new attack vectors, and evolving best practices (e.g., Solidity versions, EIPs).
9.  **Use Static Analysis Tools:** Tools like Slither, Mythril, Securify can help automatically detect potential vulnerabilities.
10. **Consider Gas Limits and Potential DoS Vectors.**

Security is an ongoing process, not a one-time checklist. A proactive and vigilant approach is essential.
    `,keywords:["security","vulnerabilities","reentrancy","integer overflow","front-running","oracle manipulation","audits","openzeppelin","checks-effects-interactions","slither","mythril","smart contract audit"],geminiPromptSeed:"Describe at least 3 common smart contract vulnerabilities (e.g., reentrancy, integer overflow, front-running) with brief explanations and how to mitigate them. Also, list 3 general best practices for writing secure Solidity code.",videoEmbedUrl:"https://www.youtube.com/embed/gL3MM9AdxS4",quiz:{title:"Smart Contract Security Quiz",questions:[{id:"q1-sec-reentrancy",questionText:"What is the primary defense against reentrancy attacks in Solidity?",options:[{id:"q1o1",text:"Using only `internal` functions."},{id:"q1o2",text:"Implementing the Checks-Effects-Interactions pattern and/or using a reentrancy guard."},{id:"q1o3",text:"Increasing the gas limit for transactions."}],correctOptionId:"q1o2",explanation:"The Checks-Effects-Interactions pattern (update state before external calls) and reentrancy guard modifiers are key defenses against reentrancy."},{id:"q2-sec-overflow",questionText:"How does Solidity version 0.8.0 and later help prevent integer overflow/underflow vulnerabilities by default?",options:[{id:"q2o1",text:"It automatically converts all integers to strings."},{id:"q2o2",text:"It includes built-in checks that cause transactions to revert if an overflow or underflow occurs."},{id:"q2o3",text:"It limits the maximum value of any integer to 128 bits."}],correctOptionId:"q2o2",explanation:"Solidity 0.8.0+ incorporates default arithmetic overflow and underflow checks, causing a revert if such conditions are met, which largely mitigates the need for external SafeMath libraries for basic arithmetic."},{id:"q3-sec-openzeppelin",questionText:"Why is using libraries like OpenZeppelin Contracts generally recommended for common functionalities (e.g., ERC20, Ownable)?",options:[{id:"q3o1",text:"They are always the most gas-efficient implementations."},{id:"q3o2",text:"They are community-vetted, audited, and implement standard interfaces, reducing the risk of introducing common vulnerabilities."},{id:"q3o3",text:"They allow developers to write contracts in JavaScript instead of Solidity."}],correctOptionId:"q3o2",explanation:"OpenZeppelin Contracts provide battle-tested, audited implementations of common standards and security utilities, helping developers avoid reinventing the wheel and introducing common bugs."}]}},{id:"defi-concepts",title:"Intro to DeFi Concepts",category:"Decentralized Finance (DeFi)",level:"Intermediate",summary:"Get an introduction to core concepts in Decentralized Finance (DeFi), including lending/borrowing, DEXs, yield farming, stablecoins, and oracles, with examples.",content:`Decentralized Finance (DeFi) refers to a rapidly growing ecosystem of financial applications built on blockchain technology, primarily Ethereum. DeFi aims to recreate traditional financial systems (like lending, borrowing, trading, insurance) in an open, permissionless, and transparent manner, without relying on central intermediaries.

### Core DeFi Concepts & Primitives:

**1. Lending & Borrowing Protocols:**
   *   **Concept:** Allow users to lend their crypto assets to earn interest or borrow assets by providing collateral.
   *   **Mechanism:** Typically use smart contracts to manage loan terms, interest rates (often algorithmically determined based on supply/demand), and collateralization ratios. Over-collateralization is common (e.g., deposit $150 worth of ETH to borrow $100 worth of DAI).
   *   **Examples:**
        *   **Aave:** A decentralized lending and borrowing protocol where users can lend various assets to earn yield and borrow assets by providing collateral. Supports features like flash loans.
        *   **Compound Finance:** Similar to Aave, allows users to lend and borrow a range of cryptocurrencies. Users who supply assets receive cTokens (e.g., cETH, cDAI) representing their share in the lending pool.
   *   **Benefit:** Access to liquidity, earning passive income on holdings.

**2. Decentralized Exchanges (DEXs):**
   *   **Concept:** Platforms that allow users to trade cryptocurrencies directly with each other (peer-to-peer) without a central custodian holding their funds.
   *   **Mechanism (Common Type - Automated Market Makers - AMMs):**
        *   AMMs use liquidity pools (pairs of tokens supplied by users called Liquidity Providers - LPs) and mathematical formulas (e.g., \`x * y = k\` for Uniswap V2) to determine token prices.
        *   LPs earn trading fees from trades happening in their pool.
   *   **Examples:**
        *   **Uniswap:** A leading AMM-based DEX. Users can swap tokens or provide liquidity.
        *   **Sushiswap:** A fork of Uniswap with additional features and community governance.
        *   **Curve Finance:** Specializes in stablecoin swaps, aiming for low slippage.
   *   **Benefit:** User custody of funds, permissionless listing of tokens, transparency.

**3. Yield Farming & Liquidity Mining:**
   *   **Concept:** Strategies to maximize returns on crypto assets by leveraging different DeFi protocols.
   *   **Yield Farming:** Moving assets between various lending protocols or liquidity pools to find the highest interest rates or rewards.
   *   **Liquidity Mining:** A specific type of yield farming where users are rewarded (often with the protocol's native governance token) for providing liquidity to a DEX or lending protocol. This bootstraps liquidity for the protocol.
   *   **Risk:** Can be complex, involves smart contract risks, impermanent loss (for LPs in AMMs).
   *   **Example:** A user might supply ETH and DAI to a Uniswap liquidity pool. They earn trading fees. Additionally, the protocol might offer its own governance tokens as a reward for being an LP. The user might then take these governance tokens and stake them elsewhere for more rewards.

**4. Stablecoins:**
   *   **Concept:** Cryptocurrencies designed to maintain a stable value, typically pegged to a fiat currency (like USD) or other assets.
   *   **Purpose:** Provide a stable medium of exchange and store of value within the volatile crypto ecosystem, facilitating trading and DeFi interactions.
   *   **Types:**
        *   **Fiat-Collateralized:** Backed by fiat currency held in reserves (e.g., USDC, USDT). Centralized element of trust in the issuer.
        *   **Crypto-Collateralized:** Backed by other cryptocurrencies held as collateral in smart contracts (e.g., DAI, which is over-collateralized by assets like ETH, WBTC). More decentralized.
        *   **Algorithmic (Non-Collateralized/Seigniorage):** Attempt to maintain peg through algorithms that expand or contract supply. Historically more volatile and risky.
   *   **Importance:** Essential for DeFi as they reduce volatility risk in lending, borrowing, and trading.

**5. Oracles:**
   *   **Concept:** Services that provide external data (off-chain data) to smart contracts on the blockchain (on-chain). Blockchains themselves cannot directly access real-world information.
   *   **Purpose:** Enable smart contracts to execute based on real-world events and data (e.g., price of ETH/USD, weather conditions, sports results).
   *   **Challenge:** The "Oracle Problem" - how to ensure the external data provided is accurate, reliable, and tamper-proof.
   *   **Examples:**
        *   **Chainlink:** A decentralized oracle network that provides reliable and secure data feeds from various sources to smart contracts. It uses multiple independent node operators and data providers.
   *   **Importance:** Crucial for many DeFi applications, especially those involving asset pricing, derivatives, and insurance.

**6. Wrapped Assets:**
   *   **Concept:** Tokens that represent an asset from another blockchain on a different blockchain. For example, Wrapped Bitcoin (WBTC) is an ERC20 token on Ethereum that is pegged 1:1 to Bitcoin.
   *   **Purpose:** Allows assets like Bitcoin to be used in Ethereum's DeFi ecosystem.
   *   **Mechanism:** Typically involves a custodian holding the original asset and minting the wrapped version.

**7. DAOs (Decentralized Autonomous Organizations):**
    *   **Concept:** Organizations represented by rules encoded as smart contracts. Often governed by holders of a native governance token who can vote on proposals.
    *   **Purpose:** Manage and upgrade DeFi protocols, control treasuries, and make collective decisions in a decentralized manner.

DeFi is a rapidly evolving space offering innovative financial tools, but it also comes with risks, including smart contract vulnerabilities, impermanent loss, and regulatory uncertainty.
    `,keywords:["defi","dex","lending","borrowing","yield farming","liquidity mining","stablecoins","oracles","aave","compound","uniswap","chainlink","wrapped assets","dao"],geminiPromptSeed:"Explain the core concepts of DeFi for someone new to the space. Cover lending/borrowing (e.g., Aave/Compound), DEXs (e.g., Uniswap), yield farming/liquidity mining, stablecoins (types and examples like DAI/USDC), and the role of oracles (e.g., Chainlink).",videoEmbedUrl:"https://www.youtube.com/embed/17QRFlmln1A",quiz:{title:"DeFi Concepts Quiz",questions:[{id:"q1-defi-dex",questionText:"What is a primary characteristic of a Decentralized Exchange (DEX) like Uniswap?",options:[{id:"q1o1",text:"It requires users to deposit funds into an account controlled by a central company."},{id:"q1o2",text:"It uses a traditional order book managed by a central server."},{id:"q1o3",text:"It allows users to trade tokens directly from their wallets using liquidity pools, often via an Automated Market Maker (AMM) model."}],correctOptionId:"q1o3",explanation:"DEXs, especially AMMs like Uniswap, enable peer-to-peer trading using liquidity pools, allowing users to retain custody of their assets."},{id:"q2-defi-stablecoin",questionText:"What is the main purpose of stablecoins (e.g., DAI, USDC) in the DeFi ecosystem?",options:[{id:"q2o1",text:"To provide high-yield investment opportunities with guaranteed returns."},{id:"q2o2",text:"To offer a store of value and medium of exchange with low volatility, typically pegged to a fiat currency."},{id:"q2o3",text:"To represent unique digital collectibles."}],correctOptionId:"q2o2",explanation:"Stablecoins aim to maintain a stable value (e.g., $1 USD) and are crucial in DeFi for reducing volatility in trading, lending, and borrowing."},{id:"q3-defi-oracle",questionText:"Why are oracles, like Chainlink, necessary for many DeFi smart contracts?",options:[{id:"q3o1",text:"To store user identities and perform KYC checks."},{id:"q3o2",text:"To provide smart contracts with reliable external (off-chain) data, such as asset prices or real-world event outcomes."},{id:"q3o3",text:"To directly execute trades on centralized exchanges."}],correctOptionId:"q3o2",explanation:"Blockchains cannot natively access off-chain data. Oracles act as bridges, securely providing external information (like current market prices) to smart contracts, which is essential for many DeFi applications."}]}},{id:"advanced-defi-strategies",title:"Advanced DeFi Strategies",category:"Decentralized Finance (DeFi)",level:"Advanced",summary:"Explore more complex strategies in DeFi, including composability, flash loans, understanding impermanent loss, risk management, and the role of DAOs and governance tokens.",content:`Beyond basic lending, borrowing, and swapping, advanced DeFi strategies involve leveraging the composability of protocols to create sophisticated financial maneuvers. These often come with higher potential rewards but also increased risks.

### 1. DeFi Composability ("Money Legos"):
   *   **Concept:** DeFi protocols are like "money legos"  they are open, interoperable, and can be combined to build more complex applications or strategies. One protocol's output (e.g., a liquidity provider token, a yield-bearing token) can become the input for another.
   *   **Example Strategy:**
        1.  Supply ETH to Aave to borrow DAI (a stablecoin).
        2.  Use the borrowed DAI to provide liquidity to a DAI-USDC pool on Curve Finance, earning CRV tokens and trading fees.
        3.  Stake the CRV tokens to earn more rewards or participate in governance.
        4.  The LP tokens from Curve might themselves be usable as collateral elsewhere (though this increases risk).
   *   **Benefit:** Potential for amplified returns by earning yield from multiple sources simultaneously.
   *   **Risk:** Increased complexity, compounded smart contract risk (if one protocol in the chain fails, the whole strategy can unravel), higher gas costs.

### 2. Flash Loans:
   *   **Concept:** Uncollateralized loans that must be borrowed and repaid within the *same* Ethereum transaction. If the loan (plus a small fee) is not repaid by the end of the transaction, the entire transaction (including the loan) reverts as if it never happened.
   *   **Providers:** Protocols like Aave, dYdX, Uniswap (via V3 flash swaps).
   *   **Use Cases:**
        *   **Arbitrage:** Borrow a large sum, buy an asset on DEX A where it's cheap, sell it on DEX B where it's expensive, repay the loan + fee, and pocket the difference  all in one atomic transaction.
        *   **Collateral Swaps:** Quickly change the collateral backing a loan on a lending protocol without needing to provide additional capital upfront. For example, borrow DAI, use it to pay back a DAI loan collateralized by ETH, withdraw ETH, use ETH to buy WBTC, deposit WBTC as new collateral, and take out a new DAI loan to repay the flash loan.
        *   **Self-Liquidation:** Efficiently close out a collateralized debt position.
   *   **How it's possible:** The atomicity of Ethereum transactions. Smart contracts can execute a series of actions, and if any step fails (including repaying the flash loan), the whole set of actions is rolled back.
   *   **Risk:** While "risk-free" for the lender (due to atomic repayment), they can be used in complex exploits if a protocol has vulnerabilities related to price manipulation or reentrancy when interacting with flash loan-powered transactions.

### 3. Impermanent Loss (IL):
   *   **Concept:** A potential risk for Liquidity Providers (LPs) in Automated Market Maker (AMM) DEXs (like Uniswap). It's the difference in value between holding assets in an LP position versus simply holding those assets in a wallet.
   *   **Cause:** When the relative prices of the two tokens in a liquidity pool change, the AMM's formula rebalances the pool. If an LP withdraws liquidity, they might receive a different ratio of tokens than they initially deposited, and the total USD value of these withdrawn tokens might be less than if they had just held the original tokens.
   *   **When it's significant:** More pronounced when there's high volatility and one token in the pair significantly outperforms the other.
   *   **Mitigation/Compensation:**
        *   **Trading Fees:** LPs earn trading fees, which can offset or outweigh impermanent loss.
        *   **Liquidity Mining Rewards:** Additional token rewards can also compensate.
        *   **Concentrated Liquidity (e.g., Uniswap V3):** Allows LPs to provide liquidity within specific price ranges, potentially increasing fee capture and capital efficiency, but also making IL management more active.
        *   **Stablecoin Pools:** Pools with two stablecoins (or assets with very low relative volatility) experience minimal IL.
   *   **Note:** It's "impermanent" because if the token prices revert to their original ratio when the LP deposited, the loss disappears (ignoring fees/rewards). However, if prices don't revert, it becomes a permanent loss upon withdrawal.

### 4. Risk Management in DeFi:
   *   **Smart Contract Risk:** Bugs or vulnerabilities in protocol code (always a primary concern). Mitigation: Use audited protocols, diversify, understand the code if possible.
   *   **Oracle Risk:** Reliance on oracles for price feeds. Manipulation can lead to incorrect liquidations. Mitigation: Use decentralized oracles like Chainlink.
   *   **Liquidation Risk:** If collateral value drops below a certain threshold in lending protocols, it can be liquidated. Mitigation: Monitor collateralization ratios, add more collateral if needed.
   *   **Regulatory Risk:** The DeFi space is still evolving, and future regulations are uncertain.
   *   **Systemic Risk:** Interconnectedness of protocols means a failure in one major protocol could have cascading effects.

### 5. Governance Tokens and DAOs (Decentralized Autonomous Organizations):
   *   **Governance Tokens:** Many DeFi protocols issue tokens (e.g., UNI, AAVE, COMP, CRV) that grant holders voting rights on proposals related to the protocol's development, upgrades, fee changes, treasury management, etc.
   *   **DAOs:** These tokens enable decentralized governance through DAOs. Token holders can create proposals and vote on them using their tokens.
   *   **Purpose:** To decentralize control and decision-making power over a protocol, aligning incentives between users and the protocol's long-term success.
   *   **Challenges:** Voter apathy, plutocracy (whales having too much influence), complexity of governance.

Advanced DeFi strategies offer powerful tools but require a deep understanding of the underlying mechanics, risks, and the specific protocols involved. Continuous learning and caution are essential.
    `,keywords:["advanced defi","flash loans","impermanent loss","dao","governance tokens","composability","money legos","risk management","arbitrage","collateral swap","liquidity provision"],geminiPromptSeed:"Discuss advanced DeFi strategies like composability ('money legos'), flash loans (use cases and mechanism), and impermanent loss (explanation and mitigation). Also, touch upon risk management in DeFi and the role of DAOs/governance tokens.",videoEmbedUrl:"https://www.youtube.com/embed/L-p_DC_qOAU",quiz:{title:"Advanced DeFi Quiz",questions:[{id:"q1-advdefi-flashloan",questionText:"What is a defining characteristic of a flash loan in DeFi?",options:[{id:"q1o1",text:"It requires a large amount of collateral."},{id:"q1o2",text:"It must be borrowed and repaid within the same blockchain transaction."},{id:"q1o3",text:"It can only be used to buy NFTs."}],correctOptionId:"q1o2",explanation:"Flash loans are uncollateralized loans that are atomically borrowed and repaid within a single transaction. If not repaid, the entire transaction reverts."},{id:"q2-advdefi-il",questionText:"What is impermanent loss in the context of providing liquidity to an Automated Market Maker (AMM) DEX?",options:[{id:"q2o1",text:"The loss of funds due to a smart contract bug in the AMM."},{id:"q2o2",text:"The opportunity cost where the value of your LP position is less than if you had simply held the original tokens, due to price divergence of the token pair."},{id:"q2o3",text:"The fees paid to the AMM for swapping tokens."}],correctOptionId:"q2o2",explanation:"Impermanent loss occurs when the relative prices of tokens in an LP shift, causing the value of the LP tokens to be less than if the liquidity provider had just held the assets separately. Trading fees and rewards can offset this."},{id:"q3-advdefi-composability",questionText:"What does 'composability' or 'money legos' refer to in DeFi?",options:[{id:"q3o1",text:"The process of breaking down complex financial instruments into simpler parts."},{id:"q3o2",text:"The ability of different DeFi protocols to interoperate and be combined, allowing outputs from one protocol to be used as inputs for another."},{id:"q3o3",text:"A specific type of cryptographic algorithm used to secure DeFi transactions."}],correctOptionId:"q3o2",explanation:"Composability means DeFi protocols are like building blocks ('legos') that can be combined in various ways to create new financial applications or strategies, enhancing innovation."}]}},{id:"solidity-mastery",title:"Path to Solidity Mastery",category:"Mastery Path",level:"Master",summary:"Outline concepts and areas for achieving mastery in Solidity development, including deep EVM knowledge, advanced design patterns, formal verification, Layer 2 solutions, and continuous learning in the rapidly evolving ecosystem.",content:`Achieving mastery in Solidity and smart contract development is an ongoing journey that extends beyond basic syntax and common patterns. It involves a deep understanding of the Ethereum Virtual Machine (EVM), nuanced design choices, cutting-edge technologies, and a commitment to security and efficiency.

### Key Areas for Solidity Mastery:

**1. Deep EVM Knowledge:**
   *   **Opcodes and Execution Flow:** Understand how Solidity compiles down to EVM opcodes (e.g., \`SSTORE\`, \`SLOAD\`, \`CALL\`, \`DELEGATECALL\`, \`STATICCALL\`) and how the EVM executes bytecode. This is crucial for advanced gas optimization and debugging.
   *   **Memory, Storage, and Stack:** Have a precise mental model of how data is stored and manipulated in these different EVM locations and the gas implications of each.
   *   **Gas Calculation Nuances:** Understand the gas costs of various opcodes and how they combine in complex functions.
   *   **Transaction Lifecycle:** Deeply understand how transactions are processed, from mempool to block inclusion and state changes.

**2. Yul (Assembly Language):**
   *   **Concept:** Yul is an intermediate assembly-like language that can be compiled to EVM bytecode. Solidity itself can compile to Yul before bytecode.
   *   **Purpose:** Writing parts of contracts in Yul can allow for fine-grained control over EVM operations, leading to significant gas savings in specific, performance-critical scenarios. It's also used for writing highly optimized libraries.
   *   **Usage:** Inline assembly blocks (\`assembly { ... }\`) within Solidity.
   \`\`\`solidity
   // Example: Highly optimized function to get chain ID using Yul
   function getChainId() public view returns (uint256 id) {
       assembly {
           id := chainid() // chainid() is an EVM opcode
       }
   }
   \`\`\`
   *   **Caution:** Writing Yul is complex and error-prone. It bypasses many of Solidity's safety checks. Use only when necessary and with extreme care.

**3. Advanced Design Patterns & Architectures:**
   *   **Upgradability Patterns:**
        *   **Proxy Contracts (e.g., Transparent, UUPS - EIP-1822):** Allow smart contract logic to be updated after deployment without changing the contract address (which stores the state). Involves a proxy contract (stable address) that delegates calls to an implementation contract (logic).
        *   **Diamond Standard (EIP-2535):** A more flexible proxy pattern allowing a single contract address to use logic from multiple implementation contracts (facets), enabling modular upgrades and overcoming contract size limits.
   *   **Metamorphic Contracts:** Contracts that can change their code at a given address through specific self-destruct and recreate mechanisms (complex and rare).
   *   **State Machines:** Designing contracts that transition through well-defined states.
   *   **Minimal Proxy (EIP-1167):** A very gas-efficient way to deploy many instances of the same contract logic. Each instance is a small clone that delegates calls to a master implementation.
   *   **Data Segregation Patterns:** Separating logic contracts from data storage contracts for more flexible upgrades or data management.

**4. Advanced Testing Methodologies:**
   *   **Fuzz Testing:** Automatically generating a wide range of random inputs to find edge cases and unexpected behaviors. Tools: Foundry's built-in fuzzer, Echidna.
   *   **Formal Verification:** Mathematically proving that a smart contract's code behaves according to a formal specification. Tools: Certora Prover, SMTChecker (built into Solidity compiler). This is highly specialized and often used for critical, high-value contracts.
   *   **Invariant Testing (Property-Based Testing):** Defining properties or invariants that should always hold true for your contract state, regardless of the sequence of valid operations. Tests then try to find counterexamples. Foundry excels at this.
   *   **Gas Profiling and Optimization in Depth:** Using tools to meticulously analyze gas usage opcode by opcode.

**5. Layer 2 (L2) Scaling Solutions:**
   *   **Understanding L2s:** Deep knowledge of how different L2 solutions work (Optimistic Rollups like Optimism & Arbitrum, zk-Rollups like zkSync & StarkNet, Sidechains, State Channels).
   *   **Developing for L2s:** Understanding the nuances of deploying and interacting with contracts on L2s, including differences in gas models, finality, and communication bridges to Layer 1 (L1).
   *   **Cross-Chain Communication:** Understanding and implementing secure bridges or protocols for moving assets and data between L1 and L2, or between different L2s.

**6. Security in Extreme Depth:**
   *   **Staying Ahead of New Vulnerabilities:** The landscape of smart contract exploits is constantly evolving. Mastery requires continuous learning about new attack vectors and defensive techniques.
   *   **Economic Exploit Analysis:** Understanding how attackers can exploit economic incentives or design flaws within a protocol, not just code bugs.
   *   **Cryptography Fundamentals:** A solid understanding of the cryptographic primitives underpinning blockchain (hashes, signatures, encryption) helps in reasoning about security.

**7. Contribution to Standards and Open Source:**
   *   Engaging with Ethereum Improvement Proposals (EIPs).
   *   Contributing to widely used open-source libraries (e.g., OpenZeppelin) or development tools.

**8. Protocol Design and Mechanism Design:**
   *   Beyond just coding, understanding how to design robust and incentive-compatible DeFi protocols or other blockchain-based systems.

**Continuous Learning and Adaptation:**
   The blockchain space, especially Ethereum and Solidity, evolves rapidly. New EIPs, Solidity versions, L2 technologies, and DeFi primitives emerge constantly. A commitment to continuous learning through documentation, research papers, community discussions, and hands-on experimentation is vital for mastery.

Mastery is not a fixed destination but a continuous pursuit of deeper knowledge, better practices, and the ability to innovate securely and efficiently in a complex and dynamic environment.
    `,keywords:["mastery","evm internals","yul","assembly","design patterns","proxy contracts","diamond standard","upgradability","formal verification","fuzz testing","layer 2","rollups","optimism","arbitrum","zksync","advanced security","protocol design"],geminiPromptSeed:"Outline the key areas one needs to focus on to achieve mastery in Solidity development. Discuss deep EVM knowledge (opcodes, memory/storage), Yul/assembly, advanced design patterns (like proxies/diamonds for upgradability), advanced testing (fuzzing, formal verification), Layer 2 solutions, and the importance of continuous learning.",videoEmbedUrl:"https://www.youtube.com/embed/Uc92pxLhVl0",quiz:{title:"Solidity Mastery Concepts Quiz",questions:[{id:"q1-mastery-yul",questionText:"What is Yul, and why might an advanced Solidity developer use it?",options:[{id:"q1o1",text:"Yul is a high-level functional programming language for designing UI components."},{id:"q1o2",text:"Yul is an intermediate assembly-like language for the EVM, used for fine-grained control and gas optimization in critical code sections."},{id:"q1o3",text:"Yul is a testing framework specifically for smart contract GUIs."}],correctOptionId:"q1o2",explanation:"Yul is an EVM assembly language. Advanced developers might use inline assembly (Yul) for highly optimized code sections where direct EVM control is needed for maximum gas efficiency, though it's complex and risky."},{id:"q2-mastery-proxy",questionText:"What is the primary purpose of using Proxy patterns (e.g., Transparent Proxy, UUPS) in smart contract development?",options:[{id:"q2o1",text:"To automatically translate Solidity code into other programming languages."},{id:"q2o2",text:"To significantly reduce the gas cost of all function calls."},{id:"q2o3",text:"To enable the logic of a smart contract to be upgraded after deployment while keeping the contract address and state intact."}],correctOptionId:"q2o3",explanation:"Proxy patterns allow for smart contract upgradability by separating the contract's state (held at the proxy address) from its logic (in an implementation contract), enabling logic changes without data migration."},{id:"q3-mastery-formalverification",questionText:"What does 'Formal Verification' aim to achieve in the context of smart contract security?",options:[{id:"q3o1",text:"To ensure the contract is popular among users by verifying social media engagement."},{id:"q3o2",text:"To mathematically prove that the contract's code behaves according to a formal specification, helping to eliminate certain types of bugs."},{id:"q3o3",text:"To automatically generate user documentation for the smart contract."}],correctOptionId:"q3o2",explanation:"Formal verification uses mathematical methods to prove or disprove the correctness of a smart contract's implementation with respect to a formal specification, offering a high degree of assurance against certain bugs."}]}}],dg="completedModules",CM=()=>{const[s,e]=Me.useState([]);Me.useEffect(()=>{try{const p=localStorage.getItem(dg);p&&e(JSON.parse(p))}catch(p){console.error("Failed to load progress from localStorage:",p),e([])}},[]);const t=p=>{try{localStorage.setItem(dg,JSON.stringify(p))}catch(h){console.error("Failed to save progress to localStorage:",h)}},o=Me.useCallback(p=>{e(h=>{if(h.includes(p))return h;const y=[...h,p];return t(y),y})},[]),l=Me.useCallback(p=>s.includes(p),[s]),u=Me.useCallback(()=>{window.confirm("Are you sure you want to reset all your learning progress? This action cannot be undone.")&&(e([]),t([]))},[]);return{completedModules:s,addCompletedModule:o,isModuleCompleted:l,resetProgress:u}},Xu=150,SM=300,bM=({onLogout:s})=>{const[e,t]=Me.useState(null),[o,l]=Me.useState([]),[u,p]=Me.useState(!1),[h,y]=Me.useState(null),[g,v]=Me.useState(null),[x,S]=Me.useState("modules"),{completedModules:w,addCompletedModule:R,resetProgress:L}=CM(),P=!1,[H,K]=Me.useState(SM),Y=Me.useRef(null),J=Me.useRef(!1),F=Me.useRef(0),oe=Me.useRef(0);Me.useEffect(()=>{v(null)},[P]);const de=Se=>{R(Se)},xe=Me.useCallback(async Se=>{S("modules"),t(Se);const _e=is.find(U=>U.id===Se)||null;if(y(_e),l([]),_e&&!P){p(!0);const U=await pc(_e.title,_e.geminiPromptSeed);U?(v(U),l(G=>[...G,{id:Date.now().toString(),role:pt.ERROR,text:`Error initializing AI assistant for this module: ${U}`,timestamp:new Date}])):(v(null),l([{id:Date.now().toString(),role:pt.MODEL,text:`Hello! I'm ready to discuss "${_e.title}". Ask me anything about this topic.`,timestamp:new Date}])),p(!1)}},[P]);Me.useEffect(()=>{if(x==="achievements")return;const Se=is.find(_e=>_e.level==="Beginner");!e&&!h&&!P&&(Se?xe(Se.id):(async()=>{p(!0);const U=await pc("General Blockchain Topics");U?(v(U),l([{id:Date.now().toString(),role:pt.ERROR,text:`Error initializing AI assistant: ${U}`,timestamp:new Date}])):(v(null),l([{id:Date.now().toString(),role:pt.MODEL,text:"Welcome! Select a module or ask me any general questions about Solidity and Blockchain.",timestamp:new Date}])),p(!1)})())},[P,e,h,xe,x]);const ae=async Se=>{if(!Se.trim())return;const _e={id:Date.now().toString(),role:pt.USER,text:Se,timestamp:new Date};l(U=>[...U,_e]),p(!0);try{const U=await DA(Se),G={id:(Date.now()+1).toString(),role:U.startsWith("Error:")||U.startsWith("Gemini AI Service not initialized")?pt.ERROR:pt.MODEL,text:U,timestamp:new Date};l(te=>[...te,G])}catch(U){console.error("Failed to send message:",U);const G={id:(Date.now()+1).toString(),role:pt.ERROR,text:"An unexpected error occurred. Please try again.",timestamp:new Date};l(te=>[...te,G])}finally{p(!1)}},me=()=>{S("achievements"),t(null),y(null),l([])},Ge=Se=>{Se.preventDefault(),J.current=!0,F.current=Se.clientY,oe.current=H,document.body.style.cursor="ns-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",$e),window.addEventListener("mouseup",yt)},$e=Se=>{if(!J.current||!Y.current)return;const _e=Se.clientY-F.current;let U=oe.current-_e;const G=Y.current.clientHeight,te=10,Ee=G*.85-te;U<Xu&&(U=Xu),U>Ee&&Ee>Xu?U=Ee:U>Ee&&(U=G-te-20),K(U)},yt=()=>{J.current&&(J.current=!1,document.body.style.cursor="default",document.body.style.userSelect="auto",window.removeEventListener("mousemove",$e),window.removeEventListener("mouseup",yt))};return Me.useEffect(()=>()=>{J.current&&yt()},[]),A.jsxs("div",{className:"flex flex-col md:flex-row h-screen max-h-screen antialiased text-brand-text-primary bg-brand-bg-dark",children:[A.jsx(zT,{modules:is,selectedModuleId:e,onSelectModule:xe,completedModuleIds:w}),A.jsxs("main",{className:"flex-1 flex flex-col p-4 gap-4 overflow-hidden bg-brand-bg-dark",children:[A.jsxs("div",{className:"flex justify-between items-center flex-shrink-0",children:[g&&!h&&x==="modules"&&A.jsxs("div",{className:"p-3 bg-red-700/80 border border-red-500 text-white rounded-md flex items-center gap-2 shadow-lg text-sm",children:[A.jsx(vs,{className:"w-6 h-6 text-red-300 shrink-0"}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-semibold text-xs",children:"AI Assistant Config Error"}),A.jsx("p",{className:"text-xs text-red-100",children:g})]})]}),A.jsxs("div",{className:"ml-auto flex items-center space-x-3",children:[A.jsx("button",{onClick:me,className:"px-4 py-2 bg-brand-accent hover:bg-violet-500 text-white text-sm rounded-md transition-colors","aria-label":"View my achievements",children:"My Achievements"}),A.jsx("button",{onClick:L,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm rounded-md transition-colors","aria-label":"Reset all learning progress",children:"Reset Progress"}),A.jsx("button",{onClick:()=>s&&s(),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded-md transition-colors","aria-label":"Logout",children:"Logout"})]})]}),x==="modules"&&A.jsxs("div",{ref:Y,className:"flex-1 flex flex-col overflow-hidden rounded-lg bg-brand-surface-2 shadow-md",children:[A.jsx("div",{className:"flex-grow overflow-y-auto scrollbar-thin scrollbar-thumb-brand-bg-light scrollbar-track-brand-surface-1",children:A.jsx(mM,{module:h,isApiKeyMissing:P,onQuizComplete:de})}),A.jsx("div",{onMouseDown:Ge,className:"h-2.5 bg-brand-bg-medium hover:bg-brand-primary cursor-ns-resize w-full flex-shrink-0 border-t border-b border-brand-bg-dark flex items-center justify-center","aria-label":"Resize chat panel",role:"separator","aria-orientation":"horizontal",children:A.jsx("div",{className:"w-10 h-1 bg-brand-text-muted rounded-full opacity-50 group-hover:opacity-100"})}),A.jsx("div",{className:"flex-shrink-0 bg-brand-surface-2",style:{height:`${H}px`},children:A.jsx(vM,{chatMessages:o,onSendMessage:ae,isLoading:u,currentModuleTitle:(h==null?void 0:h.title)||"General Topics"})})]}),x==="achievements"&&A.jsx("div",{className:"flex-grow overflow-y-auto rounded-lg shadow-lg bg-brand-surface-2 text-brand-text-secondary scrollbar-thin scrollbar-thumb-brand-bg-light scrollbar-track-brand-surface-1 p-6 md:p-8",children:A.jsx(xM,{completedModuleIds:w,allModules:is,onSwitchToModulesView:()=>S("modules")})})]})]})},ey=document.getElementById("root");if(!ey)throw new Error("Could not find root element to mount to");document.body.className="app-body bg-brand-bg-dark text-brand-text-primary";const _M=VT.createRoot(ey);_M.render(A.jsx(RT.StrictMode,{children:A.jsx(bM,{})}));
